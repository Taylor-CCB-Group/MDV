self.onmessage=function(a){void 0!==a.data.length&&"string"!=typeof a.data&&self.postMessage(function(a){const t=new("int32"===a.data[2][1]?Int32Array:Float32Array)(a.data[2][0]),n=a.data[3],e=(n.max-n.min)/n.bins,r=n.max,i=n.min,o=t.length,s=new Array(n.bins+1).fill(0),l=new Uint8Array(a.data[0]),f=new Uint8Array(a.data[1]);for(let a=0;a<o;a++){if(0!==f[a]&&f[a]!==l[a])continue;let n=t[a];n=n>r?r:n<i?i:n,s[Math.floor((n-i)/e)]++}return s}(a))};