(function(){"use strict";function Z(n,r){return n==null||r==null?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function Zn(n,r){return n==null||r==null?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function Nn(n){let r,t,e;n.length!==2?(r=Z,t=(u,c)=>Z(n(u),c),e=(u,c)=>n(u)-c):(r=n===Z||n===Zn?n:Jn,t=n,e=n);function i(u,c,a=0,l=u.length){if(a<l){if(r(c,c)!==0)return l;do{const h=a+l>>>1;t(u[h],c)<0?a=h+1:l=h}while(a<l)}return a}function f(u,c,a=0,l=u.length){if(a<l){if(r(c,c)!==0)return l;do{const h=a+l>>>1;t(u[h],c)<=0?a=h+1:l=h}while(a<l)}return a}function o(u,c,a=0,l=u.length){const h=i(u,c,a,l-1);return h>a&&e(u[h-1],c)>-e(u[h],c)?h-1:h}return{left:i,center:o,right:f}}function Jn(){return 0}function Kn(n){return n===null?NaN:+n}const Qn=Nn(Z).right;Nn(Kn).center;const _n=nr(rr);function nr(n){return function(r,t,e=t){if(!((t=+t)>=0))throw new RangeError("invalid rx");if(!((e=+e)>=0))throw new RangeError("invalid ry");let{data:i,width:f,height:o}=r;if(!((f=Math.floor(f))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/f))>=0))throw new RangeError("invalid height");if(!f||!o||!t&&!e)return r;const u=t&&n(t),c=e&&n(e),a=i.slice();return u&&c?(B(u,a,i,f,o),B(u,i,a,f,o),B(u,a,i,f,o),D(c,i,a,f,o),D(c,a,i,f,o),D(c,i,a,f,o)):u?(B(u,i,a,f,o),B(u,a,i,f,o),B(u,i,a,f,o)):c&&(D(c,i,a,f,o),D(c,a,i,f,o),D(c,i,a,f,o)),r}}function B(n,r,t,e,i){for(let f=0,o=e*i;f<o;)n(r,t,f,f+=e,1)}function D(n,r,t,e,i){for(let f=0,o=e*i;f<e;++f)n(r,t,f,f+o,e)}function rr(n){const r=Math.floor(n);if(r===n)return tr(n);const t=n-r,e=2*n+1;return(i,f,o,u,c)=>{if(!((u-=c)>=o))return;let a=r*f[o];const l=c*r,h=l+c;for(let s=o,x=o+l;s<x;s+=c)a+=f[Math.min(u,s)];for(let s=o,x=u;s<=x;s+=c)a+=f[Math.min(u,s+l)],i[s]=(a+t*(f[Math.max(o,s-h)]+f[Math.min(u,s+h)]))/e,a-=f[Math.max(o,s-l)]}}function tr(n){const r=2*n+1;return(t,e,i,f,o)=>{if(!((f-=o)>=i))return;let u=n*e[i];const c=o*n;for(let a=i,l=i+c;a<l;a+=o)u+=e[Math.min(f,a)];for(let a=i,l=f;a<=l;a+=o)u+=e[Math.min(f,a+c)],t[a]=u/r,u-=e[Math.max(i,a-c)]}}function er(n,r){let t=0;for(let e of n)e!=null&&(e=+e)>=e&&++t;return t}function ir(n,r){let t,e;if(r===void 0)for(const i of n)i!=null&&(t===void 0?i>=i&&(t=e=i):(t>i&&(t=i),e<i&&(e=i)));else{let i=-1;for(let f of n)(f=r(f,++i,n))!=null&&(t===void 0?f>=f&&(t=e=f):(t>f&&(t=f),e<f&&(e=f)))}return[t,e]}const fr=Math.sqrt(50),ar=Math.sqrt(10),or=Math.sqrt(2);function J(n,r,t){const e=(r-n)/Math.max(0,t),i=Math.floor(Math.log10(e)),f=e/Math.pow(10,i),o=f>=fr?10:f>=ar?5:f>=or?2:1;let u,c,a;return i<0?(a=Math.pow(10,-i)/o,u=Math.round(n*a),c=Math.round(r*a),u/a<n&&++u,c/a>r&&--c,a=-a):(a=Math.pow(10,i)*o,u=Math.round(n/a),c=Math.round(r/a),u*a<n&&++u,c*a>r&&--c),c<u&&.5<=t&&t<2?J(n,r,t*2):[u,c,a]}function ln(n,r,t){if(r=+r,n=+n,t=+t,!(t>0))return[];if(n===r)return[n];const e=r<n,[i,f,o]=e?J(r,n,t):J(n,r,t);if(!(f>=i))return[];const u=f-i+1,c=new Array(u);if(e)if(o<0)for(let a=0;a<u;++a)c[a]=(f-a)/-o;else for(let a=0;a<u;++a)c[a]=(f-a)*o;else if(o<0)for(let a=0;a<u;++a)c[a]=(i+a)/-o;else for(let a=0;a<u;++a)c[a]=(i+a)*o;return c}function K(n,r,t){return r=+r,n=+n,t=+t,J(n,r,t)[2]}function ur(n,r,t){r=+r,n=+n,t=+t;const e=r<n,i=e?K(r,n,t):K(n,r,t);return(e?-1:1)*(i<0?1/-i:i)}function cr(n,r,t){let e;for(;;){const i=K(n,r,t);if(i===e||i===0||!isFinite(i))return[n,r];i>0?(n=Math.floor(n/i)*i,r=Math.ceil(r/i)*i):i<0&&(n=Math.ceil(n*i)/i,r=Math.floor(r*i)/i),e=i}}function lr(n){return Math.max(1,Math.ceil(Math.log(er(n))/Math.LN2)+1)}function vn(n,r){let t;for(const e of n)e!=null&&(t<e||t===void 0&&e>=e)&&(t=e);return t}var sr=Array.prototype,$n=sr.slice;function hr(n,r){return n-r}function dr(n){for(var r=0,t=n.length,e=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++r<t;)e+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return e}var S=n=>()=>n;function gr(n,r){for(var t=-1,e=r.length,i;++t<e;)if(i=mr(n,r[t]))return i;return 0}function mr(n,r){for(var t=r[0],e=r[1],i=-1,f=0,o=n.length,u=o-1;f<o;u=f++){var c=n[f],a=c[0],l=c[1],h=n[u],s=h[0],x=h[1];if(xr(c,h,r))return 0;l>e!=x>e&&t<(s-a)*(e-l)/(x-l)+a&&(i=-i)}return i}function xr(n,r,t){var e;return yr(n,r,t)&&wr(n[e=+(n[0]===r[0])],t[e],r[e])}function yr(n,r,t){return(r[0]-n[0])*(t[1]-n[1])===(t[0]-n[0])*(r[1]-n[1])}function wr(n,r,t){return n<=r&&r<=t||t<=r&&r<=n}function br(){}var j=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function kn(){var n=1,r=1,t=lr,e=c;function i(a){var l=t(a);if(Array.isArray(l))l=l.slice().sort(hr);else{const h=ir(a,pr);for(l=ln(...cr(h[0],h[1],l),l);l[l.length-1]>=h[1];)l.pop();for(;l[1]<h[0];)l.shift()}return l.map(h=>f(a,h))}function f(a,l){const h=l==null?NaN:+l;if(isNaN(h))throw new Error(`invalid value: ${l}`);var s=[],x=[];return o(a,h,function(m){e(m,a,h),dr(m)>0?s.push([m]):x.push(m)}),x.forEach(function(m){for(var p=0,v=s.length,b;p<v;++p)if(gr((b=s[p])[0],m)!==-1){b.push(m);return}}),{type:"MultiPolygon",value:l,coordinates:s}}function o(a,l,h){var s=new Array,x=new Array,m,p,v,b,d,w;for(m=p=-1,b=q(a[0],l),j[b<<1].forEach(M);++m<n-1;)v=b,b=q(a[m+1],l),j[v|b<<1].forEach(M);for(j[b<<0].forEach(M);++p<r-1;){for(m=-1,b=q(a[p*n+n],l),d=q(a[p*n],l),j[b<<1|d<<2].forEach(M);++m<n-1;)v=b,b=q(a[p*n+n+m+1],l),w=d,d=q(a[p*n+m+1],l),j[v|b<<1|d<<2|w<<3].forEach(M);j[b|d<<3].forEach(M)}for(m=-1,d=a[p*n]>=l,j[d<<2].forEach(M);++m<n-1;)w=d,d=q(a[p*n+m+1],l),j[d<<2|w<<3].forEach(M);j[d<<3].forEach(M);function M(N){var k=[N[0][0]+m,N[0][1]+p],$=[N[1][0]+m,N[1][1]+p],A=u(k),z=u($),y,g;(y=x[A])?(g=s[z])?(delete x[y.end],delete s[g.start],y===g?(y.ring.push($),h(y.ring)):s[y.start]=x[g.end]={start:y.start,end:g.end,ring:y.ring.concat(g.ring)}):(delete x[y.end],y.ring.push($),x[y.end=z]=y):(y=s[z])?(g=x[A])?(delete s[y.start],delete x[g.end],y===g?(y.ring.push($),h(y.ring)):s[g.start]=x[y.end]={start:g.start,end:y.end,ring:g.ring.concat(y.ring)}):(delete s[y.start],y.ring.unshift(k),s[y.start=A]=y):s[A]=x[z]={start:A,end:z,ring:[k,$]}}}function u(a){return a[0]*2+a[1]*(n+1)*4}function c(a,l,h){a.forEach(function(s){var x=s[0],m=s[1],p=x|0,v=m|0,b=sn(l[v*n+p]);x>0&&x<n&&p===x&&(s[0]=An(x,sn(l[v*n+p-1]),b,h)),m>0&&m<r&&v===m&&(s[1]=An(m,sn(l[(v-1)*n+p]),b,h))})}return i.contour=f,i.size=function(a){if(!arguments.length)return[n,r];var l=Math.floor(a[0]),h=Math.floor(a[1]);if(!(l>=0&&h>=0))throw new Error("invalid size");return n=l,r=h,i},i.thresholds=function(a){return arguments.length?(t=typeof a=="function"?a:Array.isArray(a)?S($n.call(a)):S(a),i):t},i.smooth=function(a){return arguments.length?(e=a?c:br,i):e===c},i}function pr(n){return isFinite(n)?n:NaN}function q(n,r){return n==null?!1:+n>=r}function sn(n){return n==null||isNaN(n=+n)?-1/0:n}function An(n,r,t,e){const i=e-r,f=t-r,o=isFinite(i)||isFinite(f)?i/f:Math.sign(i)/Math.sign(f);return isNaN(o)?n:n+o-.5}function Mr(n){return n[0]}function Nr(n){return n[1]}function vr(){return 1}function $r(){var n=Mr,r=Nr,t=vr,e=960,i=500,f=20,o=2,u=f*3,c=e+u*2>>o,a=i+u*2>>o,l=S(20);function h(d){var w=new Float32Array(c*a),M=Math.pow(2,-o),N=-1;for(const E of d){var k=(n(E,++N,d)+u)*M,$=(r(E,N,d)+u)*M,A=+t(E,N,d);if(A&&k>=0&&k<c&&$>=0&&$<a){var z=Math.floor(k),y=Math.floor($),g=k-z-.5,P=$-y-.5;w[z+y*c]+=(1-g)*(1-P)*A,w[z+1+y*c]+=g*(1-P)*A,w[z+1+(y+1)*c]+=g*P*A,w[z+(y+1)*c]+=(1-g)*P*A}}return _n({data:w,width:c,height:a},f*M),w}function s(d){var w=h(d),M=l(w),N=Math.pow(2,2*o);return Array.isArray(M)||(M=ln(Number.MIN_VALUE,vn(w)/N,M)),kn().size([c,a]).thresholds(M.map(k=>k*N))(w).map((k,$)=>(k.value=+M[$],x(k)))}s.contours=function(d){var w=h(d),M=kn().size([c,a]),N=Math.pow(2,2*o),k=$=>{$=+$;var A=x(M.contour(w,$*N));return A.value=$,A};return Object.defineProperty(k,"max",{get:()=>vn(w)/N}),k};function x(d){return d.coordinates.forEach(m),d}function m(d){d.forEach(p)}function p(d){d.forEach(v)}function v(d){d[0]=d[0]*Math.pow(2,o)-u,d[1]=d[1]*Math.pow(2,o)-u}function b(){return u=f*3,c=e+u*2>>o,a=i+u*2>>o,s}return s.x=function(d){return arguments.length?(n=typeof d=="function"?d:S(+d),s):n},s.y=function(d){return arguments.length?(r=typeof d=="function"?d:S(+d),s):r},s.weight=function(d){return arguments.length?(t=typeof d=="function"?d:S(+d),s):t},s.size=function(d){if(!arguments.length)return[e,i];var w=+d[0],M=+d[1];if(!(w>=0&&M>=0))throw new Error("invalid size");return e=w,i=M,b()},s.cellSize=function(d){if(!arguments.length)return 1<<o;if(!((d=+d)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(d)/Math.LN2),b()},s.thresholds=function(d){return arguments.length?(l=typeof d=="function"?d:Array.isArray(d)?S($n.call(d)):S(d),s):l},s.bandwidth=function(d){if(!arguments.length)return Math.sqrt(f*(f+1));if(!((d=+d)>=0))throw new Error("invalid bandwidth");return f=(Math.sqrt(4*d*d+1)-1)/2,b()},s}function kr(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function hn(n,r,t){n.prototype=r.prototype=t,t.constructor=n}function En(n,r){var t=Object.create(n.prototype);for(var e in r)t[e]=r[e];return t}function V(){}var X=.7,Q=1/X,O="\\s*([+-]?\\d+)\\s*",Y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",I="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ar=/^#([0-9a-f]{3,8})$/,Er=new RegExp(`^rgb\\(${O},${O},${O}\\)$`),Rr=new RegExp(`^rgb\\(${I},${I},${I}\\)$`),zr=new RegExp(`^rgba\\(${O},${O},${O},${Y}\\)$`),Pr=new RegExp(`^rgba\\(${I},${I},${I},${Y}\\)$`),Hr=new RegExp(`^hsl\\(${Y},${I},${I}\\)$`),Ir=new RegExp(`^hsla\\(${Y},${I},${I},${Y}\\)$`),Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hn(V,W,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:jr,formatHsl:Fr,formatRgb:Pn,toString:Pn});function zn(){return this.rgb().formatHex()}function jr(){return this.rgb().formatHex8()}function Fr(){return Sn(this).formatHsl()}function Pn(){return this.rgb().formatRgb()}function W(n){var r,t;return n=(n+"").trim().toLowerCase(),(r=Ar.exec(n))?(t=r[1].length,r=parseInt(r[1],16),t===6?Hn(r):t===3?new R(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?_(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?_(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Er.exec(n))?new R(r[1],r[2],r[3],1):(r=Rr.exec(n))?new R(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=zr.exec(n))?_(r[1],r[2],r[3],r[4]):(r=Pr.exec(n))?_(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Hr.exec(n))?Fn(r[1],r[2]/100,r[3]/100,1):(r=Ir.exec(n))?Fn(r[1],r[2]/100,r[3]/100,r[4]):Rn.hasOwnProperty(n)?Hn(Rn[n]):n==="transparent"?new R(NaN,NaN,NaN,0):null}function Hn(n){return new R(n>>16&255,n>>8&255,n&255,1)}function _(n,r,t,e){return e<=0&&(n=r=t=NaN),new R(n,r,t,e)}function Sr(n){return n instanceof V||(n=W(n)),n?(n=n.rgb(),new R(n.r,n.g,n.b,n.opacity)):new R}function dn(n,r,t,e){return arguments.length===1?Sr(n):new R(n,r,t,e??1)}function R(n,r,t,e){this.r=+n,this.g=+r,this.b=+t,this.opacity=+e}hn(R,dn,En(V,{brighter(n){return n=n==null?Q:Math.pow(Q,n),new R(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?X:Math.pow(X,n),new R(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new R(C(this.r),C(this.g),C(this.b),nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatHex8:qr,formatRgb:jn,toString:jn}));function In(){return`#${L(this.r)}${L(this.g)}${L(this.b)}`}function qr(){return`#${L(this.r)}${L(this.g)}${L(this.b)}${L((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const n=nn(this.opacity);return`${n===1?"rgb(":"rgba("}${C(this.r)}, ${C(this.g)}, ${C(this.b)}${n===1?")":`, ${n})`}`}function nn(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function C(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function L(n){return n=C(n),(n<16?"0":"")+n.toString(16)}function Fn(n,r,t,e){return e<=0?n=r=t=NaN:t<=0||t>=1?n=r=NaN:r<=0&&(n=NaN),new H(n,r,t,e)}function Sn(n){if(n instanceof H)return new H(n.h,n.s,n.l,n.opacity);if(n instanceof V||(n=W(n)),!n)return new H;if(n instanceof H)return n;n=n.rgb();var r=n.r/255,t=n.g/255,e=n.b/255,i=Math.min(r,t,e),f=Math.max(r,t,e),o=NaN,u=f-i,c=(f+i)/2;return u?(r===f?o=(t-e)/u+(t<e)*6:t===f?o=(e-r)/u+2:o=(r-t)/u+4,u/=c<.5?f+i:2-f-i,o*=60):u=c>0&&c<1?0:o,new H(o,u,c,n.opacity)}function Cr(n,r,t,e){return arguments.length===1?Sn(n):new H(n,r,t,e??1)}function H(n,r,t,e){this.h=+n,this.s=+r,this.l=+t,this.opacity=+e}hn(H,Cr,En(V,{brighter(n){return n=n==null?Q:Math.pow(Q,n),new H(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?X:Math.pow(X,n),new H(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,r=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,e=t+(t<.5?t:1-t)*r,i=2*t-e;return new R(gn(n>=240?n-240:n+120,i,e),gn(n,i,e),gn(n<120?n+240:n-120,i,e),this.opacity)},clamp(){return new H(qn(this.h),rn(this.s),rn(this.l),nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=nn(this.opacity);return`${n===1?"hsl(":"hsla("}${qn(this.h)}, ${rn(this.s)*100}%, ${rn(this.l)*100}%${n===1?")":`, ${n})`}`}}));function qn(n){return n=(n||0)%360,n<0?n+360:n}function rn(n){return Math.max(0,Math.min(1,n||0))}function gn(n,r,t){return(n<60?r+(t-r)*n/60:n<180?t:n<240?r+(t-r)*(240-n)/60:r)*255}var mn=n=>()=>n;function Lr(n,r){return function(t){return n+t*r}}function Br(n,r,t){return n=Math.pow(n,t),r=Math.pow(r,t)-n,t=1/t,function(e){return Math.pow(n+e*r,t)}}function Dr(n){return(n=+n)==1?Cn:function(r,t){return t-r?Br(r,t,n):mn(isNaN(r)?t:r)}}function Cn(n,r){var t=r-n;return t?Lr(n,t):mn(isNaN(n)?r:n)}var Ln=function n(r){var t=Dr(r);function e(i,f){var o=t((i=dn(i)).r,(f=dn(f)).r),u=t(i.g,f.g),c=t(i.b,f.b),a=Cn(i.opacity,f.opacity);return function(l){return i.r=o(l),i.g=u(l),i.b=c(l),i.opacity=a(l),i+""}}return e.gamma=n,e}(1);function Or(n,r){r||(r=[]);var t=n?Math.min(r.length,n.length):0,e=r.slice(),i;return function(f){for(i=0;i<t;++i)e[i]=n[i]*(1-f)+r[i]*f;return e}}function Tr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ur(n,r){var t=r?r.length:0,e=n?Math.min(t,n.length):0,i=new Array(e),f=new Array(t),o;for(o=0;o<e;++o)i[o]=wn(n[o],r[o]);for(;o<t;++o)f[o]=r[o];return function(u){for(o=0;o<e;++o)f[o]=i[o](u);return f}}function Gr(n,r){var t=new Date;return n=+n,r=+r,function(e){return t.setTime(n*(1-e)+r*e),t}}function tn(n,r){return n=+n,r=+r,function(t){return n*(1-t)+r*t}}function Vr(n,r){var t={},e={},i;(n===null||typeof n!="object")&&(n={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in n?t[i]=wn(n[i],r[i]):e[i]=r[i];return function(f){for(i in t)e[i]=t[i](f);return e}}var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(xn.source,"g");function Xr(n){return function(){return n}}function Yr(n){return function(r){return n(r)+""}}function Wr(n,r){var t=xn.lastIndex=yn.lastIndex=0,e,i,f,o=-1,u=[],c=[];for(n=n+"",r=r+"";(e=xn.exec(n))&&(i=yn.exec(r));)(f=i.index)>t&&(f=r.slice(t,f),u[o]?u[o]+=f:u[++o]=f),(e=e[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:tn(e,i)})),t=yn.lastIndex;return t<r.length&&(f=r.slice(t),u[o]?u[o]+=f:u[++o]=f),u.length<2?c[0]?Yr(c[0].x):Xr(r):(r=c.length,function(a){for(var l=0,h;l<r;++l)u[(h=c[l]).i]=h.x(a);return u.join("")})}function wn(n,r){var t=typeof r,e;return r==null||t==="boolean"?mn(r):(t==="number"?tn:t==="string"?(e=W(r))?(r=e,Ln):Wr:r instanceof W?Ln:r instanceof Date?Gr:Tr(r)?Or:Array.isArray(r)?Ur:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Vr:tn)(n,r)}function Zr(n,r){return n=+n,r=+r,function(t){return Math.round(n*(1-t)+r*t)}}function Jr(n){return function(){return n}}function Kr(n){return+n}var Bn=[0,1];function T(n){return n}function bn(n,r){return(r-=n=+n)?function(t){return(t-n)/r}:Jr(isNaN(r)?NaN:.5)}function Qr(n,r){var t;return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function _r(n,r,t){var e=n[0],i=n[1],f=r[0],o=r[1];return i<e?(e=bn(i,e),f=t(o,f)):(e=bn(e,i),f=t(f,o)),function(u){return f(e(u))}}function nt(n,r,t){var e=Math.min(n.length,r.length)-1,i=new Array(e),f=new Array(e),o=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++o<e;)i[o]=bn(n[o],n[o+1]),f[o]=t(r[o],r[o+1]);return function(u){var c=Qn(n,u,1,e)-1;return f[c](i[c](u))}}function rt(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function tt(){var n=Bn,r=Bn,t=wn,e,i,f,o=T,u,c,a;function l(){var s=Math.min(n.length,r.length);return o!==T&&(o=Qr(n[0],n[s-1])),u=s>2?nt:_r,c=a=null,h}function h(s){return s==null||isNaN(s=+s)?f:(c||(c=u(n.map(e),r,t)))(e(o(s)))}return h.invert=function(s){return o(i((a||(a=u(r,n.map(e),tn)))(s)))},h.domain=function(s){return arguments.length?(n=Array.from(s,Kr),l()):n.slice()},h.range=function(s){return arguments.length?(r=Array.from(s),l()):r.slice()},h.rangeRound=function(s){return r=Array.from(s),t=Zr,l()},h.clamp=function(s){return arguments.length?(o=s?!0:T,l()):o!==T},h.interpolate=function(s){return arguments.length?(t=s,l()):t},h.unknown=function(s){return arguments.length?(f=s,h):f},function(s,x){return e=s,i=x,l()}}function et(){return tt()(T,T)}function it(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function en(n,r){if((t=(n=r?n.toExponential(r-1):n.toExponential()).indexOf("e"))<0)return null;var t,e=n.slice(0,t);return[e.length>1?e[0]+e.slice(2):e,+n.slice(t+1)]}function U(n){return n=en(Math.abs(n)),n?n[1]:NaN}function ft(n,r){return function(t,e){for(var i=t.length,f=[],o=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>e&&(u=Math.max(1,e-c)),f.push(t.substring(i-=u,i+u)),!((c+=u+1)>e));)u=n[o=(o+1)%n.length];return f.reverse().join(r)}}function at(n){return function(r){return r.replace(/[0-9]/g,function(t){return n[+t]})}}var ot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fn(n){if(!(r=ot.exec(n)))throw new Error("invalid format: "+n);var r;return new pn({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}fn.prototype=pn.prototype;function pn(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}pn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ut(n){n:for(var r=n.length,t=1,e=-1,i;t<r;++t)switch(n[t]){case".":e=i=t;break;case"0":e===0&&(e=t),i=t;break;default:if(!+n[t])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Dn;function ct(n,r){var t=en(n,r);if(!t)return n+"";var e=t[0],i=t[1],f=i-(Dn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=e.length;return f===o?e:f>o?e+new Array(f-o+1).join("0"):f>0?e.slice(0,f)+"."+e.slice(f):"0."+new Array(1-f).join("0")+en(n,Math.max(0,r+f-1))[0]}function On(n,r){var t=en(n,r);if(!t)return n+"";var e=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}var Tn={"%":(n,r)=>(n*100).toFixed(r),b:n=>Math.round(n).toString(2),c:n=>n+"",d:it,e:(n,r)=>n.toExponential(r),f:(n,r)=>n.toFixed(r),g:(n,r)=>n.toPrecision(r),o:n=>Math.round(n).toString(8),p:(n,r)=>On(n*100,r),r:On,s:ct,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Un(n){return n}var Gn=Array.prototype.map,Vn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lt(n){var r=n.grouping===void 0||n.thousands===void 0?Un:ft(Gn.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",f=n.numerals===void 0?Un:at(Gn.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function a(h){h=fn(h);var s=h.fill,x=h.align,m=h.sign,p=h.symbol,v=h.zero,b=h.width,d=h.comma,w=h.precision,M=h.trim,N=h.type;N==="n"?(d=!0,N="g"):Tn[N]||(w===void 0&&(w=12),M=!0,N="g"),(v||s==="0"&&x==="=")&&(v=!0,s="0",x="=");var k=p==="$"?t:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",$=p==="$"?e:/[%p]/.test(N)?o:"",A=Tn[N],z=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function y(g){var P=k,E=$,G,Wn,on;if(N==="c")E=A(g)+E,g="";else{g=+g;var un=g<0||1/g<0;if(g=isNaN(g)?c:A(Math.abs(g),w),M&&(g=ut(g)),un&&+g==0&&m!=="+"&&(un=!1),P=(un?m==="("?m:u:m==="-"||m==="("?"":m)+P,E=(N==="s"?Vn[8+Dn/3]:"")+E+(un&&m==="("?")":""),z){for(G=-1,Wn=g.length;++G<Wn;)if(on=g.charCodeAt(G),48>on||on>57){E=(on===46?i+g.slice(G+1):g.slice(G))+E,g=g.slice(0,G);break}}}d&&!v&&(g=r(g,1/0));var cn=P.length+g.length+E.length,F=cn<b?new Array(b-cn+1).join(s):"";switch(d&&v&&(g=r(F+g,F.length?b-E.length:1/0),F=""),x){case"<":g=P+g+E+F;break;case"=":g=P+F+g+E;break;case"^":g=F.slice(0,cn=F.length>>1)+P+g+E+F.slice(cn);break;default:g=F+P+g+E;break}return f(g)}return y.toString=function(){return h+""},y}function l(h,s){var x=a((h=fn(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(U(s)/3)))*3,p=Math.pow(10,-m),v=Vn[8+m/3];return function(b){return x(p*b)+v}}return{format:a,formatPrefix:l}}var an,Xn,Yn;st({thousands:",",grouping:[3],currency:["$",""]});function st(n){return an=lt(n),Xn=an.format,Yn=an.formatPrefix,an}function ht(n){return Math.max(0,-U(Math.abs(n)))}function dt(n,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(U(r)/3)))*3-U(Math.abs(n)))}function gt(n,r){return n=Math.abs(n),r=Math.abs(r)-n,Math.max(0,U(r)-U(n))+1}function mt(n,r,t,e){var i=ur(n,r,t),f;switch(e=fn(e??",f"),e.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(r));return e.precision==null&&!isNaN(f=dt(i,o))&&(e.precision=f),Yn(e,o)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(f=gt(i,Math.max(Math.abs(n),Math.abs(r))))&&(e.precision=f-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(f=ht(i))&&(e.precision=f-(e.type==="%")*2);break}}return Xn(e)}function xt(n){var r=n.domain;return n.ticks=function(t){var e=r();return ln(e[0],e[e.length-1],t??10)},n.tickFormat=function(t,e){var i=r();return mt(i[0],i[i.length-1],t??10,e)},n.nice=function(t){t==null&&(t=10);var e=r(),i=0,f=e.length-1,o=e[i],u=e[f],c,a,l=10;for(u<o&&(a=o,o=u,u=a,a=i,i=f,f=a);l-- >0;){if(a=K(o,u,t),a===c)return e[i]=o,e[f]=u,r(e);if(a>0)o=Math.floor(o/a)*a,u=Math.ceil(u/a)*a;else if(a<0)o=Math.ceil(o*a)/a,u=Math.floor(u*a)/a;else break;c=a}return n},n}function Mn(){var n=et();return n.copy=function(){return rt(n,Mn())},kr.apply(n,arguments),xt(n)}onmessage=n=>{const r=n.data[5],t=new Uint8Array(n.data[4]),e=n.data[3][1]==="int32"?new Int32Array(n.data[3][0]):new Float32Array(n.data[3][0]),i=n.data[2][1]==="int32"?new Int32Array(n.data[2][0]):new Float32Array(n.data[2][0]),f=new Uint8Array(n.data[0]),o=new Uint8Array(n.data[1]),u=r.yscale[1][1],c=Mn().domain(r.yscale[0]).range(r.yscale[1]),a=Mn().domain(r.xscale[0]).range(r.xscale[1]);function l(s){return $r().x((x,m)=>a(i[m])).y((x,m)=>c(e[m])).weight((x,m)=>f[m]===2||o[m]!==0&&o[m]!==f[m]||t[m]!==s?0:1).size([r.xscale[1][1],u]).bandwidth(r.bandwidth)(o)}const h=[];for(const s of r.categories)s===-1?h.push(null):h.push(l(s));postMessage(h)}})();
//# sourceMappingURL=densityWorker-CfexsIos.js.map
