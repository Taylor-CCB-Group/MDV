(()=>{"use strict";self.onmessage=function(n){self.postMessage(function(n){const t=new("int32"===n.data[2][1]?Int32Array:Float32Array)(n.data[2][0]),a=n.data[3],e=(a.max-a.min)/a.bins,r=a.max,i=a.min,s=t.length,o=new Array(a.bins+1).fill(0),l=new Uint8Array(n.data[0]),f=new Uint8Array(n.data[1]);for(let n=0;n<s;n++){if(0!==f[n]&&f[n]!==l[n])continue;let a=t[n];a=a>r?r:a<i?i:a,o[Math.floor((a-i)/e)]++}return o}(n))}})();