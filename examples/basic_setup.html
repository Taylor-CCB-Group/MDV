<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ciview2</title>
    <style>
      body{
        background:lightgrey;
        height:100%;
        width:100%;
        margin:0px;
      }

      html{
        height:100%;
        width:100%;
      }
      .all{
        height:100%;
        width:100%;
      }
    
    </style>
  </head>
  <body>


<div id="app1" class="all"></div>



<script src="../dist/ciview2.js"></script>
<script>
    //dataSources, dataLoader and config would normally be fetched from the server and 
    //not hard coded

    //single dataSource 'cells'
    const dataSources=[{
        size:384, //number of rows
        name:"cells", //name given here must be consistent with that in config and dataLoader
        //columns have:-
        //*datatype* - can be integer, double , text(less than 257 categories)
        //or unique (>256 categories e.g barcode)
        //*field* - this is how the column is referenced -in csv and tsv files it must
        //correspond to the headers or be the keys in a json file
        //*name* - the column label shown to the user - if no field parameter is present 
        //then the field will take on the same value as the name (as below)
        columns:[
        {
            "name":"cells",
            "datatype":"unique"
        },
            {
            "name":"Sample",
            "datatype":"text"
        },
                {
            "name":"cell_types",
            "datatype":"text"
        },
                {
            "name":"highLow_runs",
            "datatype":"text"
        },
        {
            "name":"IterativeLSI_UMAP1",
            "datatype":"double"
        },
        {
            "name":"IterativeLSI_UMAP2",
            "datatype":"double"
        },
        {
            "name":"Clusters",
            "datatype":"text"
        }]
    }];

    //simple dataLoader - from a csv file
    const dataLoader = {
        url:"data/testing.umap.cellData.csv", //url of file
        dataSource:"cells", //datasource (as specified above)
        type:"csv" //can be tsv,csv or json
    } ;

     //config -just describes which initial charts to show
    const config={
        initialCharts:{
            "cells":[
            {
                type:"wgl_scatter_plot",
                param:["IterativeLSI_UMAP1","IterativeLSI_UMAP2"],
                color_by:"Clusters",
                size:[400,600],
                position:[10,10]
            },
            {
                type:"row_chart",
                param:"Clusters",
                id:"my-clusters",
                size:[200,390],
                position:[420,220],
            },
            { 
                
                type:"text_box_chart",
                title:"Welcome",
                size:[200,200],
                position:[420,10],
                text:"Wlecome To ciview2"
            }
            ]
        }
    };
    //create the app with the above parameters
    const cm = new ChartManager("app1",dataSources,dataLoader,config);



</script>


  </body>
</html>