/*! For license information please see hyperion.js.LICENSE.txt */
(()=>{var __webpack_modules__={6499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(3645),o=n.n(r),i=n(1667),a=n.n(i),s=new URL(n(5686),n.b),l=new URL(n(3481),n.b),c=new URL(n(5364),n.b),f=new URL(n(8012),n.b),u=o()((function(e){return e[1]})),d=a()(s),h=a()(l),p=a()(c),m=a()(f);u.push([e.id,'/* -------------------------------------------------------------------\n  Microtip\n\n  Modern, lightweight css-only tooltips\n  Just 1kb minified and gzipped\n\n  @author Ghosh\n  @package Microtip\n\n----------------------------------------------------------------------\n  1. Base Styles\n  2. Direction Modifiers\n  3. Position Modifiers\n--------------------------------------------------------------------*/\n[aria-label][role~="tooltip"]{position:relative}[aria-label][role~="tooltip"]::before,[aria-label][role~="tooltip"]::after{transform:translate3d(0,0,0);-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform;opacity:0;pointer-events:none;transition:all var(--microtip-transition-duration,.18s) var(--microtip-transition-easing,ease-in-out) var(--microtip-transition-delay,0s);position:absolute;box-sizing:border-box;z-index:10;transform-origin:top}[aria-label][role~="tooltip"]::before{background-size:100% auto!important;content:""}[aria-label][role~="tooltip"]::after{background:rgba(17,17,17,.9);border-radius:4px;color:#fff;content:attr(aria-label);font-size:var(--microtip-font-size,13px);font-weight:var(--microtip-font-weight,normal);text-transform:var(--microtip-text-transform,none);padding:.5em 1em;white-space:nowrap;box-sizing:content-box}[aria-label][role~="tooltip"]:hover::before,[aria-label][role~="tooltip"]:hover::after,[aria-label][role~="tooltip"]:focus::before,[aria-label][role~="tooltip"]:focus::after{opacity:1;pointer-events:auto}[role~="tooltip"][data-microtip-position|="top"]::before{background:url('+d+') no-repeat;height:6px;width:18px;margin-bottom:5px}[role~="tooltip"][data-microtip-position|="top"]::after{margin-bottom:11px}[role~="tooltip"][data-microtip-position|="top"]::before{transform:translate3d(-50%,0,0);bottom:100%;left:50%}[role~="tooltip"][data-microtip-position|="top"]:hover::before{transform:translate3d(-50%,-5px,0)}[role~="tooltip"][data-microtip-position|="top"]::after{transform:translate3d(-50%,0,0);bottom:100%;left:50%}[role~="tooltip"][data-microtip-position="top"]:hover::after{transform:translate3d(-50%,-5px,0)}[role~="tooltip"][data-microtip-position="top-left"]::after{transform:translate3d(calc(-100% + 16px),0,0);bottom:100%}[role~="tooltip"][data-microtip-position="top-left"]:hover::after{transform:translate3d(calc(-100% + 16px),-5px,0)}[role~="tooltip"][data-microtip-position="top-right"]::after{transform:translate3d(calc(0% + -16px),0,0);bottom:100%}[role~="tooltip"][data-microtip-position="top-right"]:hover::after{transform:translate3d(calc(0% + -16px),-5px,0)}[role~="tooltip"][data-microtip-position|="bottom"]::before{background:url('+h+') no-repeat;height:6px;width:18px;margin-top:5px;margin-bottom:0}[role~="tooltip"][data-microtip-position|="bottom"]::after{margin-top:11px}[role~="tooltip"][data-microtip-position|="bottom"]::before{transform:translate3d(-50%,-10px,0);bottom:auto;left:50%;top:100%}[role~="tooltip"][data-microtip-position|="bottom"]:hover::before{transform:translate3d(-50%,0,0)}[role~="tooltip"][data-microtip-position|="bottom"]::after{transform:translate3d(-50%,-10px,0);top:100%;left:50%}[role~="tooltip"][data-microtip-position="bottom"]:hover::after{transform:translate3d(-50%,0,0)}[role~="tooltip"][data-microtip-position="bottom-left"]::after{transform:translate3d(calc(-100% + 16px),-10px,0);top:100%}[role~="tooltip"][data-microtip-position="bottom-left"]:hover::after{transform:translate3d(calc(-100% + 16px),0,0)}[role~="tooltip"][data-microtip-position="bottom-right"]::after{transform:translate3d(calc(0% + -16px),-10px,0);top:100%}[role~="tooltip"][data-microtip-position="bottom-right"]:hover::after{transform:translate3d(calc(0% + -16px),0,0)}[role~="tooltip"][data-microtip-position="left"]::before,[role~="tooltip"][data-microtip-position="left"]::after{bottom:auto;left:auto;right:100%;top:50%;transform:translate3d(10px,-50%,0)}[role~="tooltip"][data-microtip-position="left"]::before{background:url('+p+') no-repeat;height:18px;width:6px;margin-right:5px;margin-bottom:0}[role~="tooltip"][data-microtip-position="left"]::after{margin-right:11px}[role~="tooltip"][data-microtip-position="left"]:hover::before,[role~="tooltip"][data-microtip-position="left"]:hover::after{transform:translate3d(0,-50%,0)}[role~="tooltip"][data-microtip-position="right"]::before,[role~="tooltip"][data-microtip-position="right"]::after{bottom:auto;left:100%;top:50%;transform:translate3d(-10px,-50%,0)}[role~="tooltip"][data-microtip-position="right"]::before{background:url('+m+') no-repeat;height:18px;width:6px;margin-bottom:0;margin-left:5px}[role~="tooltip"][data-microtip-position="right"]::after{margin-left:11px}[role~="tooltip"][data-microtip-position="right"]:hover::before,[role~="tooltip"][data-microtip-position="right"]:hover::after{transform:translate3d(0,-50%,0)}[role~="tooltip"][data-microtip-size="small"]::after{white-space:initial;width:80px}[role~="tooltip"][data-microtip-size="medium"]::after{white-space:initial;width:150px}[role~="tooltip"][data-microtip-size="large"]::after{white-space:initial;width:260px}',""]);const g=u},1171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.noUi-target,.noUi-target *{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-ms-touch-action:none;touch-action:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-moz-box-sizing:border-box;box-sizing:border-box}.noUi-target{position:relative}.noUi-base,.noUi-connects{width:100%;height:100%;position:relative;z-index:1}.noUi-connects{overflow:hidden;z-index:0}.noUi-connect,.noUi-origin{will-change:transform;position:absolute;z-index:1;top:0;right:0;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;-webkit-transform-style:preserve-3d;transform-origin:0 0;transform-style:flat}.noUi-connect{height:100%;width:100%}.noUi-origin{height:10%;width:10%}.noUi-txt-dir-rtl.noUi-horizontal .noUi-origin{left:0;right:auto}.noUi-vertical .noUi-origin{width:0}.noUi-horizontal .noUi-origin{height:0}.noUi-handle{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute}.noUi-touch-area{height:100%;width:100%}.noUi-state-tap .noUi-connect,.noUi-state-tap .noUi-origin{-webkit-transition:transform .3s;transition:transform .3s}.noUi-state-drag *{cursor:inherit!important}.noUi-horizontal{height:18px}.noUi-horizontal .noUi-handle{width:34px;height:28px;right:-17px;top:-6px}.noUi-vertical{width:18px}.noUi-vertical .noUi-handle{width:28px;height:34px;right:-6px;top:-17px}.noUi-txt-dir-rtl.noUi-horizontal .noUi-handle{left:-17px;right:auto}.noUi-target{background:#FAFAFA;border-radius:4px;border:1px solid #D3D3D3;box-shadow:inset 0 1px 1px #F0F0F0,0 3px 6px -5px #BBB}.noUi-connects{border-radius:3px}.noUi-connect{background:#3FB8AF}.noUi-draggable{cursor:ew-resize}.noUi-vertical .noUi-draggable{cursor:ns-resize}.noUi-handle{border:1px solid #D9D9D9;border-radius:3px;background:#FFF;cursor:default;box-shadow:inset 0 0 1px #FFF,inset 0 1px 7px #EBEBEB,0 3px 6px -3px #BBB}.noUi-active{box-shadow:inset 0 0 1px #FFF,inset 0 1px 7px #DDD,0 3px 6px -3px #BBB}.noUi-handle:after,.noUi-handle:before{content:"";display:block;position:absolute;height:14px;width:1px;background:#E8E7E6;left:14px;top:6px}.noUi-handle:after{left:17px}.noUi-vertical .noUi-handle:after,.noUi-vertical .noUi-handle:before{width:14px;height:1px;left:6px;top:14px}.noUi-vertical .noUi-handle:after{top:17px}[disabled] .noUi-connect{background:#B8B8B8}[disabled] .noUi-handle,[disabled].noUi-handle,[disabled].noUi-target{cursor:not-allowed}.noUi-pips,.noUi-pips *{-moz-box-sizing:border-box;box-sizing:border-box}.noUi-pips{position:absolute;color:#999}.noUi-value{position:absolute;white-space:nowrap;text-align:center}.noUi-value-sub{color:#ccc;font-size:10px}.noUi-marker{position:absolute;background:#CCC}.noUi-marker-sub{background:#AAA}.noUi-marker-large{background:#AAA}.noUi-pips-horizontal{padding:10px 0;height:80px;top:100%;left:0;width:100%}.noUi-value-horizontal{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.noUi-rtl .noUi-value-horizontal{-webkit-transform:translate(50%,50%);transform:translate(50%,50%)}.noUi-marker-horizontal.noUi-marker{margin-left:-1px;width:2px;height:5px}.noUi-marker-horizontal.noUi-marker-sub{height:10px}.noUi-marker-horizontal.noUi-marker-large{height:15px}.noUi-pips-vertical{padding:0 10px;height:100%;top:0;left:100%}.noUi-value-vertical{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);padding-left:25px}.noUi-rtl .noUi-value-vertical{-webkit-transform:translate(0,50%);transform:translate(0,50%)}.noUi-marker-vertical.noUi-marker{width:5px;height:2px;margin-top:-1px}.noUi-marker-vertical.noUi-marker-sub{width:10px}.noUi-marker-vertical.noUi-marker-large{width:15px}.noUi-tooltip{display:block;position:absolute;border:1px solid #D9D9D9;border-radius:3px;background:#fff;color:#000;padding:5px;text-align:center;white-space:nowrap}.noUi-horizontal .noUi-tooltip{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);left:50%;bottom:120%}.noUi-vertical .noUi-tooltip{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);top:50%;right:120%}.noUi-horizontal .noUi-origin>.noUi-tooltip{-webkit-transform:translate(50%,0);transform:translate(50%,0);left:auto;bottom:10px}.noUi-vertical .noUi-origin>.noUi-tooltip{-webkit-transform:translate(0,-18px);transform:translate(0,-18px);top:auto;right:28px}',""]);const i=o},8520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'\r\n\r\n.mdv-select{\r\n    border-radius: 3px;\r\n    font-size:0.8em;\r\n    margin:2px;\r\n}\r\n\r\n.mdv-select:focus{\r\n\r\n    box-shadow:0px 0px 3px 2px #088AFF;\r\n    outline: 0 none;\r\n}\r\n\r\n.mdv-info-text{\r\n    font-size:0.9em;\r\n    opacity:0.7;\r\n    display:block;\r\n\r\n}\r\n\r\n\r\n.mdv-checkbox{\r\n    transform:scale(1.2);\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.mdv-flex-dynamic{\r\n    overflow:hidden;\r\n    white-space:nowrap;\r\n    text-overflow:ellipsis;\r\n    flex-grow:1;\r\n    min-width:0;\r\n}\r\n\r\n.mdv-flex-fixed{\r\n    flex-shrink:0;\r\n    flex-grow:0;\r\n}\r\n\r\n\r\n.ciview-chart-panel{\r\n    display:flex;\r\n    flex-flow:column;\r\n    border-radius:5px;\r\n  \r\n}\r\n\r\n.ciview-chart-titlebar{\r\n    display:flex;\r\n    padding:4px;\r\n    background:white;\r\n    flex:0 0 auto;\r\n    font-size:14px;\r\n}\r\n\r\n\r\n\r\n.ciview-chart-title{\r\n    flex-grow:3;\r\n    text-overflow:ellipsis;\r\n    overflow:hidden;\r\n    white-space:nowrap;\r\n}\r\n.ciview-chart-menuspace{\r\n    flex-grow:1;\r\n    white-space:nowrap;\r\n    display:flex;\r\n    flex-flow: row-reverse;\r\n    align-items: center;\r\n}\r\n\r\n/*[aria-label][role~="tooltip"]::after{\r\n    background-color: #155724;\r\n}*/\r\n\r\n.ciview-chart-content{\r\n    flex:1 1 auto;\r\n    position:relative;\r\n    min-height:1px;\r\n    background-color:#f1f1f1\r\n}\r\n\r\n\r\n\r\n\r\n.row-bar{\r\n    cursor:pointer;\r\n}\r\n\r\n\r\n.pie-arc{\r\n    cursor:pointer;\r\n}\r\n\r\n.row-text{\r\n    cursor:pointer;\r\n}\r\n\r\n.ciview-button{\r\n    background: #1266f1;\r\n    padding:5px 8px;\r\n    border-radius:5px;\r\n    cursor:pointer;\r\n    color:white;\r\n   \r\n}\r\n\r\n.ciview-button-sm{\r\n    background: #1266f1;\r\n    padding:3px 6px;\r\n    border-radius:5px;\r\n    cursor:pointer;\r\n    color:white;\r\n    font-size:14px;\r\n    margin: 0px 3px;\r\n   \r\n}\r\n\r\n\r\n\r\n.ciview-button-disabled{\r\n    background: #1266f1;\r\n    padding:5px 8px;\r\n    border-radius:5px;\r\n    opacity:0.6;\r\n    color:white;\r\n    pointer-events:none;\r\n   \r\n}\r\n\r\n.ciview-disabled{\r\n    pointer-events:none;\r\n    opacity:0.6;\r\n}\r\n\r\n\r\n\r\n\r\n.ciview-center{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.ciview-title-div{\r\n    font-size:16px;\r\n    font-weight:bold;\r\n    padding:5px;\r\n}\r\n\r\n.ciview-padded-div{\r\n    padding:4px;\r\n}\r\n\r\n.ciview-main-menu-bar{\r\n    height:30px;\r\n}\r\n\r\n\r\n\r\n.ciview-button:hover{\r\n    box-shadow: 0 2px 5px 0 rgb(0 0 0 / 20%);\r\n}\r\n\r\n.ciview-button-sm:hover{\r\n    box-shadow: 0 2px 5px 0 rgb(0 0 0 / 20%);\r\n}\r\n\r\n.row-bar:hover{\r\n    opacity:0.6;\r\n}\r\n\r\n.pie-arc:hover{\r\n    opacity:0.6;\r\n}\r\n\r\n\r\n.ciview-info-alert{\r\n    padding:8px;\r\n    width:250px;\r\n    position:absolute;\r\n    font-size:18px;\r\n    z-index:5;\r\n\r\n}\r\n.ttt{\r\n   float:right;\r\n}\r\n.ciview-alert-info{\r\n    color:#155724;\r\n    background:#d4edda;\r\n    border: 1px solid #c3e6cb;\r\n}\r\n\r\n.ciview-alert-danger{\r\n    color:#721c24;\r\n    background:#f8d7da;\r\n    border: 1px solid #f5c6cb;\r\n}\r\n\r\n.ciview-alert-warning{\r\n    color:#856404;\r\n    background:#fff3cd;\r\n    border: 1px solid #ffeeba;\r\n}\r\n\r\n\r\n.civ-dg-div{\r\n    padding:5px;\r\n}\r\n\r\n.ciview-info-alert-spin{\r\n    font-size:18px;\r\n    float:right\r\n\r\n}\r\n\r\n\r\n\r\n.civew-chart-resetbutton{\r\n    visibility:hidden;\r\n    \r\n}\r\n\r\n\r\n\r\n.ciview-chart-icon{\r\n    cursor:pointer;\r\n}',""]);const i=o},4582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(3645),o=n.n(r),i=n(1667),a=n.n(i),s=new URL(n(7628),n.b),l=new URL(n(4346),n.b),c=new URL(n(1217),n.b),f=new URL(n(9841),n.b),u=new URL(n(4564),n.b),d=new URL(n(126),n.b),h=new URL(n(7104),n.b),p=new URL(n(4426),n.b),m=new URL(n(8678),n.b),g=new URL(n(5445),n.b),_=new URL(n(1254),n.b),v=new URL(n(2621),n.b),b=new URL(n(529),n.b),y=new URL(n(6453),n.b),w=new URL(n(8378),n.b),x=o()((function(e){return e[1]})),C=a()(s),k=a()(s,{hash:"?#iefix"}),S=a()(l),E=a()(c),A=a()(f),D=a()(u,{hash:"#fontawesome"}),M=a()(d),R=a()(d,{hash:"?#iefix"}),P=a()(h),T=a()(p),L=a()(m),z=a()(g,{hash:"#fontawesome"}),O=a()(_),F=a()(_,{hash:"?#iefix"}),I=a()(v),B=a()(b),$=a()(y),j=a()(w,{hash:"#fontawesome"});x.push([e.id,'/*!\n * Font Awesome Free 5.15.3 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\n.fa,\n.fas,\n.far,\n.fal,\n.fad,\n.fab {\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  display: inline-block;\n  font-style: normal;\n  font-variant: normal;\n  text-rendering: auto;\n  line-height: 1; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  left: 0;\n  position: absolute;\n  text-align: center;\n  width: 100%; }\n\n.fa-stack-1x {\n  line-height: inherit; }\n\n.fa-stack-2x {\n  font-size: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\nreaders do not read off random characters that represent icons */\n.fa-500px:before {\n  content: "\\f26e"; }\n\n.fa-accessible-icon:before {\n  content: "\\f368"; }\n\n.fa-accusoft:before {\n  content: "\\f369"; }\n\n.fa-acquisitions-incorporated:before {\n  content: "\\f6af"; }\n\n.fa-ad:before {\n  content: "\\f641"; }\n\n.fa-address-book:before {\n  content: "\\f2b9"; }\n\n.fa-address-card:before {\n  content: "\\f2bb"; }\n\n.fa-adjust:before {\n  content: "\\f042"; }\n\n.fa-adn:before {\n  content: "\\f170"; }\n\n.fa-adversal:before {\n  content: "\\f36a"; }\n\n.fa-affiliatetheme:before {\n  content: "\\f36b"; }\n\n.fa-air-freshener:before {\n  content: "\\f5d0"; }\n\n.fa-airbnb:before {\n  content: "\\f834"; }\n\n.fa-algolia:before {\n  content: "\\f36c"; }\n\n.fa-align-center:before {\n  content: "\\f037"; }\n\n.fa-align-justify:before {\n  content: "\\f039"; }\n\n.fa-align-left:before {\n  content: "\\f036"; }\n\n.fa-align-right:before {\n  content: "\\f038"; }\n\n.fa-alipay:before {\n  content: "\\f642"; }\n\n.fa-allergies:before {\n  content: "\\f461"; }\n\n.fa-amazon:before {\n  content: "\\f270"; }\n\n.fa-amazon-pay:before {\n  content: "\\f42c"; }\n\n.fa-ambulance:before {\n  content: "\\f0f9"; }\n\n.fa-american-sign-language-interpreting:before {\n  content: "\\f2a3"; }\n\n.fa-amilia:before {\n  content: "\\f36d"; }\n\n.fa-anchor:before {\n  content: "\\f13d"; }\n\n.fa-android:before {\n  content: "\\f17b"; }\n\n.fa-angellist:before {\n  content: "\\f209"; }\n\n.fa-angle-double-down:before {\n  content: "\\f103"; }\n\n.fa-angle-double-left:before {\n  content: "\\f100"; }\n\n.fa-angle-double-right:before {\n  content: "\\f101"; }\n\n.fa-angle-double-up:before {\n  content: "\\f102"; }\n\n.fa-angle-down:before {\n  content: "\\f107"; }\n\n.fa-angle-left:before {\n  content: "\\f104"; }\n\n.fa-angle-right:before {\n  content: "\\f105"; }\n\n.fa-angle-up:before {\n  content: "\\f106"; }\n\n.fa-angry:before {\n  content: "\\f556"; }\n\n.fa-angrycreative:before {\n  content: "\\f36e"; }\n\n.fa-angular:before {\n  content: "\\f420"; }\n\n.fa-ankh:before {\n  content: "\\f644"; }\n\n.fa-app-store:before {\n  content: "\\f36f"; }\n\n.fa-app-store-ios:before {\n  content: "\\f370"; }\n\n.fa-apper:before {\n  content: "\\f371"; }\n\n.fa-apple:before {\n  content: "\\f179"; }\n\n.fa-apple-alt:before {\n  content: "\\f5d1"; }\n\n.fa-apple-pay:before {\n  content: "\\f415"; }\n\n.fa-archive:before {\n  content: "\\f187"; }\n\n.fa-archway:before {\n  content: "\\f557"; }\n\n.fa-arrow-alt-circle-down:before {\n  content: "\\f358"; }\n\n.fa-arrow-alt-circle-left:before {\n  content: "\\f359"; }\n\n.fa-arrow-alt-circle-right:before {\n  content: "\\f35a"; }\n\n.fa-arrow-alt-circle-up:before {\n  content: "\\f35b"; }\n\n.fa-arrow-circle-down:before {\n  content: "\\f0ab"; }\n\n.fa-arrow-circle-left:before {\n  content: "\\f0a8"; }\n\n.fa-arrow-circle-right:before {\n  content: "\\f0a9"; }\n\n.fa-arrow-circle-up:before {\n  content: "\\f0aa"; }\n\n.fa-arrow-down:before {\n  content: "\\f063"; }\n\n.fa-arrow-left:before {\n  content: "\\f060"; }\n\n.fa-arrow-right:before {\n  content: "\\f061"; }\n\n.fa-arrow-up:before {\n  content: "\\f062"; }\n\n.fa-arrows-alt:before {\n  content: "\\f0b2"; }\n\n.fa-arrows-alt-h:before {\n  content: "\\f337"; }\n\n.fa-arrows-alt-v:before {\n  content: "\\f338"; }\n\n.fa-artstation:before {\n  content: "\\f77a"; }\n\n.fa-assistive-listening-systems:before {\n  content: "\\f2a2"; }\n\n.fa-asterisk:before {\n  content: "\\f069"; }\n\n.fa-asymmetrik:before {\n  content: "\\f372"; }\n\n.fa-at:before {\n  content: "\\f1fa"; }\n\n.fa-atlas:before {\n  content: "\\f558"; }\n\n.fa-atlassian:before {\n  content: "\\f77b"; }\n\n.fa-atom:before {\n  content: "\\f5d2"; }\n\n.fa-audible:before {\n  content: "\\f373"; }\n\n.fa-audio-description:before {\n  content: "\\f29e"; }\n\n.fa-autoprefixer:before {\n  content: "\\f41c"; }\n\n.fa-avianex:before {\n  content: "\\f374"; }\n\n.fa-aviato:before {\n  content: "\\f421"; }\n\n.fa-award:before {\n  content: "\\f559"; }\n\n.fa-aws:before {\n  content: "\\f375"; }\n\n.fa-baby:before {\n  content: "\\f77c"; }\n\n.fa-baby-carriage:before {\n  content: "\\f77d"; }\n\n.fa-backspace:before {\n  content: "\\f55a"; }\n\n.fa-backward:before {\n  content: "\\f04a"; }\n\n.fa-bacon:before {\n  content: "\\f7e5"; }\n\n.fa-bacteria:before {\n  content: "\\e059"; }\n\n.fa-bacterium:before {\n  content: "\\e05a"; }\n\n.fa-bahai:before {\n  content: "\\f666"; }\n\n.fa-balance-scale:before {\n  content: "\\f24e"; }\n\n.fa-balance-scale-left:before {\n  content: "\\f515"; }\n\n.fa-balance-scale-right:before {\n  content: "\\f516"; }\n\n.fa-ban:before {\n  content: "\\f05e"; }\n\n.fa-band-aid:before {\n  content: "\\f462"; }\n\n.fa-bandcamp:before {\n  content: "\\f2d5"; }\n\n.fa-barcode:before {\n  content: "\\f02a"; }\n\n.fa-bars:before {\n  content: "\\f0c9"; }\n\n.fa-baseball-ball:before {\n  content: "\\f433"; }\n\n.fa-basketball-ball:before {\n  content: "\\f434"; }\n\n.fa-bath:before {\n  content: "\\f2cd"; }\n\n.fa-battery-empty:before {\n  content: "\\f244"; }\n\n.fa-battery-full:before {\n  content: "\\f240"; }\n\n.fa-battery-half:before {\n  content: "\\f242"; }\n\n.fa-battery-quarter:before {\n  content: "\\f243"; }\n\n.fa-battery-three-quarters:before {\n  content: "\\f241"; }\n\n.fa-battle-net:before {\n  content: "\\f835"; }\n\n.fa-bed:before {\n  content: "\\f236"; }\n\n.fa-beer:before {\n  content: "\\f0fc"; }\n\n.fa-behance:before {\n  content: "\\f1b4"; }\n\n.fa-behance-square:before {\n  content: "\\f1b5"; }\n\n.fa-bell:before {\n  content: "\\f0f3"; }\n\n.fa-bell-slash:before {\n  content: "\\f1f6"; }\n\n.fa-bezier-curve:before {\n  content: "\\f55b"; }\n\n.fa-bible:before {\n  content: "\\f647"; }\n\n.fa-bicycle:before {\n  content: "\\f206"; }\n\n.fa-biking:before {\n  content: "\\f84a"; }\n\n.fa-bimobject:before {\n  content: "\\f378"; }\n\n.fa-binoculars:before {\n  content: "\\f1e5"; }\n\n.fa-biohazard:before {\n  content: "\\f780"; }\n\n.fa-birthday-cake:before {\n  content: "\\f1fd"; }\n\n.fa-bitbucket:before {\n  content: "\\f171"; }\n\n.fa-bitcoin:before {\n  content: "\\f379"; }\n\n.fa-bity:before {\n  content: "\\f37a"; }\n\n.fa-black-tie:before {\n  content: "\\f27e"; }\n\n.fa-blackberry:before {\n  content: "\\f37b"; }\n\n.fa-blender:before {\n  content: "\\f517"; }\n\n.fa-blender-phone:before {\n  content: "\\f6b6"; }\n\n.fa-blind:before {\n  content: "\\f29d"; }\n\n.fa-blog:before {\n  content: "\\f781"; }\n\n.fa-blogger:before {\n  content: "\\f37c"; }\n\n.fa-blogger-b:before {\n  content: "\\f37d"; }\n\n.fa-bluetooth:before {\n  content: "\\f293"; }\n\n.fa-bluetooth-b:before {\n  content: "\\f294"; }\n\n.fa-bold:before {\n  content: "\\f032"; }\n\n.fa-bolt:before {\n  content: "\\f0e7"; }\n\n.fa-bomb:before {\n  content: "\\f1e2"; }\n\n.fa-bone:before {\n  content: "\\f5d7"; }\n\n.fa-bong:before {\n  content: "\\f55c"; }\n\n.fa-book:before {\n  content: "\\f02d"; }\n\n.fa-book-dead:before {\n  content: "\\f6b7"; }\n\n.fa-book-medical:before {\n  content: "\\f7e6"; }\n\n.fa-book-open:before {\n  content: "\\f518"; }\n\n.fa-book-reader:before {\n  content: "\\f5da"; }\n\n.fa-bookmark:before {\n  content: "\\f02e"; }\n\n.fa-bootstrap:before {\n  content: "\\f836"; }\n\n.fa-border-all:before {\n  content: "\\f84c"; }\n\n.fa-border-none:before {\n  content: "\\f850"; }\n\n.fa-border-style:before {\n  content: "\\f853"; }\n\n.fa-bowling-ball:before {\n  content: "\\f436"; }\n\n.fa-box:before {\n  content: "\\f466"; }\n\n.fa-box-open:before {\n  content: "\\f49e"; }\n\n.fa-box-tissue:before {\n  content: "\\e05b"; }\n\n.fa-boxes:before {\n  content: "\\f468"; }\n\n.fa-braille:before {\n  content: "\\f2a1"; }\n\n.fa-brain:before {\n  content: "\\f5dc"; }\n\n.fa-bread-slice:before {\n  content: "\\f7ec"; }\n\n.fa-briefcase:before {\n  content: "\\f0b1"; }\n\n.fa-briefcase-medical:before {\n  content: "\\f469"; }\n\n.fa-broadcast-tower:before {\n  content: "\\f519"; }\n\n.fa-broom:before {\n  content: "\\f51a"; }\n\n.fa-brush:before {\n  content: "\\f55d"; }\n\n.fa-btc:before {\n  content: "\\f15a"; }\n\n.fa-buffer:before {\n  content: "\\f837"; }\n\n.fa-bug:before {\n  content: "\\f188"; }\n\n.fa-building:before {\n  content: "\\f1ad"; }\n\n.fa-bullhorn:before {\n  content: "\\f0a1"; }\n\n.fa-bullseye:before {\n  content: "\\f140"; }\n\n.fa-burn:before {\n  content: "\\f46a"; }\n\n.fa-buromobelexperte:before {\n  content: "\\f37f"; }\n\n.fa-bus:before {\n  content: "\\f207"; }\n\n.fa-bus-alt:before {\n  content: "\\f55e"; }\n\n.fa-business-time:before {\n  content: "\\f64a"; }\n\n.fa-buy-n-large:before {\n  content: "\\f8a6"; }\n\n.fa-buysellads:before {\n  content: "\\f20d"; }\n\n.fa-calculator:before {\n  content: "\\f1ec"; }\n\n.fa-calendar:before {\n  content: "\\f133"; }\n\n.fa-calendar-alt:before {\n  content: "\\f073"; }\n\n.fa-calendar-check:before {\n  content: "\\f274"; }\n\n.fa-calendar-day:before {\n  content: "\\f783"; }\n\n.fa-calendar-minus:before {\n  content: "\\f272"; }\n\n.fa-calendar-plus:before {\n  content: "\\f271"; }\n\n.fa-calendar-times:before {\n  content: "\\f273"; }\n\n.fa-calendar-week:before {\n  content: "\\f784"; }\n\n.fa-camera:before {\n  content: "\\f030"; }\n\n.fa-camera-retro:before {\n  content: "\\f083"; }\n\n.fa-campground:before {\n  content: "\\f6bb"; }\n\n.fa-canadian-maple-leaf:before {\n  content: "\\f785"; }\n\n.fa-candy-cane:before {\n  content: "\\f786"; }\n\n.fa-cannabis:before {\n  content: "\\f55f"; }\n\n.fa-capsules:before {\n  content: "\\f46b"; }\n\n.fa-car:before {\n  content: "\\f1b9"; }\n\n.fa-car-alt:before {\n  content: "\\f5de"; }\n\n.fa-car-battery:before {\n  content: "\\f5df"; }\n\n.fa-car-crash:before {\n  content: "\\f5e1"; }\n\n.fa-car-side:before {\n  content: "\\f5e4"; }\n\n.fa-caravan:before {\n  content: "\\f8ff"; }\n\n.fa-caret-down:before {\n  content: "\\f0d7"; }\n\n.fa-caret-left:before {\n  content: "\\f0d9"; }\n\n.fa-caret-right:before {\n  content: "\\f0da"; }\n\n.fa-caret-square-down:before {\n  content: "\\f150"; }\n\n.fa-caret-square-left:before {\n  content: "\\f191"; }\n\n.fa-caret-square-right:before {\n  content: "\\f152"; }\n\n.fa-caret-square-up:before {\n  content: "\\f151"; }\n\n.fa-caret-up:before {\n  content: "\\f0d8"; }\n\n.fa-carrot:before {\n  content: "\\f787"; }\n\n.fa-cart-arrow-down:before {\n  content: "\\f218"; }\n\n.fa-cart-plus:before {\n  content: "\\f217"; }\n\n.fa-cash-register:before {\n  content: "\\f788"; }\n\n.fa-cat:before {\n  content: "\\f6be"; }\n\n.fa-cc-amazon-pay:before {\n  content: "\\f42d"; }\n\n.fa-cc-amex:before {\n  content: "\\f1f3"; }\n\n.fa-cc-apple-pay:before {\n  content: "\\f416"; }\n\n.fa-cc-diners-club:before {\n  content: "\\f24c"; }\n\n.fa-cc-discover:before {\n  content: "\\f1f2"; }\n\n.fa-cc-jcb:before {\n  content: "\\f24b"; }\n\n.fa-cc-mastercard:before {\n  content: "\\f1f1"; }\n\n.fa-cc-paypal:before {\n  content: "\\f1f4"; }\n\n.fa-cc-stripe:before {\n  content: "\\f1f5"; }\n\n.fa-cc-visa:before {\n  content: "\\f1f0"; }\n\n.fa-centercode:before {\n  content: "\\f380"; }\n\n.fa-centos:before {\n  content: "\\f789"; }\n\n.fa-certificate:before {\n  content: "\\f0a3"; }\n\n.fa-chair:before {\n  content: "\\f6c0"; }\n\n.fa-chalkboard:before {\n  content: "\\f51b"; }\n\n.fa-chalkboard-teacher:before {\n  content: "\\f51c"; }\n\n.fa-charging-station:before {\n  content: "\\f5e7"; }\n\n.fa-chart-area:before {\n  content: "\\f1fe"; }\n\n.fa-chart-bar:before {\n  content: "\\f080"; }\n\n.fa-chart-line:before {\n  content: "\\f201"; }\n\n.fa-chart-pie:before {\n  content: "\\f200"; }\n\n.fa-check:before {\n  content: "\\f00c"; }\n\n.fa-check-circle:before {\n  content: "\\f058"; }\n\n.fa-check-double:before {\n  content: "\\f560"; }\n\n.fa-check-square:before {\n  content: "\\f14a"; }\n\n.fa-cheese:before {\n  content: "\\f7ef"; }\n\n.fa-chess:before {\n  content: "\\f439"; }\n\n.fa-chess-bishop:before {\n  content: "\\f43a"; }\n\n.fa-chess-board:before {\n  content: "\\f43c"; }\n\n.fa-chess-king:before {\n  content: "\\f43f"; }\n\n.fa-chess-knight:before {\n  content: "\\f441"; }\n\n.fa-chess-pawn:before {\n  content: "\\f443"; }\n\n.fa-chess-queen:before {\n  content: "\\f445"; }\n\n.fa-chess-rook:before {\n  content: "\\f447"; }\n\n.fa-chevron-circle-down:before {\n  content: "\\f13a"; }\n\n.fa-chevron-circle-left:before {\n  content: "\\f137"; }\n\n.fa-chevron-circle-right:before {\n  content: "\\f138"; }\n\n.fa-chevron-circle-up:before {\n  content: "\\f139"; }\n\n.fa-chevron-down:before {\n  content: "\\f078"; }\n\n.fa-chevron-left:before {\n  content: "\\f053"; }\n\n.fa-chevron-right:before {\n  content: "\\f054"; }\n\n.fa-chevron-up:before {\n  content: "\\f077"; }\n\n.fa-child:before {\n  content: "\\f1ae"; }\n\n.fa-chrome:before {\n  content: "\\f268"; }\n\n.fa-chromecast:before {\n  content: "\\f838"; }\n\n.fa-church:before {\n  content: "\\f51d"; }\n\n.fa-circle:before {\n  content: "\\f111"; }\n\n.fa-circle-notch:before {\n  content: "\\f1ce"; }\n\n.fa-city:before {\n  content: "\\f64f"; }\n\n.fa-clinic-medical:before {\n  content: "\\f7f2"; }\n\n.fa-clipboard:before {\n  content: "\\f328"; }\n\n.fa-clipboard-check:before {\n  content: "\\f46c"; }\n\n.fa-clipboard-list:before {\n  content: "\\f46d"; }\n\n.fa-clock:before {\n  content: "\\f017"; }\n\n.fa-clone:before {\n  content: "\\f24d"; }\n\n.fa-closed-captioning:before {\n  content: "\\f20a"; }\n\n.fa-cloud:before {\n  content: "\\f0c2"; }\n\n.fa-cloud-download-alt:before {\n  content: "\\f381"; }\n\n.fa-cloud-meatball:before {\n  content: "\\f73b"; }\n\n.fa-cloud-moon:before {\n  content: "\\f6c3"; }\n\n.fa-cloud-moon-rain:before {\n  content: "\\f73c"; }\n\n.fa-cloud-rain:before {\n  content: "\\f73d"; }\n\n.fa-cloud-showers-heavy:before {\n  content: "\\f740"; }\n\n.fa-cloud-sun:before {\n  content: "\\f6c4"; }\n\n.fa-cloud-sun-rain:before {\n  content: "\\f743"; }\n\n.fa-cloud-upload-alt:before {\n  content: "\\f382"; }\n\n.fa-cloudflare:before {\n  content: "\\e07d"; }\n\n.fa-cloudscale:before {\n  content: "\\f383"; }\n\n.fa-cloudsmith:before {\n  content: "\\f384"; }\n\n.fa-cloudversify:before {\n  content: "\\f385"; }\n\n.fa-cocktail:before {\n  content: "\\f561"; }\n\n.fa-code:before {\n  content: "\\f121"; }\n\n.fa-code-branch:before {\n  content: "\\f126"; }\n\n.fa-codepen:before {\n  content: "\\f1cb"; }\n\n.fa-codiepie:before {\n  content: "\\f284"; }\n\n.fa-coffee:before {\n  content: "\\f0f4"; }\n\n.fa-cog:before {\n  content: "\\f013"; }\n\n.fa-cogs:before {\n  content: "\\f085"; }\n\n.fa-coins:before {\n  content: "\\f51e"; }\n\n.fa-columns:before {\n  content: "\\f0db"; }\n\n.fa-comment:before {\n  content: "\\f075"; }\n\n.fa-comment-alt:before {\n  content: "\\f27a"; }\n\n.fa-comment-dollar:before {\n  content: "\\f651"; }\n\n.fa-comment-dots:before {\n  content: "\\f4ad"; }\n\n.fa-comment-medical:before {\n  content: "\\f7f5"; }\n\n.fa-comment-slash:before {\n  content: "\\f4b3"; }\n\n.fa-comments:before {\n  content: "\\f086"; }\n\n.fa-comments-dollar:before {\n  content: "\\f653"; }\n\n.fa-compact-disc:before {\n  content: "\\f51f"; }\n\n.fa-compass:before {\n  content: "\\f14e"; }\n\n.fa-compress:before {\n  content: "\\f066"; }\n\n.fa-compress-alt:before {\n  content: "\\f422"; }\n\n.fa-compress-arrows-alt:before {\n  content: "\\f78c"; }\n\n.fa-concierge-bell:before {\n  content: "\\f562"; }\n\n.fa-confluence:before {\n  content: "\\f78d"; }\n\n.fa-connectdevelop:before {\n  content: "\\f20e"; }\n\n.fa-contao:before {\n  content: "\\f26d"; }\n\n.fa-cookie:before {\n  content: "\\f563"; }\n\n.fa-cookie-bite:before {\n  content: "\\f564"; }\n\n.fa-copy:before {\n  content: "\\f0c5"; }\n\n.fa-copyright:before {\n  content: "\\f1f9"; }\n\n.fa-cotton-bureau:before {\n  content: "\\f89e"; }\n\n.fa-couch:before {\n  content: "\\f4b8"; }\n\n.fa-cpanel:before {\n  content: "\\f388"; }\n\n.fa-creative-commons:before {\n  content: "\\f25e"; }\n\n.fa-creative-commons-by:before {\n  content: "\\f4e7"; }\n\n.fa-creative-commons-nc:before {\n  content: "\\f4e8"; }\n\n.fa-creative-commons-nc-eu:before {\n  content: "\\f4e9"; }\n\n.fa-creative-commons-nc-jp:before {\n  content: "\\f4ea"; }\n\n.fa-creative-commons-nd:before {\n  content: "\\f4eb"; }\n\n.fa-creative-commons-pd:before {\n  content: "\\f4ec"; }\n\n.fa-creative-commons-pd-alt:before {\n  content: "\\f4ed"; }\n\n.fa-creative-commons-remix:before {\n  content: "\\f4ee"; }\n\n.fa-creative-commons-sa:before {\n  content: "\\f4ef"; }\n\n.fa-creative-commons-sampling:before {\n  content: "\\f4f0"; }\n\n.fa-creative-commons-sampling-plus:before {\n  content: "\\f4f1"; }\n\n.fa-creative-commons-share:before {\n  content: "\\f4f2"; }\n\n.fa-creative-commons-zero:before {\n  content: "\\f4f3"; }\n\n.fa-credit-card:before {\n  content: "\\f09d"; }\n\n.fa-critical-role:before {\n  content: "\\f6c9"; }\n\n.fa-crop:before {\n  content: "\\f125"; }\n\n.fa-crop-alt:before {\n  content: "\\f565"; }\n\n.fa-cross:before {\n  content: "\\f654"; }\n\n.fa-crosshairs:before {\n  content: "\\f05b"; }\n\n.fa-crow:before {\n  content: "\\f520"; }\n\n.fa-crown:before {\n  content: "\\f521"; }\n\n.fa-crutch:before {\n  content: "\\f7f7"; }\n\n.fa-css3:before {\n  content: "\\f13c"; }\n\n.fa-css3-alt:before {\n  content: "\\f38b"; }\n\n.fa-cube:before {\n  content: "\\f1b2"; }\n\n.fa-cubes:before {\n  content: "\\f1b3"; }\n\n.fa-cut:before {\n  content: "\\f0c4"; }\n\n.fa-cuttlefish:before {\n  content: "\\f38c"; }\n\n.fa-d-and-d:before {\n  content: "\\f38d"; }\n\n.fa-d-and-d-beyond:before {\n  content: "\\f6ca"; }\n\n.fa-dailymotion:before {\n  content: "\\e052"; }\n\n.fa-dashcube:before {\n  content: "\\f210"; }\n\n.fa-database:before {\n  content: "\\f1c0"; }\n\n.fa-deaf:before {\n  content: "\\f2a4"; }\n\n.fa-deezer:before {\n  content: "\\e077"; }\n\n.fa-delicious:before {\n  content: "\\f1a5"; }\n\n.fa-democrat:before {\n  content: "\\f747"; }\n\n.fa-deploydog:before {\n  content: "\\f38e"; }\n\n.fa-deskpro:before {\n  content: "\\f38f"; }\n\n.fa-desktop:before {\n  content: "\\f108"; }\n\n.fa-dev:before {\n  content: "\\f6cc"; }\n\n.fa-deviantart:before {\n  content: "\\f1bd"; }\n\n.fa-dharmachakra:before {\n  content: "\\f655"; }\n\n.fa-dhl:before {\n  content: "\\f790"; }\n\n.fa-diagnoses:before {\n  content: "\\f470"; }\n\n.fa-diaspora:before {\n  content: "\\f791"; }\n\n.fa-dice:before {\n  content: "\\f522"; }\n\n.fa-dice-d20:before {\n  content: "\\f6cf"; }\n\n.fa-dice-d6:before {\n  content: "\\f6d1"; }\n\n.fa-dice-five:before {\n  content: "\\f523"; }\n\n.fa-dice-four:before {\n  content: "\\f524"; }\n\n.fa-dice-one:before {\n  content: "\\f525"; }\n\n.fa-dice-six:before {\n  content: "\\f526"; }\n\n.fa-dice-three:before {\n  content: "\\f527"; }\n\n.fa-dice-two:before {\n  content: "\\f528"; }\n\n.fa-digg:before {\n  content: "\\f1a6"; }\n\n.fa-digital-ocean:before {\n  content: "\\f391"; }\n\n.fa-digital-tachograph:before {\n  content: "\\f566"; }\n\n.fa-directions:before {\n  content: "\\f5eb"; }\n\n.fa-discord:before {\n  content: "\\f392"; }\n\n.fa-discourse:before {\n  content: "\\f393"; }\n\n.fa-disease:before {\n  content: "\\f7fa"; }\n\n.fa-divide:before {\n  content: "\\f529"; }\n\n.fa-dizzy:before {\n  content: "\\f567"; }\n\n.fa-dna:before {\n  content: "\\f471"; }\n\n.fa-dochub:before {\n  content: "\\f394"; }\n\n.fa-docker:before {\n  content: "\\f395"; }\n\n.fa-dog:before {\n  content: "\\f6d3"; }\n\n.fa-dollar-sign:before {\n  content: "\\f155"; }\n\n.fa-dolly:before {\n  content: "\\f472"; }\n\n.fa-dolly-flatbed:before {\n  content: "\\f474"; }\n\n.fa-donate:before {\n  content: "\\f4b9"; }\n\n.fa-door-closed:before {\n  content: "\\f52a"; }\n\n.fa-door-open:before {\n  content: "\\f52b"; }\n\n.fa-dot-circle:before {\n  content: "\\f192"; }\n\n.fa-dove:before {\n  content: "\\f4ba"; }\n\n.fa-download:before {\n  content: "\\f019"; }\n\n.fa-draft2digital:before {\n  content: "\\f396"; }\n\n.fa-drafting-compass:before {\n  content: "\\f568"; }\n\n.fa-dragon:before {\n  content: "\\f6d5"; }\n\n.fa-draw-polygon:before {\n  content: "\\f5ee"; }\n\n.fa-dribbble:before {\n  content: "\\f17d"; }\n\n.fa-dribbble-square:before {\n  content: "\\f397"; }\n\n.fa-dropbox:before {\n  content: "\\f16b"; }\n\n.fa-drum:before {\n  content: "\\f569"; }\n\n.fa-drum-steelpan:before {\n  content: "\\f56a"; }\n\n.fa-drumstick-bite:before {\n  content: "\\f6d7"; }\n\n.fa-drupal:before {\n  content: "\\f1a9"; }\n\n.fa-dumbbell:before {\n  content: "\\f44b"; }\n\n.fa-dumpster:before {\n  content: "\\f793"; }\n\n.fa-dumpster-fire:before {\n  content: "\\f794"; }\n\n.fa-dungeon:before {\n  content: "\\f6d9"; }\n\n.fa-dyalog:before {\n  content: "\\f399"; }\n\n.fa-earlybirds:before {\n  content: "\\f39a"; }\n\n.fa-ebay:before {\n  content: "\\f4f4"; }\n\n.fa-edge:before {\n  content: "\\f282"; }\n\n.fa-edge-legacy:before {\n  content: "\\e078"; }\n\n.fa-edit:before {\n  content: "\\f044"; }\n\n.fa-egg:before {\n  content: "\\f7fb"; }\n\n.fa-eject:before {\n  content: "\\f052"; }\n\n.fa-elementor:before {\n  content: "\\f430"; }\n\n.fa-ellipsis-h:before {\n  content: "\\f141"; }\n\n.fa-ellipsis-v:before {\n  content: "\\f142"; }\n\n.fa-ello:before {\n  content: "\\f5f1"; }\n\n.fa-ember:before {\n  content: "\\f423"; }\n\n.fa-empire:before {\n  content: "\\f1d1"; }\n\n.fa-envelope:before {\n  content: "\\f0e0"; }\n\n.fa-envelope-open:before {\n  content: "\\f2b6"; }\n\n.fa-envelope-open-text:before {\n  content: "\\f658"; }\n\n.fa-envelope-square:before {\n  content: "\\f199"; }\n\n.fa-envira:before {\n  content: "\\f299"; }\n\n.fa-equals:before {\n  content: "\\f52c"; }\n\n.fa-eraser:before {\n  content: "\\f12d"; }\n\n.fa-erlang:before {\n  content: "\\f39d"; }\n\n.fa-ethereum:before {\n  content: "\\f42e"; }\n\n.fa-ethernet:before {\n  content: "\\f796"; }\n\n.fa-etsy:before {\n  content: "\\f2d7"; }\n\n.fa-euro-sign:before {\n  content: "\\f153"; }\n\n.fa-evernote:before {\n  content: "\\f839"; }\n\n.fa-exchange-alt:before {\n  content: "\\f362"; }\n\n.fa-exclamation:before {\n  content: "\\f12a"; }\n\n.fa-exclamation-circle:before {\n  content: "\\f06a"; }\n\n.fa-exclamation-triangle:before {\n  content: "\\f071"; }\n\n.fa-expand:before {\n  content: "\\f065"; }\n\n.fa-expand-alt:before {\n  content: "\\f424"; }\n\n.fa-expand-arrows-alt:before {\n  content: "\\f31e"; }\n\n.fa-expeditedssl:before {\n  content: "\\f23e"; }\n\n.fa-external-link-alt:before {\n  content: "\\f35d"; }\n\n.fa-external-link-square-alt:before {\n  content: "\\f360"; }\n\n.fa-eye:before {\n  content: "\\f06e"; }\n\n.fa-eye-dropper:before {\n  content: "\\f1fb"; }\n\n.fa-eye-slash:before {\n  content: "\\f070"; }\n\n.fa-facebook:before {\n  content: "\\f09a"; }\n\n.fa-facebook-f:before {\n  content: "\\f39e"; }\n\n.fa-facebook-messenger:before {\n  content: "\\f39f"; }\n\n.fa-facebook-square:before {\n  content: "\\f082"; }\n\n.fa-fan:before {\n  content: "\\f863"; }\n\n.fa-fantasy-flight-games:before {\n  content: "\\f6dc"; }\n\n.fa-fast-backward:before {\n  content: "\\f049"; }\n\n.fa-fast-forward:before {\n  content: "\\f050"; }\n\n.fa-faucet:before {\n  content: "\\e005"; }\n\n.fa-fax:before {\n  content: "\\f1ac"; }\n\n.fa-feather:before {\n  content: "\\f52d"; }\n\n.fa-feather-alt:before {\n  content: "\\f56b"; }\n\n.fa-fedex:before {\n  content: "\\f797"; }\n\n.fa-fedora:before {\n  content: "\\f798"; }\n\n.fa-female:before {\n  content: "\\f182"; }\n\n.fa-fighter-jet:before {\n  content: "\\f0fb"; }\n\n.fa-figma:before {\n  content: "\\f799"; }\n\n.fa-file:before {\n  content: "\\f15b"; }\n\n.fa-file-alt:before {\n  content: "\\f15c"; }\n\n.fa-file-archive:before {\n  content: "\\f1c6"; }\n\n.fa-file-audio:before {\n  content: "\\f1c7"; }\n\n.fa-file-code:before {\n  content: "\\f1c9"; }\n\n.fa-file-contract:before {\n  content: "\\f56c"; }\n\n.fa-file-csv:before {\n  content: "\\f6dd"; }\n\n.fa-file-download:before {\n  content: "\\f56d"; }\n\n.fa-file-excel:before {\n  content: "\\f1c3"; }\n\n.fa-file-export:before {\n  content: "\\f56e"; }\n\n.fa-file-image:before {\n  content: "\\f1c5"; }\n\n.fa-file-import:before {\n  content: "\\f56f"; }\n\n.fa-file-invoice:before {\n  content: "\\f570"; }\n\n.fa-file-invoice-dollar:before {\n  content: "\\f571"; }\n\n.fa-file-medical:before {\n  content: "\\f477"; }\n\n.fa-file-medical-alt:before {\n  content: "\\f478"; }\n\n.fa-file-pdf:before {\n  content: "\\f1c1"; }\n\n.fa-file-powerpoint:before {\n  content: "\\f1c4"; }\n\n.fa-file-prescription:before {\n  content: "\\f572"; }\n\n.fa-file-signature:before {\n  content: "\\f573"; }\n\n.fa-file-upload:before {\n  content: "\\f574"; }\n\n.fa-file-video:before {\n  content: "\\f1c8"; }\n\n.fa-file-word:before {\n  content: "\\f1c2"; }\n\n.fa-fill:before {\n  content: "\\f575"; }\n\n.fa-fill-drip:before {\n  content: "\\f576"; }\n\n.fa-film:before {\n  content: "\\f008"; }\n\n.fa-filter:before {\n  content: "\\f0b0"; }\n\n.fa-fingerprint:before {\n  content: "\\f577"; }\n\n.fa-fire:before {\n  content: "\\f06d"; }\n\n.fa-fire-alt:before {\n  content: "\\f7e4"; }\n\n.fa-fire-extinguisher:before {\n  content: "\\f134"; }\n\n.fa-firefox:before {\n  content: "\\f269"; }\n\n.fa-firefox-browser:before {\n  content: "\\e007"; }\n\n.fa-first-aid:before {\n  content: "\\f479"; }\n\n.fa-first-order:before {\n  content: "\\f2b0"; }\n\n.fa-first-order-alt:before {\n  content: "\\f50a"; }\n\n.fa-firstdraft:before {\n  content: "\\f3a1"; }\n\n.fa-fish:before {\n  content: "\\f578"; }\n\n.fa-fist-raised:before {\n  content: "\\f6de"; }\n\n.fa-flag:before {\n  content: "\\f024"; }\n\n.fa-flag-checkered:before {\n  content: "\\f11e"; }\n\n.fa-flag-usa:before {\n  content: "\\f74d"; }\n\n.fa-flask:before {\n  content: "\\f0c3"; }\n\n.fa-flickr:before {\n  content: "\\f16e"; }\n\n.fa-flipboard:before {\n  content: "\\f44d"; }\n\n.fa-flushed:before {\n  content: "\\f579"; }\n\n.fa-fly:before {\n  content: "\\f417"; }\n\n.fa-folder:before {\n  content: "\\f07b"; }\n\n.fa-folder-minus:before {\n  content: "\\f65d"; }\n\n.fa-folder-open:before {\n  content: "\\f07c"; }\n\n.fa-folder-plus:before {\n  content: "\\f65e"; }\n\n.fa-font:before {\n  content: "\\f031"; }\n\n.fa-font-awesome:before {\n  content: "\\f2b4"; }\n\n.fa-font-awesome-alt:before {\n  content: "\\f35c"; }\n\n.fa-font-awesome-flag:before {\n  content: "\\f425"; }\n\n.fa-font-awesome-logo-full:before {\n  content: "\\f4e6"; }\n\n.fa-fonticons:before {\n  content: "\\f280"; }\n\n.fa-fonticons-fi:before {\n  content: "\\f3a2"; }\n\n.fa-football-ball:before {\n  content: "\\f44e"; }\n\n.fa-fort-awesome:before {\n  content: "\\f286"; }\n\n.fa-fort-awesome-alt:before {\n  content: "\\f3a3"; }\n\n.fa-forumbee:before {\n  content: "\\f211"; }\n\n.fa-forward:before {\n  content: "\\f04e"; }\n\n.fa-foursquare:before {\n  content: "\\f180"; }\n\n.fa-free-code-camp:before {\n  content: "\\f2c5"; }\n\n.fa-freebsd:before {\n  content: "\\f3a4"; }\n\n.fa-frog:before {\n  content: "\\f52e"; }\n\n.fa-frown:before {\n  content: "\\f119"; }\n\n.fa-frown-open:before {\n  content: "\\f57a"; }\n\n.fa-fulcrum:before {\n  content: "\\f50b"; }\n\n.fa-funnel-dollar:before {\n  content: "\\f662"; }\n\n.fa-futbol:before {\n  content: "\\f1e3"; }\n\n.fa-galactic-republic:before {\n  content: "\\f50c"; }\n\n.fa-galactic-senate:before {\n  content: "\\f50d"; }\n\n.fa-gamepad:before {\n  content: "\\f11b"; }\n\n.fa-gas-pump:before {\n  content: "\\f52f"; }\n\n.fa-gavel:before {\n  content: "\\f0e3"; }\n\n.fa-gem:before {\n  content: "\\f3a5"; }\n\n.fa-genderless:before {\n  content: "\\f22d"; }\n\n.fa-get-pocket:before {\n  content: "\\f265"; }\n\n.fa-gg:before {\n  content: "\\f260"; }\n\n.fa-gg-circle:before {\n  content: "\\f261"; }\n\n.fa-ghost:before {\n  content: "\\f6e2"; }\n\n.fa-gift:before {\n  content: "\\f06b"; }\n\n.fa-gifts:before {\n  content: "\\f79c"; }\n\n.fa-git:before {\n  content: "\\f1d3"; }\n\n.fa-git-alt:before {\n  content: "\\f841"; }\n\n.fa-git-square:before {\n  content: "\\f1d2"; }\n\n.fa-github:before {\n  content: "\\f09b"; }\n\n.fa-github-alt:before {\n  content: "\\f113"; }\n\n.fa-github-square:before {\n  content: "\\f092"; }\n\n.fa-gitkraken:before {\n  content: "\\f3a6"; }\n\n.fa-gitlab:before {\n  content: "\\f296"; }\n\n.fa-gitter:before {\n  content: "\\f426"; }\n\n.fa-glass-cheers:before {\n  content: "\\f79f"; }\n\n.fa-glass-martini:before {\n  content: "\\f000"; }\n\n.fa-glass-martini-alt:before {\n  content: "\\f57b"; }\n\n.fa-glass-whiskey:before {\n  content: "\\f7a0"; }\n\n.fa-glasses:before {\n  content: "\\f530"; }\n\n.fa-glide:before {\n  content: "\\f2a5"; }\n\n.fa-glide-g:before {\n  content: "\\f2a6"; }\n\n.fa-globe:before {\n  content: "\\f0ac"; }\n\n.fa-globe-africa:before {\n  content: "\\f57c"; }\n\n.fa-globe-americas:before {\n  content: "\\f57d"; }\n\n.fa-globe-asia:before {\n  content: "\\f57e"; }\n\n.fa-globe-europe:before {\n  content: "\\f7a2"; }\n\n.fa-gofore:before {\n  content: "\\f3a7"; }\n\n.fa-golf-ball:before {\n  content: "\\f450"; }\n\n.fa-goodreads:before {\n  content: "\\f3a8"; }\n\n.fa-goodreads-g:before {\n  content: "\\f3a9"; }\n\n.fa-google:before {\n  content: "\\f1a0"; }\n\n.fa-google-drive:before {\n  content: "\\f3aa"; }\n\n.fa-google-pay:before {\n  content: "\\e079"; }\n\n.fa-google-play:before {\n  content: "\\f3ab"; }\n\n.fa-google-plus:before {\n  content: "\\f2b3"; }\n\n.fa-google-plus-g:before {\n  content: "\\f0d5"; }\n\n.fa-google-plus-square:before {\n  content: "\\f0d4"; }\n\n.fa-google-wallet:before {\n  content: "\\f1ee"; }\n\n.fa-gopuram:before {\n  content: "\\f664"; }\n\n.fa-graduation-cap:before {\n  content: "\\f19d"; }\n\n.fa-gratipay:before {\n  content: "\\f184"; }\n\n.fa-grav:before {\n  content: "\\f2d6"; }\n\n.fa-greater-than:before {\n  content: "\\f531"; }\n\n.fa-greater-than-equal:before {\n  content: "\\f532"; }\n\n.fa-grimace:before {\n  content: "\\f57f"; }\n\n.fa-grin:before {\n  content: "\\f580"; }\n\n.fa-grin-alt:before {\n  content: "\\f581"; }\n\n.fa-grin-beam:before {\n  content: "\\f582"; }\n\n.fa-grin-beam-sweat:before {\n  content: "\\f583"; }\n\n.fa-grin-hearts:before {\n  content: "\\f584"; }\n\n.fa-grin-squint:before {\n  content: "\\f585"; }\n\n.fa-grin-squint-tears:before {\n  content: "\\f586"; }\n\n.fa-grin-stars:before {\n  content: "\\f587"; }\n\n.fa-grin-tears:before {\n  content: "\\f588"; }\n\n.fa-grin-tongue:before {\n  content: "\\f589"; }\n\n.fa-grin-tongue-squint:before {\n  content: "\\f58a"; }\n\n.fa-grin-tongue-wink:before {\n  content: "\\f58b"; }\n\n.fa-grin-wink:before {\n  content: "\\f58c"; }\n\n.fa-grip-horizontal:before {\n  content: "\\f58d"; }\n\n.fa-grip-lines:before {\n  content: "\\f7a4"; }\n\n.fa-grip-lines-vertical:before {\n  content: "\\f7a5"; }\n\n.fa-grip-vertical:before {\n  content: "\\f58e"; }\n\n.fa-gripfire:before {\n  content: "\\f3ac"; }\n\n.fa-grunt:before {\n  content: "\\f3ad"; }\n\n.fa-guilded:before {\n  content: "\\e07e"; }\n\n.fa-guitar:before {\n  content: "\\f7a6"; }\n\n.fa-gulp:before {\n  content: "\\f3ae"; }\n\n.fa-h-square:before {\n  content: "\\f0fd"; }\n\n.fa-hacker-news:before {\n  content: "\\f1d4"; }\n\n.fa-hacker-news-square:before {\n  content: "\\f3af"; }\n\n.fa-hackerrank:before {\n  content: "\\f5f7"; }\n\n.fa-hamburger:before {\n  content: "\\f805"; }\n\n.fa-hammer:before {\n  content: "\\f6e3"; }\n\n.fa-hamsa:before {\n  content: "\\f665"; }\n\n.fa-hand-holding:before {\n  content: "\\f4bd"; }\n\n.fa-hand-holding-heart:before {\n  content: "\\f4be"; }\n\n.fa-hand-holding-medical:before {\n  content: "\\e05c"; }\n\n.fa-hand-holding-usd:before {\n  content: "\\f4c0"; }\n\n.fa-hand-holding-water:before {\n  content: "\\f4c1"; }\n\n.fa-hand-lizard:before {\n  content: "\\f258"; }\n\n.fa-hand-middle-finger:before {\n  content: "\\f806"; }\n\n.fa-hand-paper:before {\n  content: "\\f256"; }\n\n.fa-hand-peace:before {\n  content: "\\f25b"; }\n\n.fa-hand-point-down:before {\n  content: "\\f0a7"; }\n\n.fa-hand-point-left:before {\n  content: "\\f0a5"; }\n\n.fa-hand-point-right:before {\n  content: "\\f0a4"; }\n\n.fa-hand-point-up:before {\n  content: "\\f0a6"; }\n\n.fa-hand-pointer:before {\n  content: "\\f25a"; }\n\n.fa-hand-rock:before {\n  content: "\\f255"; }\n\n.fa-hand-scissors:before {\n  content: "\\f257"; }\n\n.fa-hand-sparkles:before {\n  content: "\\e05d"; }\n\n.fa-hand-spock:before {\n  content: "\\f259"; }\n\n.fa-hands:before {\n  content: "\\f4c2"; }\n\n.fa-hands-helping:before {\n  content: "\\f4c4"; }\n\n.fa-hands-wash:before {\n  content: "\\e05e"; }\n\n.fa-handshake:before {\n  content: "\\f2b5"; }\n\n.fa-handshake-alt-slash:before {\n  content: "\\e05f"; }\n\n.fa-handshake-slash:before {\n  content: "\\e060"; }\n\n.fa-hanukiah:before {\n  content: "\\f6e6"; }\n\n.fa-hard-hat:before {\n  content: "\\f807"; }\n\n.fa-hashtag:before {\n  content: "\\f292"; }\n\n.fa-hat-cowboy:before {\n  content: "\\f8c0"; }\n\n.fa-hat-cowboy-side:before {\n  content: "\\f8c1"; }\n\n.fa-hat-wizard:before {\n  content: "\\f6e8"; }\n\n.fa-hdd:before {\n  content: "\\f0a0"; }\n\n.fa-head-side-cough:before {\n  content: "\\e061"; }\n\n.fa-head-side-cough-slash:before {\n  content: "\\e062"; }\n\n.fa-head-side-mask:before {\n  content: "\\e063"; }\n\n.fa-head-side-virus:before {\n  content: "\\e064"; }\n\n.fa-heading:before {\n  content: "\\f1dc"; }\n\n.fa-headphones:before {\n  content: "\\f025"; }\n\n.fa-headphones-alt:before {\n  content: "\\f58f"; }\n\n.fa-headset:before {\n  content: "\\f590"; }\n\n.fa-heart:before {\n  content: "\\f004"; }\n\n.fa-heart-broken:before {\n  content: "\\f7a9"; }\n\n.fa-heartbeat:before {\n  content: "\\f21e"; }\n\n.fa-helicopter:before {\n  content: "\\f533"; }\n\n.fa-highlighter:before {\n  content: "\\f591"; }\n\n.fa-hiking:before {\n  content: "\\f6ec"; }\n\n.fa-hippo:before {\n  content: "\\f6ed"; }\n\n.fa-hips:before {\n  content: "\\f452"; }\n\n.fa-hire-a-helper:before {\n  content: "\\f3b0"; }\n\n.fa-history:before {\n  content: "\\f1da"; }\n\n.fa-hive:before {\n  content: "\\e07f"; }\n\n.fa-hockey-puck:before {\n  content: "\\f453"; }\n\n.fa-holly-berry:before {\n  content: "\\f7aa"; }\n\n.fa-home:before {\n  content: "\\f015"; }\n\n.fa-hooli:before {\n  content: "\\f427"; }\n\n.fa-hornbill:before {\n  content: "\\f592"; }\n\n.fa-horse:before {\n  content: "\\f6f0"; }\n\n.fa-horse-head:before {\n  content: "\\f7ab"; }\n\n.fa-hospital:before {\n  content: "\\f0f8"; }\n\n.fa-hospital-alt:before {\n  content: "\\f47d"; }\n\n.fa-hospital-symbol:before {\n  content: "\\f47e"; }\n\n.fa-hospital-user:before {\n  content: "\\f80d"; }\n\n.fa-hot-tub:before {\n  content: "\\f593"; }\n\n.fa-hotdog:before {\n  content: "\\f80f"; }\n\n.fa-hotel:before {\n  content: "\\f594"; }\n\n.fa-hotjar:before {\n  content: "\\f3b1"; }\n\n.fa-hourglass:before {\n  content: "\\f254"; }\n\n.fa-hourglass-end:before {\n  content: "\\f253"; }\n\n.fa-hourglass-half:before {\n  content: "\\f252"; }\n\n.fa-hourglass-start:before {\n  content: "\\f251"; }\n\n.fa-house-damage:before {\n  content: "\\f6f1"; }\n\n.fa-house-user:before {\n  content: "\\e065"; }\n\n.fa-houzz:before {\n  content: "\\f27c"; }\n\n.fa-hryvnia:before {\n  content: "\\f6f2"; }\n\n.fa-html5:before {\n  content: "\\f13b"; }\n\n.fa-hubspot:before {\n  content: "\\f3b2"; }\n\n.fa-i-cursor:before {\n  content: "\\f246"; }\n\n.fa-ice-cream:before {\n  content: "\\f810"; }\n\n.fa-icicles:before {\n  content: "\\f7ad"; }\n\n.fa-icons:before {\n  content: "\\f86d"; }\n\n.fa-id-badge:before {\n  content: "\\f2c1"; }\n\n.fa-id-card:before {\n  content: "\\f2c2"; }\n\n.fa-id-card-alt:before {\n  content: "\\f47f"; }\n\n.fa-ideal:before {\n  content: "\\e013"; }\n\n.fa-igloo:before {\n  content: "\\f7ae"; }\n\n.fa-image:before {\n  content: "\\f03e"; }\n\n.fa-images:before {\n  content: "\\f302"; }\n\n.fa-imdb:before {\n  content: "\\f2d8"; }\n\n.fa-inbox:before {\n  content: "\\f01c"; }\n\n.fa-indent:before {\n  content: "\\f03c"; }\n\n.fa-industry:before {\n  content: "\\f275"; }\n\n.fa-infinity:before {\n  content: "\\f534"; }\n\n.fa-info:before {\n  content: "\\f129"; }\n\n.fa-info-circle:before {\n  content: "\\f05a"; }\n\n.fa-innosoft:before {\n  content: "\\e080"; }\n\n.fa-instagram:before {\n  content: "\\f16d"; }\n\n.fa-instagram-square:before {\n  content: "\\e055"; }\n\n.fa-instalod:before {\n  content: "\\e081"; }\n\n.fa-intercom:before {\n  content: "\\f7af"; }\n\n.fa-internet-explorer:before {\n  content: "\\f26b"; }\n\n.fa-invision:before {\n  content: "\\f7b0"; }\n\n.fa-ioxhost:before {\n  content: "\\f208"; }\n\n.fa-italic:before {\n  content: "\\f033"; }\n\n.fa-itch-io:before {\n  content: "\\f83a"; }\n\n.fa-itunes:before {\n  content: "\\f3b4"; }\n\n.fa-itunes-note:before {\n  content: "\\f3b5"; }\n\n.fa-java:before {\n  content: "\\f4e4"; }\n\n.fa-jedi:before {\n  content: "\\f669"; }\n\n.fa-jedi-order:before {\n  content: "\\f50e"; }\n\n.fa-jenkins:before {\n  content: "\\f3b6"; }\n\n.fa-jira:before {\n  content: "\\f7b1"; }\n\n.fa-joget:before {\n  content: "\\f3b7"; }\n\n.fa-joint:before {\n  content: "\\f595"; }\n\n.fa-joomla:before {\n  content: "\\f1aa"; }\n\n.fa-journal-whills:before {\n  content: "\\f66a"; }\n\n.fa-js:before {\n  content: "\\f3b8"; }\n\n.fa-js-square:before {\n  content: "\\f3b9"; }\n\n.fa-jsfiddle:before {\n  content: "\\f1cc"; }\n\n.fa-kaaba:before {\n  content: "\\f66b"; }\n\n.fa-kaggle:before {\n  content: "\\f5fa"; }\n\n.fa-key:before {\n  content: "\\f084"; }\n\n.fa-keybase:before {\n  content: "\\f4f5"; }\n\n.fa-keyboard:before {\n  content: "\\f11c"; }\n\n.fa-keycdn:before {\n  content: "\\f3ba"; }\n\n.fa-khanda:before {\n  content: "\\f66d"; }\n\n.fa-kickstarter:before {\n  content: "\\f3bb"; }\n\n.fa-kickstarter-k:before {\n  content: "\\f3bc"; }\n\n.fa-kiss:before {\n  content: "\\f596"; }\n\n.fa-kiss-beam:before {\n  content: "\\f597"; }\n\n.fa-kiss-wink-heart:before {\n  content: "\\f598"; }\n\n.fa-kiwi-bird:before {\n  content: "\\f535"; }\n\n.fa-korvue:before {\n  content: "\\f42f"; }\n\n.fa-landmark:before {\n  content: "\\f66f"; }\n\n.fa-language:before {\n  content: "\\f1ab"; }\n\n.fa-laptop:before {\n  content: "\\f109"; }\n\n.fa-laptop-code:before {\n  content: "\\f5fc"; }\n\n.fa-laptop-house:before {\n  content: "\\e066"; }\n\n.fa-laptop-medical:before {\n  content: "\\f812"; }\n\n.fa-laravel:before {\n  content: "\\f3bd"; }\n\n.fa-lastfm:before {\n  content: "\\f202"; }\n\n.fa-lastfm-square:before {\n  content: "\\f203"; }\n\n.fa-laugh:before {\n  content: "\\f599"; }\n\n.fa-laugh-beam:before {\n  content: "\\f59a"; }\n\n.fa-laugh-squint:before {\n  content: "\\f59b"; }\n\n.fa-laugh-wink:before {\n  content: "\\f59c"; }\n\n.fa-layer-group:before {\n  content: "\\f5fd"; }\n\n.fa-leaf:before {\n  content: "\\f06c"; }\n\n.fa-leanpub:before {\n  content: "\\f212"; }\n\n.fa-lemon:before {\n  content: "\\f094"; }\n\n.fa-less:before {\n  content: "\\f41d"; }\n\n.fa-less-than:before {\n  content: "\\f536"; }\n\n.fa-less-than-equal:before {\n  content: "\\f537"; }\n\n.fa-level-down-alt:before {\n  content: "\\f3be"; }\n\n.fa-level-up-alt:before {\n  content: "\\f3bf"; }\n\n.fa-life-ring:before {\n  content: "\\f1cd"; }\n\n.fa-lightbulb:before {\n  content: "\\f0eb"; }\n\n.fa-line:before {\n  content: "\\f3c0"; }\n\n.fa-link:before {\n  content: "\\f0c1"; }\n\n.fa-linkedin:before {\n  content: "\\f08c"; }\n\n.fa-linkedin-in:before {\n  content: "\\f0e1"; }\n\n.fa-linode:before {\n  content: "\\f2b8"; }\n\n.fa-linux:before {\n  content: "\\f17c"; }\n\n.fa-lira-sign:before {\n  content: "\\f195"; }\n\n.fa-list:before {\n  content: "\\f03a"; }\n\n.fa-list-alt:before {\n  content: "\\f022"; }\n\n.fa-list-ol:before {\n  content: "\\f0cb"; }\n\n.fa-list-ul:before {\n  content: "\\f0ca"; }\n\n.fa-location-arrow:before {\n  content: "\\f124"; }\n\n.fa-lock:before {\n  content: "\\f023"; }\n\n.fa-lock-open:before {\n  content: "\\f3c1"; }\n\n.fa-long-arrow-alt-down:before {\n  content: "\\f309"; }\n\n.fa-long-arrow-alt-left:before {\n  content: "\\f30a"; }\n\n.fa-long-arrow-alt-right:before {\n  content: "\\f30b"; }\n\n.fa-long-arrow-alt-up:before {\n  content: "\\f30c"; }\n\n.fa-low-vision:before {\n  content: "\\f2a8"; }\n\n.fa-luggage-cart:before {\n  content: "\\f59d"; }\n\n.fa-lungs:before {\n  content: "\\f604"; }\n\n.fa-lungs-virus:before {\n  content: "\\e067"; }\n\n.fa-lyft:before {\n  content: "\\f3c3"; }\n\n.fa-magento:before {\n  content: "\\f3c4"; }\n\n.fa-magic:before {\n  content: "\\f0d0"; }\n\n.fa-magnet:before {\n  content: "\\f076"; }\n\n.fa-mail-bulk:before {\n  content: "\\f674"; }\n\n.fa-mailchimp:before {\n  content: "\\f59e"; }\n\n.fa-male:before {\n  content: "\\f183"; }\n\n.fa-mandalorian:before {\n  content: "\\f50f"; }\n\n.fa-map:before {\n  content: "\\f279"; }\n\n.fa-map-marked:before {\n  content: "\\f59f"; }\n\n.fa-map-marked-alt:before {\n  content: "\\f5a0"; }\n\n.fa-map-marker:before {\n  content: "\\f041"; }\n\n.fa-map-marker-alt:before {\n  content: "\\f3c5"; }\n\n.fa-map-pin:before {\n  content: "\\f276"; }\n\n.fa-map-signs:before {\n  content: "\\f277"; }\n\n.fa-markdown:before {\n  content: "\\f60f"; }\n\n.fa-marker:before {\n  content: "\\f5a1"; }\n\n.fa-mars:before {\n  content: "\\f222"; }\n\n.fa-mars-double:before {\n  content: "\\f227"; }\n\n.fa-mars-stroke:before {\n  content: "\\f229"; }\n\n.fa-mars-stroke-h:before {\n  content: "\\f22b"; }\n\n.fa-mars-stroke-v:before {\n  content: "\\f22a"; }\n\n.fa-mask:before {\n  content: "\\f6fa"; }\n\n.fa-mastodon:before {\n  content: "\\f4f6"; }\n\n.fa-maxcdn:before {\n  content: "\\f136"; }\n\n.fa-mdb:before {\n  content: "\\f8ca"; }\n\n.fa-medal:before {\n  content: "\\f5a2"; }\n\n.fa-medapps:before {\n  content: "\\f3c6"; }\n\n.fa-medium:before {\n  content: "\\f23a"; }\n\n.fa-medium-m:before {\n  content: "\\f3c7"; }\n\n.fa-medkit:before {\n  content: "\\f0fa"; }\n\n.fa-medrt:before {\n  content: "\\f3c8"; }\n\n.fa-meetup:before {\n  content: "\\f2e0"; }\n\n.fa-megaport:before {\n  content: "\\f5a3"; }\n\n.fa-meh:before {\n  content: "\\f11a"; }\n\n.fa-meh-blank:before {\n  content: "\\f5a4"; }\n\n.fa-meh-rolling-eyes:before {\n  content: "\\f5a5"; }\n\n.fa-memory:before {\n  content: "\\f538"; }\n\n.fa-mendeley:before {\n  content: "\\f7b3"; }\n\n.fa-menorah:before {\n  content: "\\f676"; }\n\n.fa-mercury:before {\n  content: "\\f223"; }\n\n.fa-meteor:before {\n  content: "\\f753"; }\n\n.fa-microblog:before {\n  content: "\\e01a"; }\n\n.fa-microchip:before {\n  content: "\\f2db"; }\n\n.fa-microphone:before {\n  content: "\\f130"; }\n\n.fa-microphone-alt:before {\n  content: "\\f3c9"; }\n\n.fa-microphone-alt-slash:before {\n  content: "\\f539"; }\n\n.fa-microphone-slash:before {\n  content: "\\f131"; }\n\n.fa-microscope:before {\n  content: "\\f610"; }\n\n.fa-microsoft:before {\n  content: "\\f3ca"; }\n\n.fa-minus:before {\n  content: "\\f068"; }\n\n.fa-minus-circle:before {\n  content: "\\f056"; }\n\n.fa-minus-square:before {\n  content: "\\f146"; }\n\n.fa-mitten:before {\n  content: "\\f7b5"; }\n\n.fa-mix:before {\n  content: "\\f3cb"; }\n\n.fa-mixcloud:before {\n  content: "\\f289"; }\n\n.fa-mixer:before {\n  content: "\\e056"; }\n\n.fa-mizuni:before {\n  content: "\\f3cc"; }\n\n.fa-mobile:before {\n  content: "\\f10b"; }\n\n.fa-mobile-alt:before {\n  content: "\\f3cd"; }\n\n.fa-modx:before {\n  content: "\\f285"; }\n\n.fa-monero:before {\n  content: "\\f3d0"; }\n\n.fa-money-bill:before {\n  content: "\\f0d6"; }\n\n.fa-money-bill-alt:before {\n  content: "\\f3d1"; }\n\n.fa-money-bill-wave:before {\n  content: "\\f53a"; }\n\n.fa-money-bill-wave-alt:before {\n  content: "\\f53b"; }\n\n.fa-money-check:before {\n  content: "\\f53c"; }\n\n.fa-money-check-alt:before {\n  content: "\\f53d"; }\n\n.fa-monument:before {\n  content: "\\f5a6"; }\n\n.fa-moon:before {\n  content: "\\f186"; }\n\n.fa-mortar-pestle:before {\n  content: "\\f5a7"; }\n\n.fa-mosque:before {\n  content: "\\f678"; }\n\n.fa-motorcycle:before {\n  content: "\\f21c"; }\n\n.fa-mountain:before {\n  content: "\\f6fc"; }\n\n.fa-mouse:before {\n  content: "\\f8cc"; }\n\n.fa-mouse-pointer:before {\n  content: "\\f245"; }\n\n.fa-mug-hot:before {\n  content: "\\f7b6"; }\n\n.fa-music:before {\n  content: "\\f001"; }\n\n.fa-napster:before {\n  content: "\\f3d2"; }\n\n.fa-neos:before {\n  content: "\\f612"; }\n\n.fa-network-wired:before {\n  content: "\\f6ff"; }\n\n.fa-neuter:before {\n  content: "\\f22c"; }\n\n.fa-newspaper:before {\n  content: "\\f1ea"; }\n\n.fa-nimblr:before {\n  content: "\\f5a8"; }\n\n.fa-node:before {\n  content: "\\f419"; }\n\n.fa-node-js:before {\n  content: "\\f3d3"; }\n\n.fa-not-equal:before {\n  content: "\\f53e"; }\n\n.fa-notes-medical:before {\n  content: "\\f481"; }\n\n.fa-npm:before {\n  content: "\\f3d4"; }\n\n.fa-ns8:before {\n  content: "\\f3d5"; }\n\n.fa-nutritionix:before {\n  content: "\\f3d6"; }\n\n.fa-object-group:before {\n  content: "\\f247"; }\n\n.fa-object-ungroup:before {\n  content: "\\f248"; }\n\n.fa-octopus-deploy:before {\n  content: "\\e082"; }\n\n.fa-odnoklassniki:before {\n  content: "\\f263"; }\n\n.fa-odnoklassniki-square:before {\n  content: "\\f264"; }\n\n.fa-oil-can:before {\n  content: "\\f613"; }\n\n.fa-old-republic:before {\n  content: "\\f510"; }\n\n.fa-om:before {\n  content: "\\f679"; }\n\n.fa-opencart:before {\n  content: "\\f23d"; }\n\n.fa-openid:before {\n  content: "\\f19b"; }\n\n.fa-opera:before {\n  content: "\\f26a"; }\n\n.fa-optin-monster:before {\n  content: "\\f23c"; }\n\n.fa-orcid:before {\n  content: "\\f8d2"; }\n\n.fa-osi:before {\n  content: "\\f41a"; }\n\n.fa-otter:before {\n  content: "\\f700"; }\n\n.fa-outdent:before {\n  content: "\\f03b"; }\n\n.fa-page4:before {\n  content: "\\f3d7"; }\n\n.fa-pagelines:before {\n  content: "\\f18c"; }\n\n.fa-pager:before {\n  content: "\\f815"; }\n\n.fa-paint-brush:before {\n  content: "\\f1fc"; }\n\n.fa-paint-roller:before {\n  content: "\\f5aa"; }\n\n.fa-palette:before {\n  content: "\\f53f"; }\n\n.fa-palfed:before {\n  content: "\\f3d8"; }\n\n.fa-pallet:before {\n  content: "\\f482"; }\n\n.fa-paper-plane:before {\n  content: "\\f1d8"; }\n\n.fa-paperclip:before {\n  content: "\\f0c6"; }\n\n.fa-parachute-box:before {\n  content: "\\f4cd"; }\n\n.fa-paragraph:before {\n  content: "\\f1dd"; }\n\n.fa-parking:before {\n  content: "\\f540"; }\n\n.fa-passport:before {\n  content: "\\f5ab"; }\n\n.fa-pastafarianism:before {\n  content: "\\f67b"; }\n\n.fa-paste:before {\n  content: "\\f0ea"; }\n\n.fa-patreon:before {\n  content: "\\f3d9"; }\n\n.fa-pause:before {\n  content: "\\f04c"; }\n\n.fa-pause-circle:before {\n  content: "\\f28b"; }\n\n.fa-paw:before {\n  content: "\\f1b0"; }\n\n.fa-paypal:before {\n  content: "\\f1ed"; }\n\n.fa-peace:before {\n  content: "\\f67c"; }\n\n.fa-pen:before {\n  content: "\\f304"; }\n\n.fa-pen-alt:before {\n  content: "\\f305"; }\n\n.fa-pen-fancy:before {\n  content: "\\f5ac"; }\n\n.fa-pen-nib:before {\n  content: "\\f5ad"; }\n\n.fa-pen-square:before {\n  content: "\\f14b"; }\n\n.fa-pencil-alt:before {\n  content: "\\f303"; }\n\n.fa-pencil-ruler:before {\n  content: "\\f5ae"; }\n\n.fa-penny-arcade:before {\n  content: "\\f704"; }\n\n.fa-people-arrows:before {\n  content: "\\e068"; }\n\n.fa-people-carry:before {\n  content: "\\f4ce"; }\n\n.fa-pepper-hot:before {\n  content: "\\f816"; }\n\n.fa-perbyte:before {\n  content: "\\e083"; }\n\n.fa-percent:before {\n  content: "\\f295"; }\n\n.fa-percentage:before {\n  content: "\\f541"; }\n\n.fa-periscope:before {\n  content: "\\f3da"; }\n\n.fa-person-booth:before {\n  content: "\\f756"; }\n\n.fa-phabricator:before {\n  content: "\\f3db"; }\n\n.fa-phoenix-framework:before {\n  content: "\\f3dc"; }\n\n.fa-phoenix-squadron:before {\n  content: "\\f511"; }\n\n.fa-phone:before {\n  content: "\\f095"; }\n\n.fa-phone-alt:before {\n  content: "\\f879"; }\n\n.fa-phone-slash:before {\n  content: "\\f3dd"; }\n\n.fa-phone-square:before {\n  content: "\\f098"; }\n\n.fa-phone-square-alt:before {\n  content: "\\f87b"; }\n\n.fa-phone-volume:before {\n  content: "\\f2a0"; }\n\n.fa-photo-video:before {\n  content: "\\f87c"; }\n\n.fa-php:before {\n  content: "\\f457"; }\n\n.fa-pied-piper:before {\n  content: "\\f2ae"; }\n\n.fa-pied-piper-alt:before {\n  content: "\\f1a8"; }\n\n.fa-pied-piper-hat:before {\n  content: "\\f4e5"; }\n\n.fa-pied-piper-pp:before {\n  content: "\\f1a7"; }\n\n.fa-pied-piper-square:before {\n  content: "\\e01e"; }\n\n.fa-piggy-bank:before {\n  content: "\\f4d3"; }\n\n.fa-pills:before {\n  content: "\\f484"; }\n\n.fa-pinterest:before {\n  content: "\\f0d2"; }\n\n.fa-pinterest-p:before {\n  content: "\\f231"; }\n\n.fa-pinterest-square:before {\n  content: "\\f0d3"; }\n\n.fa-pizza-slice:before {\n  content: "\\f818"; }\n\n.fa-place-of-worship:before {\n  content: "\\f67f"; }\n\n.fa-plane:before {\n  content: "\\f072"; }\n\n.fa-plane-arrival:before {\n  content: "\\f5af"; }\n\n.fa-plane-departure:before {\n  content: "\\f5b0"; }\n\n.fa-plane-slash:before {\n  content: "\\e069"; }\n\n.fa-play:before {\n  content: "\\f04b"; }\n\n.fa-play-circle:before {\n  content: "\\f144"; }\n\n.fa-playstation:before {\n  content: "\\f3df"; }\n\n.fa-plug:before {\n  content: "\\f1e6"; }\n\n.fa-plus:before {\n  content: "\\f067"; }\n\n.fa-plus-circle:before {\n  content: "\\f055"; }\n\n.fa-plus-square:before {\n  content: "\\f0fe"; }\n\n.fa-podcast:before {\n  content: "\\f2ce"; }\n\n.fa-poll:before {\n  content: "\\f681"; }\n\n.fa-poll-h:before {\n  content: "\\f682"; }\n\n.fa-poo:before {\n  content: "\\f2fe"; }\n\n.fa-poo-storm:before {\n  content: "\\f75a"; }\n\n.fa-poop:before {\n  content: "\\f619"; }\n\n.fa-portrait:before {\n  content: "\\f3e0"; }\n\n.fa-pound-sign:before {\n  content: "\\f154"; }\n\n.fa-power-off:before {\n  content: "\\f011"; }\n\n.fa-pray:before {\n  content: "\\f683"; }\n\n.fa-praying-hands:before {\n  content: "\\f684"; }\n\n.fa-prescription:before {\n  content: "\\f5b1"; }\n\n.fa-prescription-bottle:before {\n  content: "\\f485"; }\n\n.fa-prescription-bottle-alt:before {\n  content: "\\f486"; }\n\n.fa-print:before {\n  content: "\\f02f"; }\n\n.fa-procedures:before {\n  content: "\\f487"; }\n\n.fa-product-hunt:before {\n  content: "\\f288"; }\n\n.fa-project-diagram:before {\n  content: "\\f542"; }\n\n.fa-pump-medical:before {\n  content: "\\e06a"; }\n\n.fa-pump-soap:before {\n  content: "\\e06b"; }\n\n.fa-pushed:before {\n  content: "\\f3e1"; }\n\n.fa-puzzle-piece:before {\n  content: "\\f12e"; }\n\n.fa-python:before {\n  content: "\\f3e2"; }\n\n.fa-qq:before {\n  content: "\\f1d6"; }\n\n.fa-qrcode:before {\n  content: "\\f029"; }\n\n.fa-question:before {\n  content: "\\f128"; }\n\n.fa-question-circle:before {\n  content: "\\f059"; }\n\n.fa-quidditch:before {\n  content: "\\f458"; }\n\n.fa-quinscape:before {\n  content: "\\f459"; }\n\n.fa-quora:before {\n  content: "\\f2c4"; }\n\n.fa-quote-left:before {\n  content: "\\f10d"; }\n\n.fa-quote-right:before {\n  content: "\\f10e"; }\n\n.fa-quran:before {\n  content: "\\f687"; }\n\n.fa-r-project:before {\n  content: "\\f4f7"; }\n\n.fa-radiation:before {\n  content: "\\f7b9"; }\n\n.fa-radiation-alt:before {\n  content: "\\f7ba"; }\n\n.fa-rainbow:before {\n  content: "\\f75b"; }\n\n.fa-random:before {\n  content: "\\f074"; }\n\n.fa-raspberry-pi:before {\n  content: "\\f7bb"; }\n\n.fa-ravelry:before {\n  content: "\\f2d9"; }\n\n.fa-react:before {\n  content: "\\f41b"; }\n\n.fa-reacteurope:before {\n  content: "\\f75d"; }\n\n.fa-readme:before {\n  content: "\\f4d5"; }\n\n.fa-rebel:before {\n  content: "\\f1d0"; }\n\n.fa-receipt:before {\n  content: "\\f543"; }\n\n.fa-record-vinyl:before {\n  content: "\\f8d9"; }\n\n.fa-recycle:before {\n  content: "\\f1b8"; }\n\n.fa-red-river:before {\n  content: "\\f3e3"; }\n\n.fa-reddit:before {\n  content: "\\f1a1"; }\n\n.fa-reddit-alien:before {\n  content: "\\f281"; }\n\n.fa-reddit-square:before {\n  content: "\\f1a2"; }\n\n.fa-redhat:before {\n  content: "\\f7bc"; }\n\n.fa-redo:before {\n  content: "\\f01e"; }\n\n.fa-redo-alt:before {\n  content: "\\f2f9"; }\n\n.fa-registered:before {\n  content: "\\f25d"; }\n\n.fa-remove-format:before {\n  content: "\\f87d"; }\n\n.fa-renren:before {\n  content: "\\f18b"; }\n\n.fa-reply:before {\n  content: "\\f3e5"; }\n\n.fa-reply-all:before {\n  content: "\\f122"; }\n\n.fa-replyd:before {\n  content: "\\f3e6"; }\n\n.fa-republican:before {\n  content: "\\f75e"; }\n\n.fa-researchgate:before {\n  content: "\\f4f8"; }\n\n.fa-resolving:before {\n  content: "\\f3e7"; }\n\n.fa-restroom:before {\n  content: "\\f7bd"; }\n\n.fa-retweet:before {\n  content: "\\f079"; }\n\n.fa-rev:before {\n  content: "\\f5b2"; }\n\n.fa-ribbon:before {\n  content: "\\f4d6"; }\n\n.fa-ring:before {\n  content: "\\f70b"; }\n\n.fa-road:before {\n  content: "\\f018"; }\n\n.fa-robot:before {\n  content: "\\f544"; }\n\n.fa-rocket:before {\n  content: "\\f135"; }\n\n.fa-rocketchat:before {\n  content: "\\f3e8"; }\n\n.fa-rockrms:before {\n  content: "\\f3e9"; }\n\n.fa-route:before {\n  content: "\\f4d7"; }\n\n.fa-rss:before {\n  content: "\\f09e"; }\n\n.fa-rss-square:before {\n  content: "\\f143"; }\n\n.fa-ruble-sign:before {\n  content: "\\f158"; }\n\n.fa-ruler:before {\n  content: "\\f545"; }\n\n.fa-ruler-combined:before {\n  content: "\\f546"; }\n\n.fa-ruler-horizontal:before {\n  content: "\\f547"; }\n\n.fa-ruler-vertical:before {\n  content: "\\f548"; }\n\n.fa-running:before {\n  content: "\\f70c"; }\n\n.fa-rupee-sign:before {\n  content: "\\f156"; }\n\n.fa-rust:before {\n  content: "\\e07a"; }\n\n.fa-sad-cry:before {\n  content: "\\f5b3"; }\n\n.fa-sad-tear:before {\n  content: "\\f5b4"; }\n\n.fa-safari:before {\n  content: "\\f267"; }\n\n.fa-salesforce:before {\n  content: "\\f83b"; }\n\n.fa-sass:before {\n  content: "\\f41e"; }\n\n.fa-satellite:before {\n  content: "\\f7bf"; }\n\n.fa-satellite-dish:before {\n  content: "\\f7c0"; }\n\n.fa-save:before {\n  content: "\\f0c7"; }\n\n.fa-schlix:before {\n  content: "\\f3ea"; }\n\n.fa-school:before {\n  content: "\\f549"; }\n\n.fa-screwdriver:before {\n  content: "\\f54a"; }\n\n.fa-scribd:before {\n  content: "\\f28a"; }\n\n.fa-scroll:before {\n  content: "\\f70e"; }\n\n.fa-sd-card:before {\n  content: "\\f7c2"; }\n\n.fa-search:before {\n  content: "\\f002"; }\n\n.fa-search-dollar:before {\n  content: "\\f688"; }\n\n.fa-search-location:before {\n  content: "\\f689"; }\n\n.fa-search-minus:before {\n  content: "\\f010"; }\n\n.fa-search-plus:before {\n  content: "\\f00e"; }\n\n.fa-searchengin:before {\n  content: "\\f3eb"; }\n\n.fa-seedling:before {\n  content: "\\f4d8"; }\n\n.fa-sellcast:before {\n  content: "\\f2da"; }\n\n.fa-sellsy:before {\n  content: "\\f213"; }\n\n.fa-server:before {\n  content: "\\f233"; }\n\n.fa-servicestack:before {\n  content: "\\f3ec"; }\n\n.fa-shapes:before {\n  content: "\\f61f"; }\n\n.fa-share:before {\n  content: "\\f064"; }\n\n.fa-share-alt:before {\n  content: "\\f1e0"; }\n\n.fa-share-alt-square:before {\n  content: "\\f1e1"; }\n\n.fa-share-square:before {\n  content: "\\f14d"; }\n\n.fa-shekel-sign:before {\n  content: "\\f20b"; }\n\n.fa-shield-alt:before {\n  content: "\\f3ed"; }\n\n.fa-shield-virus:before {\n  content: "\\e06c"; }\n\n.fa-ship:before {\n  content: "\\f21a"; }\n\n.fa-shipping-fast:before {\n  content: "\\f48b"; }\n\n.fa-shirtsinbulk:before {\n  content: "\\f214"; }\n\n.fa-shoe-prints:before {\n  content: "\\f54b"; }\n\n.fa-shopify:before {\n  content: "\\e057"; }\n\n.fa-shopping-bag:before {\n  content: "\\f290"; }\n\n.fa-shopping-basket:before {\n  content: "\\f291"; }\n\n.fa-shopping-cart:before {\n  content: "\\f07a"; }\n\n.fa-shopware:before {\n  content: "\\f5b5"; }\n\n.fa-shower:before {\n  content: "\\f2cc"; }\n\n.fa-shuttle-van:before {\n  content: "\\f5b6"; }\n\n.fa-sign:before {\n  content: "\\f4d9"; }\n\n.fa-sign-in-alt:before {\n  content: "\\f2f6"; }\n\n.fa-sign-language:before {\n  content: "\\f2a7"; }\n\n.fa-sign-out-alt:before {\n  content: "\\f2f5"; }\n\n.fa-signal:before {\n  content: "\\f012"; }\n\n.fa-signature:before {\n  content: "\\f5b7"; }\n\n.fa-sim-card:before {\n  content: "\\f7c4"; }\n\n.fa-simplybuilt:before {\n  content: "\\f215"; }\n\n.fa-sink:before {\n  content: "\\e06d"; }\n\n.fa-sistrix:before {\n  content: "\\f3ee"; }\n\n.fa-sitemap:before {\n  content: "\\f0e8"; }\n\n.fa-sith:before {\n  content: "\\f512"; }\n\n.fa-skating:before {\n  content: "\\f7c5"; }\n\n.fa-sketch:before {\n  content: "\\f7c6"; }\n\n.fa-skiing:before {\n  content: "\\f7c9"; }\n\n.fa-skiing-nordic:before {\n  content: "\\f7ca"; }\n\n.fa-skull:before {\n  content: "\\f54c"; }\n\n.fa-skull-crossbones:before {\n  content: "\\f714"; }\n\n.fa-skyatlas:before {\n  content: "\\f216"; }\n\n.fa-skype:before {\n  content: "\\f17e"; }\n\n.fa-slack:before {\n  content: "\\f198"; }\n\n.fa-slack-hash:before {\n  content: "\\f3ef"; }\n\n.fa-slash:before {\n  content: "\\f715"; }\n\n.fa-sleigh:before {\n  content: "\\f7cc"; }\n\n.fa-sliders-h:before {\n  content: "\\f1de"; }\n\n.fa-slideshare:before {\n  content: "\\f1e7"; }\n\n.fa-smile:before {\n  content: "\\f118"; }\n\n.fa-smile-beam:before {\n  content: "\\f5b8"; }\n\n.fa-smile-wink:before {\n  content: "\\f4da"; }\n\n.fa-smog:before {\n  content: "\\f75f"; }\n\n.fa-smoking:before {\n  content: "\\f48d"; }\n\n.fa-smoking-ban:before {\n  content: "\\f54d"; }\n\n.fa-sms:before {\n  content: "\\f7cd"; }\n\n.fa-snapchat:before {\n  content: "\\f2ab"; }\n\n.fa-snapchat-ghost:before {\n  content: "\\f2ac"; }\n\n.fa-snapchat-square:before {\n  content: "\\f2ad"; }\n\n.fa-snowboarding:before {\n  content: "\\f7ce"; }\n\n.fa-snowflake:before {\n  content: "\\f2dc"; }\n\n.fa-snowman:before {\n  content: "\\f7d0"; }\n\n.fa-snowplow:before {\n  content: "\\f7d2"; }\n\n.fa-soap:before {\n  content: "\\e06e"; }\n\n.fa-socks:before {\n  content: "\\f696"; }\n\n.fa-solar-panel:before {\n  content: "\\f5ba"; }\n\n.fa-sort:before {\n  content: "\\f0dc"; }\n\n.fa-sort-alpha-down:before {\n  content: "\\f15d"; }\n\n.fa-sort-alpha-down-alt:before {\n  content: "\\f881"; }\n\n.fa-sort-alpha-up:before {\n  content: "\\f15e"; }\n\n.fa-sort-alpha-up-alt:before {\n  content: "\\f882"; }\n\n.fa-sort-amount-down:before {\n  content: "\\f160"; }\n\n.fa-sort-amount-down-alt:before {\n  content: "\\f884"; }\n\n.fa-sort-amount-up:before {\n  content: "\\f161"; }\n\n.fa-sort-amount-up-alt:before {\n  content: "\\f885"; }\n\n.fa-sort-down:before {\n  content: "\\f0dd"; }\n\n.fa-sort-numeric-down:before {\n  content: "\\f162"; }\n\n.fa-sort-numeric-down-alt:before {\n  content: "\\f886"; }\n\n.fa-sort-numeric-up:before {\n  content: "\\f163"; }\n\n.fa-sort-numeric-up-alt:before {\n  content: "\\f887"; }\n\n.fa-sort-up:before {\n  content: "\\f0de"; }\n\n.fa-soundcloud:before {\n  content: "\\f1be"; }\n\n.fa-sourcetree:before {\n  content: "\\f7d3"; }\n\n.fa-spa:before {\n  content: "\\f5bb"; }\n\n.fa-space-shuttle:before {\n  content: "\\f197"; }\n\n.fa-speakap:before {\n  content: "\\f3f3"; }\n\n.fa-speaker-deck:before {\n  content: "\\f83c"; }\n\n.fa-spell-check:before {\n  content: "\\f891"; }\n\n.fa-spider:before {\n  content: "\\f717"; }\n\n.fa-spinner:before {\n  content: "\\f110"; }\n\n.fa-splotch:before {\n  content: "\\f5bc"; }\n\n.fa-spotify:before {\n  content: "\\f1bc"; }\n\n.fa-spray-can:before {\n  content: "\\f5bd"; }\n\n.fa-square:before {\n  content: "\\f0c8"; }\n\n.fa-square-full:before {\n  content: "\\f45c"; }\n\n.fa-square-root-alt:before {\n  content: "\\f698"; }\n\n.fa-squarespace:before {\n  content: "\\f5be"; }\n\n.fa-stack-exchange:before {\n  content: "\\f18d"; }\n\n.fa-stack-overflow:before {\n  content: "\\f16c"; }\n\n.fa-stackpath:before {\n  content: "\\f842"; }\n\n.fa-stamp:before {\n  content: "\\f5bf"; }\n\n.fa-star:before {\n  content: "\\f005"; }\n\n.fa-star-and-crescent:before {\n  content: "\\f699"; }\n\n.fa-star-half:before {\n  content: "\\f089"; }\n\n.fa-star-half-alt:before {\n  content: "\\f5c0"; }\n\n.fa-star-of-david:before {\n  content: "\\f69a"; }\n\n.fa-star-of-life:before {\n  content: "\\f621"; }\n\n.fa-staylinked:before {\n  content: "\\f3f5"; }\n\n.fa-steam:before {\n  content: "\\f1b6"; }\n\n.fa-steam-square:before {\n  content: "\\f1b7"; }\n\n.fa-steam-symbol:before {\n  content: "\\f3f6"; }\n\n.fa-step-backward:before {\n  content: "\\f048"; }\n\n.fa-step-forward:before {\n  content: "\\f051"; }\n\n.fa-stethoscope:before {\n  content: "\\f0f1"; }\n\n.fa-sticker-mule:before {\n  content: "\\f3f7"; }\n\n.fa-sticky-note:before {\n  content: "\\f249"; }\n\n.fa-stop:before {\n  content: "\\f04d"; }\n\n.fa-stop-circle:before {\n  content: "\\f28d"; }\n\n.fa-stopwatch:before {\n  content: "\\f2f2"; }\n\n.fa-stopwatch-20:before {\n  content: "\\e06f"; }\n\n.fa-store:before {\n  content: "\\f54e"; }\n\n.fa-store-alt:before {\n  content: "\\f54f"; }\n\n.fa-store-alt-slash:before {\n  content: "\\e070"; }\n\n.fa-store-slash:before {\n  content: "\\e071"; }\n\n.fa-strava:before {\n  content: "\\f428"; }\n\n.fa-stream:before {\n  content: "\\f550"; }\n\n.fa-street-view:before {\n  content: "\\f21d"; }\n\n.fa-strikethrough:before {\n  content: "\\f0cc"; }\n\n.fa-stripe:before {\n  content: "\\f429"; }\n\n.fa-stripe-s:before {\n  content: "\\f42a"; }\n\n.fa-stroopwafel:before {\n  content: "\\f551"; }\n\n.fa-studiovinari:before {\n  content: "\\f3f8"; }\n\n.fa-stumbleupon:before {\n  content: "\\f1a4"; }\n\n.fa-stumbleupon-circle:before {\n  content: "\\f1a3"; }\n\n.fa-subscript:before {\n  content: "\\f12c"; }\n\n.fa-subway:before {\n  content: "\\f239"; }\n\n.fa-suitcase:before {\n  content: "\\f0f2"; }\n\n.fa-suitcase-rolling:before {\n  content: "\\f5c1"; }\n\n.fa-sun:before {\n  content: "\\f185"; }\n\n.fa-superpowers:before {\n  content: "\\f2dd"; }\n\n.fa-superscript:before {\n  content: "\\f12b"; }\n\n.fa-supple:before {\n  content: "\\f3f9"; }\n\n.fa-surprise:before {\n  content: "\\f5c2"; }\n\n.fa-suse:before {\n  content: "\\f7d6"; }\n\n.fa-swatchbook:before {\n  content: "\\f5c3"; }\n\n.fa-swift:before {\n  content: "\\f8e1"; }\n\n.fa-swimmer:before {\n  content: "\\f5c4"; }\n\n.fa-swimming-pool:before {\n  content: "\\f5c5"; }\n\n.fa-symfony:before {\n  content: "\\f83d"; }\n\n.fa-synagogue:before {\n  content: "\\f69b"; }\n\n.fa-sync:before {\n  content: "\\f021"; }\n\n.fa-sync-alt:before {\n  content: "\\f2f1"; }\n\n.fa-syringe:before {\n  content: "\\f48e"; }\n\n.fa-table:before {\n  content: "\\f0ce"; }\n\n.fa-table-tennis:before {\n  content: "\\f45d"; }\n\n.fa-tablet:before {\n  content: "\\f10a"; }\n\n.fa-tablet-alt:before {\n  content: "\\f3fa"; }\n\n.fa-tablets:before {\n  content: "\\f490"; }\n\n.fa-tachometer-alt:before {\n  content: "\\f3fd"; }\n\n.fa-tag:before {\n  content: "\\f02b"; }\n\n.fa-tags:before {\n  content: "\\f02c"; }\n\n.fa-tape:before {\n  content: "\\f4db"; }\n\n.fa-tasks:before {\n  content: "\\f0ae"; }\n\n.fa-taxi:before {\n  content: "\\f1ba"; }\n\n.fa-teamspeak:before {\n  content: "\\f4f9"; }\n\n.fa-teeth:before {\n  content: "\\f62e"; }\n\n.fa-teeth-open:before {\n  content: "\\f62f"; }\n\n.fa-telegram:before {\n  content: "\\f2c6"; }\n\n.fa-telegram-plane:before {\n  content: "\\f3fe"; }\n\n.fa-temperature-high:before {\n  content: "\\f769"; }\n\n.fa-temperature-low:before {\n  content: "\\f76b"; }\n\n.fa-tencent-weibo:before {\n  content: "\\f1d5"; }\n\n.fa-tenge:before {\n  content: "\\f7d7"; }\n\n.fa-terminal:before {\n  content: "\\f120"; }\n\n.fa-text-height:before {\n  content: "\\f034"; }\n\n.fa-text-width:before {\n  content: "\\f035"; }\n\n.fa-th:before {\n  content: "\\f00a"; }\n\n.fa-th-large:before {\n  content: "\\f009"; }\n\n.fa-th-list:before {\n  content: "\\f00b"; }\n\n.fa-the-red-yeti:before {\n  content: "\\f69d"; }\n\n.fa-theater-masks:before {\n  content: "\\f630"; }\n\n.fa-themeco:before {\n  content: "\\f5c6"; }\n\n.fa-themeisle:before {\n  content: "\\f2b2"; }\n\n.fa-thermometer:before {\n  content: "\\f491"; }\n\n.fa-thermometer-empty:before {\n  content: "\\f2cb"; }\n\n.fa-thermometer-full:before {\n  content: "\\f2c7"; }\n\n.fa-thermometer-half:before {\n  content: "\\f2c9"; }\n\n.fa-thermometer-quarter:before {\n  content: "\\f2ca"; }\n\n.fa-thermometer-three-quarters:before {\n  content: "\\f2c8"; }\n\n.fa-think-peaks:before {\n  content: "\\f731"; }\n\n.fa-thumbs-down:before {\n  content: "\\f165"; }\n\n.fa-thumbs-up:before {\n  content: "\\f164"; }\n\n.fa-thumbtack:before {\n  content: "\\f08d"; }\n\n.fa-ticket-alt:before {\n  content: "\\f3ff"; }\n\n.fa-tiktok:before {\n  content: "\\e07b"; }\n\n.fa-times:before {\n  content: "\\f00d"; }\n\n.fa-times-circle:before {\n  content: "\\f057"; }\n\n.fa-tint:before {\n  content: "\\f043"; }\n\n.fa-tint-slash:before {\n  content: "\\f5c7"; }\n\n.fa-tired:before {\n  content: "\\f5c8"; }\n\n.fa-toggle-off:before {\n  content: "\\f204"; }\n\n.fa-toggle-on:before {\n  content: "\\f205"; }\n\n.fa-toilet:before {\n  content: "\\f7d8"; }\n\n.fa-toilet-paper:before {\n  content: "\\f71e"; }\n\n.fa-toilet-paper-slash:before {\n  content: "\\e072"; }\n\n.fa-toolbox:before {\n  content: "\\f552"; }\n\n.fa-tools:before {\n  content: "\\f7d9"; }\n\n.fa-tooth:before {\n  content: "\\f5c9"; }\n\n.fa-torah:before {\n  content: "\\f6a0"; }\n\n.fa-torii-gate:before {\n  content: "\\f6a1"; }\n\n.fa-tractor:before {\n  content: "\\f722"; }\n\n.fa-trade-federation:before {\n  content: "\\f513"; }\n\n.fa-trademark:before {\n  content: "\\f25c"; }\n\n.fa-traffic-light:before {\n  content: "\\f637"; }\n\n.fa-trailer:before {\n  content: "\\e041"; }\n\n.fa-train:before {\n  content: "\\f238"; }\n\n.fa-tram:before {\n  content: "\\f7da"; }\n\n.fa-transgender:before {\n  content: "\\f224"; }\n\n.fa-transgender-alt:before {\n  content: "\\f225"; }\n\n.fa-trash:before {\n  content: "\\f1f8"; }\n\n.fa-trash-alt:before {\n  content: "\\f2ed"; }\n\n.fa-trash-restore:before {\n  content: "\\f829"; }\n\n.fa-trash-restore-alt:before {\n  content: "\\f82a"; }\n\n.fa-tree:before {\n  content: "\\f1bb"; }\n\n.fa-trello:before {\n  content: "\\f181"; }\n\n.fa-tripadvisor:before {\n  content: "\\f262"; }\n\n.fa-trophy:before {\n  content: "\\f091"; }\n\n.fa-truck:before {\n  content: "\\f0d1"; }\n\n.fa-truck-loading:before {\n  content: "\\f4de"; }\n\n.fa-truck-monster:before {\n  content: "\\f63b"; }\n\n.fa-truck-moving:before {\n  content: "\\f4df"; }\n\n.fa-truck-pickup:before {\n  content: "\\f63c"; }\n\n.fa-tshirt:before {\n  content: "\\f553"; }\n\n.fa-tty:before {\n  content: "\\f1e4"; }\n\n.fa-tumblr:before {\n  content: "\\f173"; }\n\n.fa-tumblr-square:before {\n  content: "\\f174"; }\n\n.fa-tv:before {\n  content: "\\f26c"; }\n\n.fa-twitch:before {\n  content: "\\f1e8"; }\n\n.fa-twitter:before {\n  content: "\\f099"; }\n\n.fa-twitter-square:before {\n  content: "\\f081"; }\n\n.fa-typo3:before {\n  content: "\\f42b"; }\n\n.fa-uber:before {\n  content: "\\f402"; }\n\n.fa-ubuntu:before {\n  content: "\\f7df"; }\n\n.fa-uikit:before {\n  content: "\\f403"; }\n\n.fa-umbraco:before {\n  content: "\\f8e8"; }\n\n.fa-umbrella:before {\n  content: "\\f0e9"; }\n\n.fa-umbrella-beach:before {\n  content: "\\f5ca"; }\n\n.fa-uncharted:before {\n  content: "\\e084"; }\n\n.fa-underline:before {\n  content: "\\f0cd"; }\n\n.fa-undo:before {\n  content: "\\f0e2"; }\n\n.fa-undo-alt:before {\n  content: "\\f2ea"; }\n\n.fa-uniregistry:before {\n  content: "\\f404"; }\n\n.fa-unity:before {\n  content: "\\e049"; }\n\n.fa-universal-access:before {\n  content: "\\f29a"; }\n\n.fa-university:before {\n  content: "\\f19c"; }\n\n.fa-unlink:before {\n  content: "\\f127"; }\n\n.fa-unlock:before {\n  content: "\\f09c"; }\n\n.fa-unlock-alt:before {\n  content: "\\f13e"; }\n\n.fa-unsplash:before {\n  content: "\\e07c"; }\n\n.fa-untappd:before {\n  content: "\\f405"; }\n\n.fa-upload:before {\n  content: "\\f093"; }\n\n.fa-ups:before {\n  content: "\\f7e0"; }\n\n.fa-usb:before {\n  content: "\\f287"; }\n\n.fa-user:before {\n  content: "\\f007"; }\n\n.fa-user-alt:before {\n  content: "\\f406"; }\n\n.fa-user-alt-slash:before {\n  content: "\\f4fa"; }\n\n.fa-user-astronaut:before {\n  content: "\\f4fb"; }\n\n.fa-user-check:before {\n  content: "\\f4fc"; }\n\n.fa-user-circle:before {\n  content: "\\f2bd"; }\n\n.fa-user-clock:before {\n  content: "\\f4fd"; }\n\n.fa-user-cog:before {\n  content: "\\f4fe"; }\n\n.fa-user-edit:before {\n  content: "\\f4ff"; }\n\n.fa-user-friends:before {\n  content: "\\f500"; }\n\n.fa-user-graduate:before {\n  content: "\\f501"; }\n\n.fa-user-injured:before {\n  content: "\\f728"; }\n\n.fa-user-lock:before {\n  content: "\\f502"; }\n\n.fa-user-md:before {\n  content: "\\f0f0"; }\n\n.fa-user-minus:before {\n  content: "\\f503"; }\n\n.fa-user-ninja:before {\n  content: "\\f504"; }\n\n.fa-user-nurse:before {\n  content: "\\f82f"; }\n\n.fa-user-plus:before {\n  content: "\\f234"; }\n\n.fa-user-secret:before {\n  content: "\\f21b"; }\n\n.fa-user-shield:before {\n  content: "\\f505"; }\n\n.fa-user-slash:before {\n  content: "\\f506"; }\n\n.fa-user-tag:before {\n  content: "\\f507"; }\n\n.fa-user-tie:before {\n  content: "\\f508"; }\n\n.fa-user-times:before {\n  content: "\\f235"; }\n\n.fa-users:before {\n  content: "\\f0c0"; }\n\n.fa-users-cog:before {\n  content: "\\f509"; }\n\n.fa-users-slash:before {\n  content: "\\e073"; }\n\n.fa-usps:before {\n  content: "\\f7e1"; }\n\n.fa-ussunnah:before {\n  content: "\\f407"; }\n\n.fa-utensil-spoon:before {\n  content: "\\f2e5"; }\n\n.fa-utensils:before {\n  content: "\\f2e7"; }\n\n.fa-vaadin:before {\n  content: "\\f408"; }\n\n.fa-vector-square:before {\n  content: "\\f5cb"; }\n\n.fa-venus:before {\n  content: "\\f221"; }\n\n.fa-venus-double:before {\n  content: "\\f226"; }\n\n.fa-venus-mars:before {\n  content: "\\f228"; }\n\n.fa-vest:before {\n  content: "\\e085"; }\n\n.fa-vest-patches:before {\n  content: "\\e086"; }\n\n.fa-viacoin:before {\n  content: "\\f237"; }\n\n.fa-viadeo:before {\n  content: "\\f2a9"; }\n\n.fa-viadeo-square:before {\n  content: "\\f2aa"; }\n\n.fa-vial:before {\n  content: "\\f492"; }\n\n.fa-vials:before {\n  content: "\\f493"; }\n\n.fa-viber:before {\n  content: "\\f409"; }\n\n.fa-video:before {\n  content: "\\f03d"; }\n\n.fa-video-slash:before {\n  content: "\\f4e2"; }\n\n.fa-vihara:before {\n  content: "\\f6a7"; }\n\n.fa-vimeo:before {\n  content: "\\f40a"; }\n\n.fa-vimeo-square:before {\n  content: "\\f194"; }\n\n.fa-vimeo-v:before {\n  content: "\\f27d"; }\n\n.fa-vine:before {\n  content: "\\f1ca"; }\n\n.fa-virus:before {\n  content: "\\e074"; }\n\n.fa-virus-slash:before {\n  content: "\\e075"; }\n\n.fa-viruses:before {\n  content: "\\e076"; }\n\n.fa-vk:before {\n  content: "\\f189"; }\n\n.fa-vnv:before {\n  content: "\\f40b"; }\n\n.fa-voicemail:before {\n  content: "\\f897"; }\n\n.fa-volleyball-ball:before {\n  content: "\\f45f"; }\n\n.fa-volume-down:before {\n  content: "\\f027"; }\n\n.fa-volume-mute:before {\n  content: "\\f6a9"; }\n\n.fa-volume-off:before {\n  content: "\\f026"; }\n\n.fa-volume-up:before {\n  content: "\\f028"; }\n\n.fa-vote-yea:before {\n  content: "\\f772"; }\n\n.fa-vr-cardboard:before {\n  content: "\\f729"; }\n\n.fa-vuejs:before {\n  content: "\\f41f"; }\n\n.fa-walking:before {\n  content: "\\f554"; }\n\n.fa-wallet:before {\n  content: "\\f555"; }\n\n.fa-warehouse:before {\n  content: "\\f494"; }\n\n.fa-watchman-monitoring:before {\n  content: "\\e087"; }\n\n.fa-water:before {\n  content: "\\f773"; }\n\n.fa-wave-square:before {\n  content: "\\f83e"; }\n\n.fa-waze:before {\n  content: "\\f83f"; }\n\n.fa-weebly:before {\n  content: "\\f5cc"; }\n\n.fa-weibo:before {\n  content: "\\f18a"; }\n\n.fa-weight:before {\n  content: "\\f496"; }\n\n.fa-weight-hanging:before {\n  content: "\\f5cd"; }\n\n.fa-weixin:before {\n  content: "\\f1d7"; }\n\n.fa-whatsapp:before {\n  content: "\\f232"; }\n\n.fa-whatsapp-square:before {\n  content: "\\f40c"; }\n\n.fa-wheelchair:before {\n  content: "\\f193"; }\n\n.fa-whmcs:before {\n  content: "\\f40d"; }\n\n.fa-wifi:before {\n  content: "\\f1eb"; }\n\n.fa-wikipedia-w:before {\n  content: "\\f266"; }\n\n.fa-wind:before {\n  content: "\\f72e"; }\n\n.fa-window-close:before {\n  content: "\\f410"; }\n\n.fa-window-maximize:before {\n  content: "\\f2d0"; }\n\n.fa-window-minimize:before {\n  content: "\\f2d1"; }\n\n.fa-window-restore:before {\n  content: "\\f2d2"; }\n\n.fa-windows:before {\n  content: "\\f17a"; }\n\n.fa-wine-bottle:before {\n  content: "\\f72f"; }\n\n.fa-wine-glass:before {\n  content: "\\f4e3"; }\n\n.fa-wine-glass-alt:before {\n  content: "\\f5ce"; }\n\n.fa-wix:before {\n  content: "\\f5cf"; }\n\n.fa-wizards-of-the-coast:before {\n  content: "\\f730"; }\n\n.fa-wodu:before {\n  content: "\\e088"; }\n\n.fa-wolf-pack-battalion:before {\n  content: "\\f514"; }\n\n.fa-won-sign:before {\n  content: "\\f159"; }\n\n.fa-wordpress:before {\n  content: "\\f19a"; }\n\n.fa-wordpress-simple:before {\n  content: "\\f411"; }\n\n.fa-wpbeginner:before {\n  content: "\\f297"; }\n\n.fa-wpexplorer:before {\n  content: "\\f2de"; }\n\n.fa-wpforms:before {\n  content: "\\f298"; }\n\n.fa-wpressr:before {\n  content: "\\f3e4"; }\n\n.fa-wrench:before {\n  content: "\\f0ad"; }\n\n.fa-x-ray:before {\n  content: "\\f497"; }\n\n.fa-xbox:before {\n  content: "\\f412"; }\n\n.fa-xing:before {\n  content: "\\f168"; }\n\n.fa-xing-square:before {\n  content: "\\f169"; }\n\n.fa-y-combinator:before {\n  content: "\\f23b"; }\n\n.fa-yahoo:before {\n  content: "\\f19e"; }\n\n.fa-yammer:before {\n  content: "\\f840"; }\n\n.fa-yandex:before {\n  content: "\\f413"; }\n\n.fa-yandex-international:before {\n  content: "\\f414"; }\n\n.fa-yarn:before {\n  content: "\\f7e3"; }\n\n.fa-yelp:before {\n  content: "\\f1e9"; }\n\n.fa-yen-sign:before {\n  content: "\\f157"; }\n\n.fa-yin-yang:before {\n  content: "\\f6ad"; }\n\n.fa-yoast:before {\n  content: "\\f2b1"; }\n\n.fa-youtube:before {\n  content: "\\f167"; }\n\n.fa-youtube-square:before {\n  content: "\\f431"; }\n\n.fa-zhihu:before {\n  content: "\\f63f"; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n@font-face {\n  font-family: \'Font Awesome 5 Brands\';\n  font-style: normal;\n  font-weight: 400;\n  font-display: block;\n  src: url('+C+");\n  src: url("+k+') format("embedded-opentype"), url('+S+') format("woff2"), url('+E+') format("woff"), url('+A+') format("truetype"), url('+D+") format(\"svg\"); }\n\n.fab {\n  font-family: 'Font Awesome 5 Brands';\n  font-weight: 400; }\n@font-face {\n  font-family: 'Font Awesome 5 Free';\n  font-style: normal;\n  font-weight: 400;\n  font-display: block;\n  src: url("+M+");\n  src: url("+R+') format("embedded-opentype"), url('+P+') format("woff2"), url('+T+') format("woff"), url('+L+') format("truetype"), url('+z+") format(\"svg\"); }\n\n.far {\n  font-family: 'Font Awesome 5 Free';\n  font-weight: 400; }\n@font-face {\n  font-family: 'Font Awesome 5 Free';\n  font-style: normal;\n  font-weight: 900;\n  font-display: block;\n  src: url("+O+");\n  src: url("+F+') format("embedded-opentype"), url('+I+') format("woff2"), url('+B+') format("woff"), url('+$+') format("truetype"), url('+j+") format(\"svg\"); }\n\n.fa,\n.fas {\n  font-family: 'Font Awesome 5 Free';\n  font-weight: 900; }\n",""]);const N=x},7745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(3645),o=n.n(r),i=n(1667),a=n.n(i),s=new URL(n(133),n.b),l=new URL(n(3613),n.b),c=new URL(n(2106),n.b),f=new URL(n(2104),n.b),u=new URL(n(7961),n.b),d=new URL(n(9402),n.b),h=new URL(n(7464),n.b),p=new URL(n(434),n.b),m=o()((function(e){return e[1]})),g=a()(s),_=a()(l),v=a()(c),b=a()(f),y=a()(u),w=a()(d),x=a()(h),C=a()(p);m.push([e.id,".header-overlay, .cell-overlay, .selection-cell-overlay\r\n{\r\n\r\n    display: block;\r\n    position: absolute;\r\n    z-index: 999;\r\n}\r\n.header-overlay {\r\n  background-color: #217346;\r\n}\r\n\r\n.cell-overlay, .selection-cell-overlay {\r\n  background-color: #217346;\r\n}\r\n\r\n.mlv-tile{\r\n  position:absolute;\r\n  box-sizing: border-box;\r\n  \r\n}\r\n\r\ninput.editor-text {\r\n  font: 11pt Calibri, 'Segoe UI',Arial,Verdana,Sans-Serif;\r\n  background: none;\r\n  border: 0 none;\r\n  margin: 0;\r\n  outline: 0 none;\r\n  padding: 0;\r\n  width: 100%;\r\n}\r\n\r\n.handle-overlay {\r\n  border: 1px solid white;\r\n  padding: 2px;\r\n  background-color: #217346;\r\n  position: absolute;\r\n  width: 1px;\r\n  z-index: 1000;\r\n  cursor: crosshair;\r\n}\r\n\r\n.overlay-handle-decorator {\r\n  border: 2px solid #217346;\r\n  z-index: 1000;\r\n}\r\n\r\n.image-table-selected {\r\n  border: 4px solid goldenrod;\r\n}\r\n\r\n\r\n\r\n/*\r\nIMPORTANT:\r\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\r\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\r\nclasses should alter those!\r\n*/\r\n\r\n.slick-header.ui-state-default, .slick-headerrow.ui-state-default, .slick-footerrow.ui-state-default, .slick-top-panel-scroller.ui-state-default, .slick-group-header.ui-state-default {\r\n    width: 100%;\r\n    overflow: auto;\r\n    position: relative;\r\n    border-left: 0px !important;\r\n  }\r\n  \r\n  .slick-header.ui-state-default {\r\n    overflow: inherit;\r\n  }\r\n  \r\n  .slick-header::-webkit-scrollbar,  .slick-headerrow::-webkit-scrollbar, .slick-footerrow::-webkit-scrollbar {\r\n    display: none\r\n  }\r\n  \r\n  .slick-header-columns, .slick-headerrow-columns, .slick-footerrow-columns, .slick-group-header-columns {\r\n    position: relative;\r\n    white-space: nowrap;\r\n    cursor: default;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .slick-header-column.ui-state-default, .slick-group-header-column.ui-state-default {\r\n    position: relative;\r\n    display: inline-block;\r\n    box-sizing: content-box !important; /* this here only for Firefox! */ \r\n    overflow: hidden;\r\n    -o-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    height: 16px;\r\n    line-height: 16px;\r\n    margin: 0;\r\n    padding: 4px;\r\n    border-right: 1px solid silver;\r\n    border-left: 0px !important;\r\n    border-top: 0px !important;\r\n    border-bottom: 0px !important;\r\n    float: left;\r\n  }\r\n  \r\n  .slick-footerrow-column.ui-state-default {\r\n    -o-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    margin: 0;\r\n    padding: 4px;\r\n    border-right: 1px solid silver;\r\n    border-left: 0px;\r\n    border-top: 0px;\r\n    border-bottom: 0px;\r\n    float: left;\r\n    line-height: 20px;\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  .slick-headerrow-column.ui-state-default, .slick-footerrow-column.ui-state-default {\r\n    padding: 4px;\r\n  }\r\n  \r\n  .slick-header-column-sorted {\r\n    font-style: italic;\r\n  }\r\n  \r\n  .slick-sort-indicator {\r\n    display: inline-block;\r\n    width: 8px;\r\n    height: 5px;\r\n    margin-left: 4px;\r\n    margin-top: 6px;\r\n    float: left;\r\n  }\r\n  \r\n  .slick-sort-indicator-numbered {\r\n    display: inline-block;\r\n    width: 8px;\r\n    height: 5px;\r\n    margin-left: 4px;\r\n    margin-top: 0;\r\n    line-height: 20px;\r\n    float: left;\r\n    font-family: Arial;\r\n    font-style: normal;\r\n    font-weight: bold;\r\n    color: #6190CD;\r\n  }\r\n  \r\n  .slick-sort-indicator-desc {\r\n    background: url("+g+");\r\n  }\r\n  \r\n  .slick-sort-indicator-asc {\r\n    background: url("+_+");\r\n  }\r\n  \r\n  .slick-resizable-handle {\r\n    position: absolute;\r\n    font-size: 0.1px;\r\n    display: block;\r\n    cursor: col-resize;\r\n    width: 9px;\r\n    right: -5px;\r\n    top: 0;\r\n    height: 100%;\r\n    z-index: 1;\r\n  }\r\n\r\n \r\n  .slick-sortable-placeholder {\r\n    background: silver;\r\n  }\r\n\r\n  .selected{\r\n     background:beige;\r\n  }\r\n  \r\n  .grid-canvas {\r\n    position: relative;\r\n    outline: 0;\r\n  }\r\n  \r\n  .slick-row.ui-widget-content, .slick-row.ui-state-active {\r\n    position: absolute;\r\n    border: 0px;\r\n    width: 100%;\r\n  }\r\n  \r\n  .slick-cell, .slick-headerrow-column , .slick-footerrow-column{\r\n    position: absolute;\r\n    border: 1px solid transparent;\r\n    border-right: 1px dotted silver;\r\n    border-bottom-color: silver;\r\n    overflow: hidden;\r\n    -o-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    vertical-align: middle;\r\n    z-index: 0;\r\n    padding: 1px 2px 2px 1px;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    cursor: default;\r\n  }\r\n  .slick-cell, .slick-headerrow-column{\r\n    border-bottom-color: silver;\r\n  }\r\n  .slick-footerrow-column {\r\n    border-top-color: silver;\r\n  }\r\n\r\n  \r\n  .slick-group {\r\n  }\r\n  \r\n  .slick-group-toggle {\r\n    display: inline-block;\r\n  }\r\n  \r\n  .slick-cell.highlighted {\r\n    background: lightskyblue;\r\n    background: rgba(0, 0, 255, 0.2);\r\n    -webkit-transition: all 0.5s;\r\n    -moz-transition: all 0.5s;\r\n    -o-transition: all 0.5s;\r\n    transition: all 0.5s;\r\n  }\r\n  \r\n  .slick-cell.flashing {\r\n    border: 1px solid red !important;\r\n  }\r\n  \r\n  .slick-cell.editable {\r\n    z-index: 11;\r\n    overflow: visible;\r\n    background: white;\r\n    border-color: black;\r\n    border-style: solid;\r\n  }\r\n  \r\n  .slick-cell:focus {\r\n    outline: none;\r\n  }\r\n  \r\n  .slick-reorder-proxy {\r\n    display: inline-block;\r\n    background: blue;\r\n    opacity: 0.15;\r\n    filter: alpha(opacity = 15);\r\n    cursor: move;\r\n  }\r\n  \r\n  .slick-reorder-guide {\r\n    display: inline-block;\r\n    height: 2px;\r\n    background: blue;\r\n    opacity: 0.7;\r\n    filter: alpha(opacity = 70);\r\n  }\r\n  \r\n  .slick-selection {\r\n    z-index: 10;\r\n    position: absolute;\r\n    border: 2px dashed black;\r\n  }\r\n  \r\n  .slick-pane {\r\n    position: absolute;\r\n    outline: 0;\r\n    overflow: hidden;\r\n    width: 100%;\r\n  }\r\n  \r\n  .slick-pane-header {\r\n    display: block;\r\n  }\r\n  \r\n  .slick-header {\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .slick-headerrow {\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .slick-top-panel-scroller {\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .slick-top-panel {\r\n    width: 10000px\r\n  }\r\n  \r\n  .slick-viewport {\r\n    position: relative;\r\n    outline: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  .slick-header{\r\n    background:lightgray;\r\n  }\r\n   .slick-header-column{\r\n     border-color:white;\r\n   }\r\n\r\n\r\n   .slick-header-columns {\r\n    background: url("+v+") repeat-x center bottom;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .slick-header-column {\r\n    background: url("+v+") repeat-x center bottom;\r\n    border-right: 1px solid silver;\r\n  }\r\n  \r\n  .slick-header-column:hover, .slick-header-column-active {\r\n    background: white url("+b+") repeat-x center bottom;\r\n  }\r\n  \r\n  .slick-headerrow {\r\n    background: #fafafa;\r\n  }\r\n  \r\n  .slick-headerrow-column {\r\n    background: #fafafa;\r\n    border-bottom: 0;\r\n    height: 100%;\r\n  }\r\n  \r\n  .slick-row.ui-state-active {\r\n    background: #F5F7D7;\r\n  }\r\n  \r\n  .slick-row {\r\n    position: absolute;\r\n    background: white;\r\n    border: 0px;\r\n    line-height: 20px;\r\n  }\r\n  \r\n  .slick-row.selected {\r\n    z-index: 10;\r\n    background: #DFE8F6;\r\n  }\r\n  \r\n  .slick-cell {\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n  \r\n  .slick-group {\r\n    border-bottom: 2px solid silver;\r\n  }\r\n  \r\n  .slick-group-toggle {\r\n    width: 9px;\r\n    height: 9px;\r\n    margin-right: 5px;\r\n  }\r\n  \r\n  .slick-group-toggle.expanded {\r\n    background: url("+y+") no-repeat center center;\r\n  }\r\n  \r\n  .slick-group-toggle.collapsed {\r\n    background: url("+w+") no-repeat center center;\r\n  }\r\n  \r\n  .slick-group-totals {\r\n    color: gray;\r\n    background: white;\r\n  }\r\n  \r\n  .slick-group-select-checkbox {\r\n    width: 13px;\r\n    height: 13px;\r\n    margin: 3px 10px 0 0;\r\n    display: inline-block;\r\n  }\r\n  .slick-group-select-checkbox.checked {\r\n    background: url("+x+") no-repeat center center;\r\n  }\r\n  \r\n  .slick-group-select-checkbox.unchecked {\r\n    background: url("+C+") no-repeat center center;\r\n  }\r\n  \r\n  .slick-cell.selected {\r\n    background-color: beige;\r\n  }\r\n  \r\n  .slick-cell.active {\r\n    border-color: gray;\r\n    border-style: solid;\r\n  }\r\n  \r\n  .slick-sortable-placeholder {\r\n    background: silver !important;\r\n  }\r\n  \r\n  .slick-row.odd {\r\n    background: #fafafa;\r\n  }\r\n  \r\n  .slick-row.ui-state-active {\r\n    background: #F5F7D7;\r\n  }\r\n  \r\n  .slick-row.loading {\r\n    opacity: 0.5;\r\n    filter: alpha(opacity = 50);\r\n  }\r\n\r\n  /*.active{\r\n    background: beige !important;\r\n  }*/\r\n  \r\n  .slick-cell.invalid {\r\n    border-color: red;\r\n    -moz-animation-duration: 0.2s;\r\n    -webkit-animation-duration: 0.2s;\r\n    -moz-animation-name: slickgrid-invalid-hilite;\r\n    -webkit-animation-name: slickgrid-invalid-hilite;  \r\n  }\r\n  \r\n  @-moz-keyframes slickgrid-invalid-hilite {\r\n    from { box-shadow: 0 0 6px red; }\r\n    to { box-shadow: none; }\r\n  }\r\n  \r\n  @-webkit-keyframes slickgrid-invalid-hilite {\r\n    from { box-shadow: 0 0 6px red; }\r\n    to { box-shadow: none; }\r\n  }\r\n",""]);const k=m},7047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.u-tree-list{\r\n  list-style-type: none;\r\n}\r\n\r\n.u-tree-selected{\r\n  background: #888;\r\n}\r\n\r\n.table-dark-mode .slick-row.odd{\r\n  background:#303030;\r\n}\r\n\r\n.table-dark-mode .ui-widget-content{\r\n  color:white;\r\n}\r\n\r\n.table-dark-mode .even{\r\n  background:#404040\r\n}\r\n\r\n.table-dark-mode .slick-header-column{\r\n  background:black;\r\n  color:white;\r\n}\r\n\r\n.table-dark-mode .slick-header-columns{\r\n  background:black\r\n}\r\n.table-dark-mode .slick-header{\r\n  background:black\r\n}\r\n\r\n.table-dark-mode .slick-viewport::-webkit-scrollbar-track {\r\n  background: #585858;        /* color of the tracking area */\r\n}\r\n\r\n.table-dark-mode .slick-viewport::-webkit-scrollbar {\r\n  width: 12px;\r\n}\r\n.table-dark-mode .slick-viewport::-webkit-scrollbar-thumb {\r\n  background-color:\tblack ;\r\n\r\n}\r\n\r\n.table-dark-mode .slick-cell.selected{\r\n  background:\t#808080\r\n}\r\n\r\n.mdv-progress-outer{\r\n  background-color:gray;\r\n  height:16px;\r\n  border-radius:5px;\r\n  position:relative;\r\n}\r\n\r\n.mdv-progress-inner{\r\n  background-color:blue;\r\n  height:16px;\r\n  border-radius:5px; \r\n}\r\n\r\n.mdv-progress-text{\r\n \r\n  position: absolute;\r\n  top: 1px;\r\ncolor:white;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  overflow:hidden,\r\n\r\n\r\n}\r\n\r\n.mdv-dark-mode{\r\n  background-color: black;\r\n  color:white;\r\n}\r\n\r\n\r\n\r\n\r\n.noUi-handle:after, .noUi-handle:before{\r\n    visibility:hidden;\r\n    left:-10px;\r\n   \r\n}\r\n.ciview-tooltip{\r\n  display:none;\r\n  position:absolute;\r\n  border-radius:6px;\r\n  padding:4px;\r\n  background:burlywood;\r\n  z-index:5;\r\n\r\n}\r\n\r\n.noUi-tooltip {\r\n  display: none;\r\n}\r\n.noUi-active .noUi-tooltip {\r\n  display: block;\r\n}\r\n\r\n.noUi-horizontal .noUi-handle {\r\n    width: 20px;\r\n    height: 20px;\r\n    right: -10px;\r\n    top: -2px;\r\n    border-radius:20px;\r\n    background: rgba(73, 69, 78);\r\n}\r\n\r\n* {\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: -moz-none;\r\n  -o-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.ciview-menu-icon{\r\n  font-weight:"bold";\r\n  cursor:"pointer";\r\n  margin:2px 4px;\r\n  cursor:pointer;\r\n}\r\n\r\n\r\n.ciview-menu-bar{\r\n  flex:0 0 auto;\r\n  padding:3px 20px;\r\n  background-image:linear-gradient(white,darkgray);\r\n\r\n}\r\n\r\n.ciview-ctm-main{\r\n\tposition:absolute;\r\n\tz-index:1000;\r\n\tborder:1px solid black;\r\n  background:white;\r\n\r\n   }\r\n   .ciview-ctm-active{\r\n       cursor:pointer\r\n   }\r\n   .ciview-ctm-selected{\r\n       background-color:lightgray;\r\n   }\r\n   .ciview-ctm-active:hover{\r\n       background-color:lightgray;\r\n   }\r\n   .ciview-ctm-item{\r\n       padding:4px;\r\n       white-space:nowrap;\r\n\r\n     \r\n   }\r\n    .ciview-ctm-item span{\r\n        margin-right:5px;\r\n        white-space:nowrap;\r\n    }\r\n\r\n    .ciview-ctm-left-icon{\r\n   \t margin-right:5px;\r\n   }\r\n\r\n   .ciview-ctm-ghosted{\r\n   \t opacity:0.5\r\n   }\r\n\r\n   .ciview-ctm-right-icon{\r\n   \t float:right\r\n   }\r\n\r\n   .legend-body::-webkit-scrollbar-track {\r\n    background: #f1f1f1; \r\n  }\r\n   \r\n  /* Handle */\r\n  .legend-body::-webkit-scrollbar-thumb {\r\n    background: #888; \r\n  }\r\n  \r\n  /* Handle on hover */\r\n  .legend-body::-webkit-scrollbar-thumb:hover {\r\n    background: #555; \r\n  }\r\n  .legend-body::-webkit-scrollbar {\r\n    width: 8px;\r\n    height:8px;\r\n  }\r\n  \r\n  \r\n\r\n\r\n\r\n\r\n   .ciview-dlg-outer {\r\n    position: absolute;\r\n    z-index: 1100;\r\n    background-color: #f1f1f1;\r\n    border: 1px solid #d3d3d3;\r\n    overflow:auto;\r\n    display:flex;\r\n    flex-flow:column;\r\n\r\n  }\r\n  \r\n   .gutter-horizontal{\r\n     float:left;\r\n     height:100%;\r\n     background-color:silver;\r\n   }\r\n\r\n   .split-horizontal{\r\n    float:left;\r\n    height:100%;\r\n   }\r\n  .ciview-dlg-close-icon{\r\n      cursor:pointer;\r\n      color:black;\r\n      font-size:20px;\r\n      margin-left:auto;\r\n      margin-bottom:8px;\r\n      position:absolute;\r\n      top:3px;\r\n      right:3px\r\n  }\r\n\r\n  .ciview-dlg-content{ \r\n        overflow-X:hidden;\r\n        overflow-Y:auto;\r\n        flex:1 1 auto;\r\n        padding:5px;\r\n  }\r\n  \r\n  .ciview-dlg-header {\r\n    padding: 6px;\r\n    cursor: move;\r\n    background-color: #2196F3;\r\n    color: #fff;\r\n    text-overflow: ellipsis;\r\n    overflow:hidden;\r\n    flex:0 0 auto;\r\n  }\r\n\r\n  .ciview-dlg-header-text{\r\n      white-space:nowrap;\r\n      text-overflow: ellipsis;\r\n  }\r\n\r\n\r\n  .autocomplete-items {\r\n    position: absolute;\r\n    border: 1px solid #d4d4d4;\r\n    border-bottom: none;\r\n    border-top: none;\r\n    z-index: 99;\r\n    /*position the autocomplete items to be the same width as the container:*/\r\n  }\r\n  \r\n  .autocomplete-items div {\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #d4d4d4;\r\n  }\r\n  .autocomplete-items div:hover {\r\n    /*when hovering an item:*/\r\n    background-color: #e9e9e9;\r\n  }\r\n  .autocomplete-active {\r\n    /*when navigating through the items using the arrow keys:*/\r\n    background-color: DodgerBlue !important;\r\n    color: #ffffff;\r\n  }',""]);const i=o},9719:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".wgl2di-brush{\r\n    height:0px;\r\n    width:0px;\r\n    cursor:move;\r\n\tbackground-color:gray;\r\n    opacity:0.2;\r\n    position:absolute;\r\n}",""]);const i=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},2921:(e,t,n)=>{"use strict";function r(e){return null===e?NaN:+e}n.d(t,{Z:()=>r})},7614:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,G9:()=>s,ly:()=>l});var r=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);function a(e,t,n){var r,o,i,a,l=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=s(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=new Array(o=r-n+1);++l<o;)i[l]=(n+l)/a}return r&&i.reverse(),i}function s(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,s);return s>=0?(l>=r?10:l>=o?5:l>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=o?5:l>=i?2:1)}function l(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/s;return l>=r?s*=10:l>=o?s*=5:l>=i&&(s*=2),t<e?-s:s}},9374:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{LL:()=>u,y4:()=>d});var o=1e-6;function i(e){return"translate("+e+",0)"}function a(e){return"translate(0,"+e+")"}function s(e){return t=>+e(t)}function l(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function c(){return!this.__axis}function f(e,t){var n=[],f=null,u=null,d=6,h=6,p=3,m="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,g=1===e||4===e?-1:1,_=4===e||2===e?"x":"y",v=1===e||3===e?i:a;function b(i){var a=null==f?t.ticks?t.ticks.apply(t,n):t.domain():f,b=null==u?t.tickFormat?t.tickFormat.apply(t,n):r:u,y=Math.max(d,0)+p,w=t.range(),x=+w[0]+m,C=+w[w.length-1]+m,k=(t.bandwidth?l:s)(t.copy(),m),S=i.selection?i.selection():i,E=S.selectAll(".domain").data([null]),A=S.selectAll(".tick").data(a,t).order(),D=A.exit(),M=A.enter().append("g").attr("class","tick"),R=A.select("line"),P=A.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(M),R=R.merge(M.append("line").attr("stroke","currentColor").attr(_+"2",g*d)),P=P.merge(M.append("text").attr("fill","currentColor").attr(_,g*y).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),i!==S&&(E=E.transition(i),A=A.transition(i),R=R.transition(i),P=P.transition(i),D=D.transition(i).attr("opacity",o).attr("transform",(function(e){return isFinite(e=k(e))?v(e+m):this.getAttribute("transform")})),M.attr("opacity",o).attr("transform",(function(e){var t=this.parentNode.__axis;return v((t&&isFinite(t=t(e))?t:k(e))+m)}))),D.remove(),E.attr("d",4===e||2===e?h?"M"+g*h+","+x+"H"+m+"V"+C+"H"+g*h:"M"+m+","+x+"V"+C:h?"M"+x+","+g*h+"V"+m+"H"+C+"V"+g*h:"M"+x+","+m+"H"+C),A.attr("opacity",1).attr("transform",(function(e){return v(k(e)+m)})),R.attr(_+"2",g*d),P.attr(_,g*y).text(b),S.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),S.each((function(){this.__axis=k}))}return b.scale=function(e){return arguments.length?(t=e,b):t},b.ticks=function(){return n=Array.from(arguments),b},b.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),b):n.slice()},b.tickValues=function(e){return arguments.length?(f=null==e?null:Array.from(e),b):f&&f.slice()},b.tickFormat=function(e){return arguments.length?(u=e,b):u},b.tickSize=function(e){return arguments.length?(d=h=+e,b):d},b.tickSizeInner=function(e){return arguments.length?(d=+e,b):d},b.tickSizeOuter=function(e){return arguments.length?(h=+e,b):h},b.tickPadding=function(e){return arguments.length?(p=+e,b):p},b.offset=function(e){return arguments.length?(m=+e,b):m},b}function u(e){return f(3,e)}function d(e){return f(4,e)}},2650:(e,t,n)=>{"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i(){}n.d(t,{ZP:()=>w,B8:()=>S});var a=.7,s=1/a,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,c]+"\\)$"),m=new RegExp("^rgba\\("+[f,f,f,c]+"\\)$"),g=new RegExp("^hsl\\("+[c,f,f]+"\\)$"),_=new RegExp("^hsla\\("+[c,f,f,c]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?x(t):3===n?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?C(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?C(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new E(t[1],t[2],t[3],1):(t=h.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?C(t[1],t[2],t[3],t[4]):(t=m.exec(e))?C(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?R(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?R(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?x(v[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function x(e){return new E(e>>16&255,e>>8&255,255&e,1)}function C(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function k(e){return e instanceof i||(e=w(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function S(e,t,n,r){return 1===arguments.length?k(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function A(){return"#"+M(this.r)+M(this.g)+M(this.b)}function D(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function M(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function R(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,r)}function P(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=w(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-o,c=(a+o)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=c<.5?a+o:2-a-o,s*=60):l=c>0&&c<1?0:s,new T(s,l,c,e.opacity)}function T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function L(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(i,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return P(this).formatHsl()},formatRgb:y,toString:y}),r(E,S,o(i,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:D,toString:D})),r(T,(function(e,t,n,r){return 1===arguments.length?P(e):new T(e,t,n,null==r?1:r)}),o(i,{brighter:function(e){return e=null==e?s:Math.pow(s,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new E(L(e>=240?e-240:e+120,o,r),L(e,o,r),L(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},5302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>()=>e},3626:(e,t,n)=>{"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:()=>r})},7765:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s});var r=n(2650);function o(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}var i=n(5302);function a(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):(0,i.Z)(isNaN(e)?t:e)}const s=function e(t){var n=function(e){return 1==(e=+e)?a:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,i.Z)(isNaN(t)?n:t)}}(t);function o(e,t){var o=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),l=a(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=s(t),e.opacity=l(t),e+""}}return o.gamma=e,o}(1);function l(e){return function(t){var n,o,i=t.length,a=new Array(i),s=new Array(i),l=new Array(i);for(n=0;n<i;++n)o=(0,r.B8)(t[n]),a[n]=o.r||0,s[n]=o.g||0,l[n]=o.b||0;return a=e(a),s=e(s),l=e(l),o.opacity=1,function(e){return o.r=a(e),o.g=s(e),o.b=l(e),o+""}}}l((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,l=r<t-1?e[r+2]:2*a-i;return o((n-r/t)*t,s,i,a,l)}})),l((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return o((n-r/t)*t,i,a,s,l)}}))},9843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3626),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=new RegExp(o.source,"g");function a(e,t){var n,a,s,l=o.lastIndex=i.lastIndex=0,c=-1,f=[],u=[];for(e+="",t+="";(n=o.exec(e))&&(a=i.exec(t));)(s=a.index)>l&&(s=t.slice(l,s),f[c]?f[c]+=s:f[++c]=s),(n=n[0])===(a=a[0])?f[c]?f[c]+=a:f[++c]=a:(f[++c]=null,u.push({i:c,x:(0,r.Z)(n,a)})),l=i.lastIndex;return l<t.length&&(s=t.slice(l),f[c]?f[c]+=s:f[++c]=s),f.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)f[(n=u[r]).i]=n.x(e);return f.join("")})}},3172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(2650),o=n(7765);function i(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=d(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function a(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var s=n(3626);function l(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=d(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var c=n(9843),f=n(5302);function u(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function d(e,t){var n,d,h=typeof t;return null==t||"boolean"===h?(0,f.Z)(t):("number"===h?s.Z:"string"===h?(n=(0,r.ZP)(t))?(t=n,o.ZP):c.Z:t instanceof r.ZP?o.ZP:t instanceof Date?a:(d=t,!ArrayBuffer.isView(d)||d instanceof DataView?Array.isArray(t)?i:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l:s.Z:u))(e,t)}},3527:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o(e){let t=e,n=e;function o(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>r(e(t),n)}(e)),{left:o,center:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);const a=o(e,n,r,i-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}}}n.d(t,{JG:()=>v,ZP:()=>y,l4:()=>b});var i=n(2921);const a=o(r),s=a.right,l=(a.left,o(i.Z).center,s);function c(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var f=n(3172),u=n(3626);function d(e){return+e}var h=[0,1];function p(e){return e}function m(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function g(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=m(o,r),i=n(a,i)):(r=m(r,o),i=n(i,a)),function(e){return i(r(e))}}function _(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=m(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=l(e,t,1,r)-1;return i[n](o[n](t))}}function v(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function b(){var e,t,n,r,o,i,a=h,s=h,l=f.Z,m=p;function v(){var e,t,n,l=Math.min(a.length,s.length);return m!==p&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),m=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?_:g,o=i=null,b}function b(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(m(t)))}return b.invert=function(n){return m(t((i||(i=r(s,a.map(e),u.Z)))(n)))},b.domain=function(e){return arguments.length?(a=Array.from(e,d),v()):a.slice()},b.range=function(e){return arguments.length?(s=Array.from(e),v()):s.slice()},b.rangeRound=function(e){return s=Array.from(e),l=c,v()},b.clamp=function(e){return arguments.length?(m=!!e||p,v()):m!==p},b.interpolate=function(e){return arguments.length?(l=e,v()):l},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,v()}}function y(){return b()(p,p)}},8348:(e,t,n)=>{"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}n.d(t,{o:()=>r})},9713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w,Q:()=>y});var r,o=n(7614),i=n(3527),a=n(8348),s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(e){if(!(t=s.exec(e)))throw new Error("invalid format: "+e);var t;return new c({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function c(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function f(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function u(e){return(e=f(Math.abs(e)))?e[1]:NaN}function d(e,t){var n=f(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}l.prototype=c.prototype,c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const h={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>d(100*e,t),r:d,s:function(e,t){var n=f(e,t);if(!n)return e+"";var o=n[0],i=n[1],a=i-(r=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=o.length;return a===s?o:a>s?o+new Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+f(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p(e){return e}var m,g,_,v=Array.prototype.map,b=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,o.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,a=(0,o.ly)(e,t,n);switch((r=l(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(u(t)/3)))-u(Math.abs(e)))}(a,s))||(r.precision=i),_(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,u(t)-u(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-u(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return g(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,l=a.length-1,c=a[s],f=a[l],u=10;for(f<c&&(i=c,c=f,f=i,i=s,s=l,l=i);u-- >0;){if((i=(0,o.G9)(c,f,n))===r)return a[s]=c,a[l]=f,t(a);if(i>0)c=Math.floor(c/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,f=Math.floor(f*i)/i}r=i}return e},e}function w(){var e=(0,i.ZP)();return e.copy=function(){return(0,i.JG)(e,w())},a.o.apply(e,arguments),y(e)}m=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?p:(t=v.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?p:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(v.call(e.numerals,String)),f=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function g(e){var t=(e=l(e)).fill,n=e.align,u=e.sign,p=e.symbol,g=e.zero,_=e.width,v=e.comma,y=e.precision,w=e.trim,x=e.type;"n"===x?(v=!0,x="g"):h[x]||(void 0===y&&(y=12),w=!0,x="g"),(g||"0"===t&&"="===n)&&(g=!0,t="0",n="=");var C="$"===p?i:"#"===p&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",k="$"===p?a:/[%p]/.test(x)?f:"",S=h[x],E=/[defgprs%]/.test(x);function A(e){var i,a,l,f=C,h=k;if("c"===x)h=S(e)+h,e="";else{var p=(e=+e)<0||1/e<0;if(e=isNaN(e)?m:S(Math.abs(e),y),w&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),p&&0==+e&&"+"!==u&&(p=!1),f=(p?"("===u?u:d:"-"===u||"("===u?"":u)+f,h=("s"===x?b[8+r/3]:"")+h+(p&&"("===u?")":""),E)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){h=(46===l?s+e.slice(i+1):e.slice(i))+h,e=e.slice(0,i);break}}v&&!g&&(e=o(e,1/0));var A=f.length+e.length+h.length,D=A<_?new Array(_-A+1).join(t):"";switch(v&&g&&(e=o(D+e,D.length?_-h.length:1/0),D=""),n){case"<":e=f+e+h+D;break;case"=":e=f+D+e+h;break;case"^":e=D.slice(0,A=D.length>>1)+f+e+h+D.slice(A);break;default:e=D+f+e+h}return c(e)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),A.toString=function(){return e+""},A}return{format:g,formatPrefix:function(e,t){var n=g(((e=l(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(u(t)/3))),o=Math.pow(10,-r),i=b[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),g=m.format,_=m.formatPrefix},3083:(e,t,n)=>{"use strict";function r(e){return function(){return this.matches(e)}}function o(e){return function(t){return t.matches(e)}}n.d(t,{Z:()=>r,P:()=>o})},3888:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(1986);function o(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.Z.hasOwnProperty(t)?{space:r.Z[t],local:e}:e}},1986:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,Z:()=>o});var r="http://www.w3.org/1999/xhtml";const o={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},4017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4666);function o(e){return"string"==typeof e?new r.Y1([[document.querySelector(e)]],[document.documentElement]):new r.Y1([[e]],r.Jz)}},4666:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>le,ZP:()=>fe,Jz:()=>se});var r=n(2634);function o(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}var i=n(3545),a=n(3083),s=Array.prototype.find;function l(){return this.firstElementChild}var c=Array.prototype.filter;function f(){return Array.from(this.children)}function u(e){return new Array(e.length)}function d(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e){return function(){return e}}function p(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new d(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function m(e,t,n,r,o,i,a){var s,l,c,f=new Map,u=t.length,h=i.length,p=new Array(u);for(s=0;s<u;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",f.has(c)?o[s]=l:f.set(c,l));for(s=0;s<h;++s)c=a.call(e,i[s],s,i)+"",(l=f.get(c))?(r[s]=l,l.__data__=i[s],f.delete(c)):n[s]=new d(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&f.get(p[s])===l&&(o[s]=l)}function g(e){return e.__data__}function _(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function v(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}d.prototype={constructor:d,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var b=n(3888);function y(e){return function(){this.removeAttribute(e)}}function w(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x(e,t){return function(){this.setAttribute(e,t)}}function C(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var E=n(9986);function A(e){return function(){delete this[e]}}function D(e,t){return function(){this[e]=t}}function M(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function R(e){return e.trim().split(/^|\s+/)}function P(e){return e.classList||new T(e)}function T(e){this._node=e,this._names=R(e.getAttribute("class")||"")}function L(e,t){for(var n=P(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function z(e,t){for(var n=P(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function O(e){return function(){L(this,e)}}function F(e){return function(){z(this,e)}}function I(e,t){return function(){(t.apply(this,arguments)?L:z)(this,e)}}function B(){this.textContent=""}function $(e){return function(){this.textContent=e}}function j(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function N(){this.innerHTML=""}function W(e){return function(){this.innerHTML=e}}function H(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}T.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var V=n(1986);function K(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===V.P&&t.documentElement.namespaceURI===V.P?t.createElement(e):t.createElementNS(n,e)}}function Z(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function G(e){var t=(0,b.Z)(e);return(t.local?Z:K)(t)}function X(){return null}function Y(){var e=this.parentNode;e&&e.removeChild(this)}function Q(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function J(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ee(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function te(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ne(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}var re=n(5021);function oe(e,t,n){var r=(0,re.Z)(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ie(e,t){return function(){return oe(this,e,t)}}function ae(e,t){return function(){return oe(this,e,t.apply(this,arguments))}}var se=[null];function le(e,t){this._groups=e,this._parents=t}function ce(){return new le([[document.documentElement]],se)}le.prototype=ce.prototype={constructor:le,select:function(e){"function"!=typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a,s,l=t[i],c=l.length,f=o[i]=new Array(c),u=0;u<c;++u)(a=l[u])&&(s=e.call(a,a.__data__,u,l))&&("__data__"in a&&(s.__data__=a.__data__),f[u]=s);return new le(o,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return o(e.apply(this,arguments))}}(e):(0,i.Z)(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var l,c=t[s],f=c.length,u=0;u<f;++u)(l=c[u])&&(r.push(e.call(l,l.__data__,u,c)),a.push(l));return new le(r,a)},selectChild:function(e){return this.select(null==e?l:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,a.P)(e)))},selectChildren:function(e){return this.selectAll(null==e?f:function(e){return function(){return c.call(this.children,e)}}("function"==typeof e?e:(0,a.P)(e)))},filter:function(e){"function"!=typeof e&&(e=(0,a.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],l=s.length,c=r[o]=[],f=0;f<l;++f)(i=s[f])&&e.call(i,i.__data__,f,s)&&c.push(i);return new le(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,g);var n=t?m:p,r=this._parents,o=this._groups;"function"!=typeof e&&(e=h(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var f=r[c],u=o[c],d=u.length,v=_(e.call(f,f&&f.__data__,c,r)),b=v.length,y=s[c]=new Array(b),w=a[c]=new Array(b),x=l[c]=new Array(d);n(f,u,y,w,x,v,t);for(var C,k,S=0,E=0;S<b;++S)if(C=y[S]){for(S>=E&&(E=S+1);!(k=w[E])&&++E<b;);C._next=k||null}}return(a=new le(a,r))._enter=s,a._exit=l,a},enter:function(){return new le(this._enter||this._groups.map(u),this._parents)},exit:function(){return new le(this._exit||this._groups.map(u),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,f=n[l],u=r[l],d=f.length,h=s[l]=new Array(d),p=0;p<d;++p)(c=f[p]||u[p])&&(h[p]=c);for(;l<o;++l)s[l]=n[l];return new le(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=v);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),f=0;f<l;++f)(a=s[f])&&(c[f]=a);c.sort(t)}return new le(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=(0,b.Z)(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?w:y:"function"==typeof t?n.local?S:k:n.local?C:x)(n,t))},style:E.Z,property:function(e,t){return arguments.length>1?this.each((null==t?A:"function"==typeof t?M:D)(e,t)):this.node()[e]},classed:function(e,t){var n=R(e+"");if(arguments.length<2){for(var r=P(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?I:t?O:F)(n,t))},text:function(e){return arguments.length?this.each(null==e?B:("function"==typeof e?j:$)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?N:("function"==typeof e?H:W)(e)):this.node().innerHTML},raise:function(){return this.each(U)},lower:function(){return this.each(q)},append:function(e){var t="function"==typeof e?e:G(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:G(e),o=null==t?X:"function"==typeof t?t:(0,r.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(Y)},clone:function(e){return this.select(e?J:Q)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=ee(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?ne:te,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,f=s.length;c<f;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ae:ie)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const fe=ce},9986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,S:()=>l});var r=n(5021);function o(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t,n){return arguments.length>1?this.each((null==t?o:"function"==typeof t?a:i)(e,t,null==n?"":n)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,r.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},2634:(e,t,n)=>{"use strict";function r(){}function o(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{Z:()=>o})},3545:(e,t,n)=>{"use strict";function r(){return[]}function o(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{Z:()=>o})},5021:(e,t,n)=>{"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:()=>r})},9685:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>r,WT:()=>o});var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5975:(e,t,n)=>{"use strict";n.d(t,{yR:()=>o,p4:()=>i,U_:()=>a,GH:()=>s,Jp:()=>l,Iu:()=>c,bA:()=>f,U1:()=>u,lM:()=>d,uD:()=>h,jI:()=>p,Q$:()=>m,en:()=>g,oy:()=>_,G3:()=>v,M5:()=>b,zB:()=>y});var r=n(9685);function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function a(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],p=t[12],m=t[13],g=t[14],_=t[15],v=n*s-r*a,b=n*l-o*a,y=n*c-i*a,w=r*l-o*s,x=r*c-i*s,C=o*c-i*l,k=f*m-u*p,S=f*g-d*p,E=f*_-h*p,A=u*g-d*m,D=u*_-h*m,M=d*_-h*g,R=v*M-b*D+y*A+w*E-x*S+C*k;return R?(R=1/R,e[0]=(s*M-l*D+c*A)*R,e[1]=(o*D-r*M-i*A)*R,e[2]=(m*C-g*x+_*w)*R,e[3]=(d*x-u*C-h*w)*R,e[4]=(l*E-a*M-c*S)*R,e[5]=(n*M-o*E+i*S)*R,e[6]=(g*y-p*C-_*b)*R,e[7]=(f*C-d*y+h*b)*R,e[8]=(a*D-s*E+c*k)*R,e[9]=(r*E-n*D-i*k)*R,e[10]=(p*x-m*y+_*v)*R,e[11]=(u*y-f*x-h*v)*R,e[12]=(s*S-a*A-l*k)*R,e[13]=(n*A-r*S+o*k)*R,e[14]=(m*b-p*w-g*v)*R,e[15]=(f*w-u*b+d*v)*R,e):null}function s(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8],f=e[9],u=e[10],d=e[11],h=e[12],p=e[13],m=e[14],g=e[15];return(t*a-n*i)*(u*g-d*m)-(t*s-r*i)*(f*g-d*p)+(t*l-o*i)*(f*m-u*p)+(n*s-r*a)*(c*g-d*h)-(n*l-o*a)*(c*m-u*h)+(r*l-o*s)*(c*p-f*h)}function l(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],p=t[11],m=t[12],g=t[13],_=t[14],v=t[15],b=n[0],y=n[1],w=n[2],x=n[3];return e[0]=b*r+y*s+w*u+x*m,e[1]=b*o+y*l+w*d+x*g,e[2]=b*i+y*c+w*h+x*_,e[3]=b*a+y*f+w*p+x*v,b=n[4],y=n[5],w=n[6],x=n[7],e[4]=b*r+y*s+w*u+x*m,e[5]=b*o+y*l+w*d+x*g,e[6]=b*i+y*c+w*h+x*_,e[7]=b*a+y*f+w*p+x*v,b=n[8],y=n[9],w=n[10],x=n[11],e[8]=b*r+y*s+w*u+x*m,e[9]=b*o+y*l+w*d+x*g,e[10]=b*i+y*c+w*h+x*_,e[11]=b*a+y*f+w*p+x*v,b=n[12],y=n[13],w=n[14],x=n[15],e[12]=b*r+y*s+w*u+x*m,e[13]=b*o+y*l+w*d+x*g,e[14]=b*i+y*c+w*h+x*_,e[15]=b*a+y*f+w*p+x*v,e}function c(e,t,n){var r,o,i,a,s,l,c,f,u,d,h,p,m=n[0],g=n[1],_=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=f,e[8]=u,e[9]=d,e[10]=h,e[11]=p,e[12]=r*m+s*g+u*_+t[12],e[13]=o*m+l*g+d*_+t[13],e[14]=i*m+c*g+h*_+t[14],e[15]=a*m+f*g+p*_+t[15]),e}function f(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(e,t,n,o){var i,a,s,l,c,f,u,d,h,p,m,g,_,v,b,y,w,x,C,k,S,E,A,D,M=o[0],R=o[1],P=o[2],T=Math.hypot(M,R,P);return T<r.Ib?null:(M*=T=1/T,R*=T,P*=T,i=Math.sin(n),s=1-(a=Math.cos(n)),l=t[0],c=t[1],f=t[2],u=t[3],d=t[4],h=t[5],p=t[6],m=t[7],g=t[8],_=t[9],v=t[10],b=t[11],y=M*M*s+a,w=R*M*s+P*i,x=P*M*s-R*i,C=M*R*s-P*i,k=R*R*s+a,S=P*R*s+M*i,E=M*P*s+R*i,A=R*P*s-M*i,D=P*P*s+a,e[0]=l*y+d*w+g*x,e[1]=c*y+h*w+_*x,e[2]=f*y+p*w+v*x,e[3]=u*y+m*w+b*x,e[4]=l*C+d*k+g*S,e[5]=c*C+h*k+_*S,e[6]=f*C+p*k+v*S,e[7]=u*C+m*k+b*S,e[8]=l*E+d*A+g*D,e[9]=c*E+h*A+_*D,e[10]=f*E+p*A+v*D,e[11]=u*E+m*A+b*D,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function d(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+f*r,e[6]=s*o+u*r,e[7]=l*o+d*r,e[8]=c*o-i*r,e[9]=f*o-a*r,e[10]=u*o-s*r,e[11]=d*o-l*r,e}function h(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-f*r,e[2]=s*o-u*r,e[3]=l*o-d*r,e[8]=i*r+c*o,e[9]=a*r+f*o,e[10]=s*r+u*o,e[11]=l*r+d*o,e}function p(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+f*r,e[2]=s*o+u*r,e[3]=l*o+d*r,e[4]=c*o-i*r,e[5]=f*o-a*r,e[6]=u*o-s*r,e[7]=d*o-l*r,e}function m(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],s=t[6],l=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(i,a,s),e[2]=Math.hypot(l,c,f),e}function g(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,l=o+o,c=n*a,f=r*a,u=r*s,d=o*a,h=o*s,p=o*l,m=i*a,g=i*s,_=i*l;return e[0]=1-u-p,e[1]=f+_,e[2]=d-g,e[3]=0,e[4]=f-_,e[5]=1-c-p,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t,n,r,o,i,a){var s=1/(n-t),l=1/(o-r),c=1/(i-a);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(o+r)*l,e[10]=(a+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*i*2*c,e[15]=0,e}function v(e,t,n,r,o){var i,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(r-o),e[10]=(o+r)*i,e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r),e}function b(e,t,n,r,o,i,a){var s=1/(t-n),l=1/(r-o),c=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*l,e[14]=(a+i)*c,e[15]=1,e}function y(e,t,n,i){var a,s,l,c,f,u,d,h,p,m,g=t[0],_=t[1],v=t[2],b=i[0],y=i[1],w=i[2],x=n[0],C=n[1],k=n[2];return Math.abs(g-x)<r.Ib&&Math.abs(_-C)<r.Ib&&Math.abs(v-k)<r.Ib?o(e):(d=g-x,h=_-C,p=v-k,a=y*(p*=m=1/Math.hypot(d,h,p))-w*(h*=m),s=w*(d*=m)-b*p,l=b*h-y*d,(m=Math.hypot(a,s,l))?(a*=m=1/m,s*=m,l*=m):(a=0,s=0,l=0),c=h*l-p*s,f=p*a-d*l,u=d*s-h*a,(m=Math.hypot(c,f,u))?(c*=m=1/m,f*=m,u*=m):(c=0,f=0,u=0),e[0]=a,e[1]=c,e[2]=d,e[3]=0,e[4]=s,e[5]=f,e[6]=h,e[7]=0,e[8]=l,e[9]=u,e[10]=p,e[11]=0,e[12]=-(a*g+s*_+l*v),e[13]=-(c*g+f*_+u*v),e[14]=-(d*g+h*_+p*v),e[15]=1,e)}},9755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,f=i.indexOf,u={},d=u.toString,h=u.hasOwnProperty,p=h.toString,m=p.call(Object),g={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},b=r.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in y)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e}var C="3.6.0",k=function(e,t){return new k.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!_(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:C,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||_(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[t]=k.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=a(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||p.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(S(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,o,i,a,s,l,c,f,u,d,h,p,m,g,_,v,b,y="sizzle"+1*new Date,w=e.document,x=0,C=0,k=le(),S=le(),E=le(),A=le(),D=function(e,t){return e===t&&(u=!0),0},M={}.hasOwnProperty,R=[],P=R.pop,T=R.push,L=R.push,z=R.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$="\\[[\\x20\\t\\r\\n\\f]*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",j=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",N=new RegExp(I+"+","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),q=new RegExp(I+"|>"),V=new RegExp(j),K=new RegExp("^"+B+"$"),Z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},ae=ye((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(R=z.call(w.childNodes),w.childNodes),R[w.childNodes.length].nodeType}catch(e){L={apply:R.length?function(e,t){T.apply(e,z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,o){var i,s,c,f,u,p,_,v=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!o&&(d(t),t=t||h,m)){if(11!==w&&(u=J.exec(e)))if(i=u[1]){if(9===w){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(v&&(c=v.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(u[2])return L.apply(r,t.getElementsByTagName(e)),r;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(_=e,v=t,1===w&&(q.test(e)||U.test(e))){for((v=ee.test(e)&&_e(t.parentNode)||t)===t&&n.scope||((f=t.getAttribute("id"))?f=f.replace(re,oe):t.setAttribute("id",f=y)),s=(p=a(e)).length;s--;)p[s]=(f?"#"+f:":scope")+" "+be(p[s]);_=p.join(",")}try{return L.apply(r,v.querySelectorAll(_)),r}catch(t){A(e,!0)}finally{f===y&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[y]=!0,e}function fe(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},d=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!=h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,m=!i(h),w!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=fe((function(e){return p.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=fe((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=fe((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=fe((function(e){return p.appendChild(e).id=y,!h.getElementsByName||!h.getElementsByName(y).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},_=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(fe((function(e){var t;p.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+y+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),fe((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&fe((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),_.push("!=",j)})),g=g.length&&new RegExp(g.join("|")),_=_.length&&new RegExp(_.join("|")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==w&&b(w,e)?-1:t==h||t.ownerDocument==w&&b(w,t)?1:f?O(f,e)-O(f,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==h?-1:t==h?1:o?-1:i?1:f?O(f,e)-O(f,t):0;if(o===i)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?de(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!A[t+" "]&&(!_||!_.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&M.call(r.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,i=0;if(u=!n.detectDuplicates,f=!n.sortStable&&e.slice(0),e.sort(D),u){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return f=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+I+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(N," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,f,u,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(g){if(i){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(b=(h=(c=(f=(u=(d=g)[y]||(d[y]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){f[e]=[x,h,b];break}}else if(v&&(b=h=(c=(f=(u=(d=t)[y]||(d[y]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++b||(v&&((f=(u=d[y]||(d[y]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[x,b]),d!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[y]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=O(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[y]?ce((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ce((function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ve(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=C++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,f,u,d=[x,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=(u=t[y]||(t[y]={}))[t.uniqueID]||(u[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=f[i])&&c[0]===x&&c[1]===s)return d[2]=c[2];if(f[i]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Ce(e,t,n,r,o,i){return r&&!r[y]&&(r=Ce(r)),o&&!o[y]&&(o=Ce(o,i)),ce((function(i,a,s,l){var c,f,u,d=[],h=[],p=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:xe(m,d,e,s,l),_=n?o||(i?e:p||r)?[]:a:g;if(n&&n(g,_,s,l),r)for(c=xe(_,h),r(c,[],s,l),f=c.length;f--;)(u=c[f])&&(_[h[f]]=!(g[h[f]]=u));if(i){if(o||e){if(o){for(c=[],f=_.length;f--;)(u=_[f])&&c.push(g[f]=u);o(null,_=[],c,l)}for(f=_.length;f--;)(u=_[f])&&(c=o?O(i,u):d[f])>-1&&(i[c]=!(a[c]=u))}}else _=xe(_===a?_.splice(p,_.length):_),o?o(null,a,_,l):L.apply(a,_)}))}function ke(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,f=ye((function(e){return e===t}),s,!0),u=ye((function(e){return O(t,e)>-1}),s,!0),d=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?f(e,n,r):u(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])d=[ye(we(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[y]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return Ce(l>1&&we(d),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&ke(e.slice(l,o)),o<i&&ke(e=e.slice(o)),o<i&&be(e))}d.push(n)}return we(d)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=se.tokenize=function(e,t){var n,o,i,a,s,l,c,f=S[e+" "];if(f)return t?0:f.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=U.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(o=Z[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,l).slice(0)},s=se.compile=function(e,t){var n,o=[],i=[],s=E[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ke(t[n]))[y]?o.push(s):i.push(s);(s=E(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,f){var u,p,g,_=0,v="0",b=i&&[],y=[],w=c,C=i||o&&r.find.TAG("*",f),k=x+=null==w?1:Math.random()||.1,S=C.length;for(f&&(c=a==h||a||f);v!==S&&null!=(u=C[v]);v++){if(o&&u){for(p=0,a||u.ownerDocument==h||(d(u),s=!m);g=e[p++];)if(g(u,a||h,s)){l.push(u);break}f&&(x=k)}n&&((u=!g&&u)&&_--,i&&b.push(u))}if(_+=v,n&&v!==_){for(p=0;g=t[p++];)g(b,y,a,s);if(i){if(_>0)for(;v--;)b[v]||y[v]||(y[v]=P.call(l));y=xe(y)}L.apply(l,y),f&&!i&&y.length>0&&_+t.length>1&&se.uniqueSort(l)}return f&&(x=k,c=w),b};return n?ce(i):i}(i,o))).selector=e}return s},l=se.select=function(e,t,n,o){var i,l,c,f,u,d="function"==typeof e&&e,h=!o&&a(e=d.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=Z.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[f=c.type]);)if((u=r.find[f])&&(o=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&_e(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return L.apply(n,o),n;break}}return(d||s(e,h))(o,t,!m,n,!t||ee.test(e)&&_e(t.parentNode)||t),n},n.sortStable=y.split("").sort(D).join("")===y,n.detectDuplicates=!!u,d(),n.sortDetached=fe((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),fe((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&fe((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),fe((function(e){return null==e.getAttribute("disabled")}))||ue(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(r);k.find=E,k.expr=E.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=E.uniqueSort,k.text=E.getText,k.isXMLDoc=E.isXML,k.contains=E.contains,k.escapeSelector=E.escape;var A=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;r.push(e)}return r},D=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=k.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,t,n){return _(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return f.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,o[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&M.test(e)?k(e):e||[],!1).length}});var L,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),P.test(r[1])&&k.isPlainObject(t))for(r in t)_(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,L=k(b);var O=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&k(e);if(!M.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?k.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(k(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,n){return A(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,n){return A(e,"nextSibling",n)},prevUntil:function(e,t,n){return A(e,"previousSibling",n)},siblings:function(e){return D((e.parentNode||{}).firstChild,e)},children:function(e){return D(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(R(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var o=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=k.filter(r,o)),this.length>1&&(F[e]||k.uniqueSort(o),O.test(e)&&o.reverse()),this.pushStack(o)}}));var B=/[^\x20\t\r\n\f]+/g;function $(e){return e}function j(e){throw e}function N(e,t,n,r){var o;try{e&&_(o=e.promise)?o.call(e).done(t).fail(n):e&&_(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){k.each(n,(function(n,r){_(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var o=_(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var i=0;function a(e,t,n,o){return function(){var s=this,l=arguments,c=function(){var r,c;if(!(e<i)){if((r=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,_(c)?o?c.call(r,a(i,t,$,o),a(i,t,j,o)):(i++,c.call(r,a(i,t,$,o),a(i,t,j,o),a(i,t,$,t.notifyWith))):(n!==$&&(s=void 0,l=[r]),(o||t.resolveWith)(s,l))}},f=o?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,f.stackTrace),e+1>=i&&(n!==j&&(s=void 0,l=[r]),t.rejectWith(s,l))}};e?f():(k.Deferred.getStackHook&&(f.stackTrace=k.Deferred.getStackHook()),r.setTimeout(f))}}return k.Deferred((function(r){t[0][3].add(a(0,r,_(o)?o:$,r.notifyWith)),t[1][3].add(a(0,r,_(e)?e:$)),t[2][3].add(a(0,r,_(n)?n:j))})).promise()},promise:function(e){return null!=e?k.extend(e,o):o}},i={};return k.each(t,(function(e,r){var a=r[2],s=r[5];o[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),i=k.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(N(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||_(o[n]&&o[n].then)))return i.then();for(;n--;)N(o[n],a(n),i.reject);return i.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&W.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var H=k.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),k.ready()}k.fn.ready=function(e){return H.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||H.resolveWith(b,[k]))}}),k.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var q=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===x(n))for(s in o=!0,n)q(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,_(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},V=/^-ms-/,K=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function G(e){return e.replace(V,"ms-").replace(K,Z)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(r in t)o[G(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=J.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){J.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=J.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,o=n.shift(),i=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){k.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=k.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ae=b.documentElement,se=function(e){return k.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===k.css(e,"display")};function fe(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),f=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&oe.exec(k.css(e,t));if(f&&f[3]!==c){for(l/=2,c=c||f[3],f=+l||1;a--;)k.style(e,t,f+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),f/=i;f*=2,k.style(e,t,f+c),n=n||[]}return n&&(f=+f||+l||0,o=n[1]?f+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=f,r.end=o)),o}var ue={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,o=ue[r];return o||(t=n.body.appendChild(n.createElement(r)),o=k.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ue[r]=o,o)}function he(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ce(r)&&(o[i]=de(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}k.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var pe,me,ge=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),pe.appendChild(me),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?k.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function Ce(e,t,n,r,o){for(var i,a,s,l,c,f,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===x(i))k.merge(d,i.nodeType?[i]:i);else if(xe.test(i)){for(a=a||u.appendChild(t.createElement("div")),s=(_e.exec(i)||["",""])[1].toLowerCase(),l=be[s]||be._default,a.innerHTML=l[1]+k.htmlPrefilter(i)+l[2],f=l[0];f--;)a=a.lastChild;k.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",h=0;i=d[h++];)if(r&&k.inArray(i,r)>-1)o&&o.push(i);else if(c=se(i),a=ye(u.appendChild(i),"script"),c&&we(a),n)for(f=0;i=a[f++];)ve.test(i.type||"")&&n.push(i);return u}var ke=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ee(){return!1}function Ae(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)De(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ee;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,o,r,n)}))}function Me(e,t,n){n?(Q.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),Q.set(this,t,i),r=n(this,t),this[t](),i!==(o=Q.get(this,t))||r?Q.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(Q.set(this,t,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&k.event.add(e,t,Se)}k.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,f,u,d,h,p,m,g=Q.get(e);if(X(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(ae,o),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)h=m=(s=ke.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(u=k.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=k.event.special[h]||{},f=k.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=l[h])||((d=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,f):d.push(f),k.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,f,u,d,h,p,m,g=Q.hasData(e)&&Q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(h=m=(s=ke.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(u=k.event.special[h]||{},d=l[h=(r?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)f=d[i],!o&&m!==f.origType||n&&n.guid!==f.guid||s&&!s.test(f.namespace)||r&&r!==f.selector&&("**"!==r||!f.selector)||(d.splice(i,1),f.selector&&d.delegateCount--,u.remove&&u.remove.call(e,f));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||k.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)k.event.remove(e,h+t[c],n,r,!0);k.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=k.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],f=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?k(o,this).index(c)>-1:k.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&R(t,"input")&&Me(t,"click",Se),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&R(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&R(t,"input")&&Q.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Me(this,e,Ae),!1},trigger:function(){return Me(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||k.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){k.event.remove(this,e,n,t)}))}});var Re=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(Q.hasData(e)&&(s=Q.get(e).events))for(o in Q.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)k.event.add(t,o,s[o][n]);J.hasData(e)&&(i=J.access(e),a=k.extend({},i),J.set(t,a))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Be(e,t,n,r){t=l(t);var o,i,a,s,c,f,u=0,d=e.length,h=d-1,p=t[0],m=_(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Pe.test(p))return e.each((function(o){var i=e.eq(o);m&&(t[0]=p.call(this,o,i.html())),Be(i,t,n,r)}));if(d&&(i=(o=Ce(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=k.map(ye(o,"script"),ze)).length;u<d;u++)c=o,u!==h&&(c=k.clone(c,!0,!0),s&&k.merge(a,ye(c,"script"))),n.call(e[u],c,u);if(s)for(f=a[a.length-1].ownerDocument,k.map(a,Oe),u=0;u<s;u++)c=a[u],ve.test(c.type||"")&&!Q.access(c,"globalEval")&&k.contains(f,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},f):w(c.textContent.replace(Te,""),c,f))}return e}function $e(e,t,n){for(var r,o=t?k.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(ye(r)),r.parentNode&&(n&&se(r)&&we(ye(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=se(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ye(s),r=0,o=(i=ye(e)).length;r<o;r++)Ie(i[r],a[r]);if(t)if(n)for(i=i||ye(e),a=a||ye(s),r=0,o=i.length;r<o;r++)Fe(i[r],a[r]);else Fe(e,s);return(a=ye(s,"script")).length>0&&we(a,!l&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,o=k.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return q(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!be[(_e.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],o=k(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),k(o[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var je=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Ne=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},We=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},He=new RegExp(ie.join("|"),"i");function Ue(e,t,n){var r,o,i,a,s=e.style;return(n=n||Ne(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=k.style(e,t)),!g.pixelBoxStyles()&&je.test(a)&&He.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(f){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",f.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(f);var e=r.getComputedStyle(f);n="1%"!==e.top,l=12===t(e.marginLeft),f.style.right="60%",a=36===t(e.right),o=36===t(e.width),f.style.position="absolute",i=12===t(f.offsetWidth/3),ae.removeChild(c),f=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,a,s,l,c=b.createElement("div"),f=b.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===f.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var Ve=["Webkit","Moz","ms"],Ke=b.createElement("div").style,Ze={};function Ge(e){return k.cssProps[e]||Ze[e]||(e in Ke?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if((e=Ve[n]+t)in Ke)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(e,n+ie[a],!0,o)),r?("content"===n&&(l-=k.css(e,"padding"+ie[a],!0,o)),"margin"!==n&&(l-=k.css(e,"border"+ie[a]+"Width",!0,o))):(l+=k.css(e,"padding"+ie[a],!0,o),"padding"!==n?l+=k.css(e,"border"+ie[a]+"Width",!0,o):s+=k.css(e,"border"+ie[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function nt(e,t,n){var r=Ne(e),o=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),i=o,a=Ue(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&R(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(o?"border":"content"),i,r,a)+"px"}function rt(e,t,n,r,o){return new rt.prototype.init(e,t,n,r,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=G(t),l=Ye.test(t),c=e.style;if(l||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"==(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=fe(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=G(t);return Ye.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ue(e,t,r)),"normal"===o&&t in Je&&(o=Je[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!Xe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):We(e,Qe,(function(){return nt(e,t,r)}))},set:function(e,n,r){var o,i=Ne(e),a=!g.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===k.css(e,"boxSizing",!1,i),l=r?tt(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-tt(e,t,"border",!1,i)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),et(0,n,l)}}})),k.cssHooks.marginLeft=qe(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(k.cssHooks[e+t].set=et)})),k.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Ne(e),o=t.length;a<o;a++)i[t[a]]=k.css(e,t[a],!1,r);return i}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=rt.prototype.init,k.fx.step={};var ot,it,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function lt(){it&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(lt):r.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return r.setTimeout((function(){ot=void 0})),ot=Date.now()}function ft(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ut(e,t,n){for(var r,o=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function dt(e,t,n){var r,o,i=0,a=dt.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ot||ct(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),f=c.props;for(function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=G(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(f,c.opts.specialEasing);i<a;i++)if(r=dt.prefilters[i].call(c,e,f,c.opts))return _(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(f,ut,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return fe(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(B);for(var n,r=0,o=e.length;r<o;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,l,c,f,u="width"in t||"height"in t,d=this,h={},p=e.style,m=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],at.test(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(r in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(f=k.css(e,"display"))&&(c?f=c:(he([e],!0),c=e.style.display||c,f=k.css(e,"display"),he([e]))),("inline"===f||"inline-block"===f&&null!=c)&&"none"===k.css(e,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(f=p.display,c="none"===f?"":f)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&he([e],!0),d.done((function(){for(r in m||he([e]),Q.remove(e,"fxshow"),h)k.style(e,r,h[r])}))),l=ut(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=k.isEmptyObject(e),i=k.speed(t,n,r),a=function(){var t=dt(this,k.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=k.timers,a=Q.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,r,o)}})),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ot=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ht,pt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return q(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?k.prop(e,t,n):(1===i&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(B);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||k.find.attr;pt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=pt[a],pt[a]=o,o=null!=n(e,t,r)?a:null,pt[a]=i),o}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function _t(e){return(e.match(B)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}k.fn.extend({prop:function(e,t){return q(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(_(e))return this.each((function(t){k(this).addClass(e.call(this,t,vt(this)))}));if((t=bt(e)).length)for(;n=this[l++];)if(o=vt(n),r=1===n.nodeType&&" "+_t(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=_t(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(_(e))return this.each((function(t){k(this).removeClass(e.call(this,t,vt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[l++];)if(o=vt(n),r=1===n.nodeType&&" "+_t(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=_t(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):_(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,vt(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=k(this),a=bt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+_t(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;k.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=_(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,k(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=k.map(o,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(yt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:_t(k.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=k.makeArray(t),a=o.length;a--;)((r=o[a]).selected=k.inArray(k.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var wt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,o){var i,a,s,l,c,f,u,d,p=[n||b],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!wt.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[m]||{},o||!u.trigger||!1!==u.trigger.apply(n,t))){if(!o&&!u.noBubble&&!v(n)){for(l=u.delegateType||m,wt.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||r)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?l:u.bindType||m,(f=(Q.get(a,"events")||Object.create(null))[e.type]&&Q.get(a,"handle"))&&f.apply(a,t),(f=c&&a[c])&&f.apply&&X(a)&&(e.result=f.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!X(n)||c&&_(n[m])&&!v(n)&&((s=n[c])&&(n[c]=null),k.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,xt),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,xt),k.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t);o||r.addEventListener(e,n,!0),Q.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t)-1;o?Q.access(r,t,o):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Ct=r.location,kt={guid:Date.now()},St=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Et=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var o;if(Array.isArray(t))k.each(t,(function(t,o){n||Et.test(e)?r(e,o):Rt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(o in t)Rt(e+"["+o+"]",t[o],n,r)}k.param=function(e,t){var n,r=[],o=function(e,t){var n=_(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){o(this.name,this.value)}));else for(n in e)Rt(n,e[n],t,o);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Mt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var Pt=/%20/g,Tt=/#.*$/,Lt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Ft=/^\/\//,It={},Bt={},$t="*/".concat("*"),jt=b.createElement("a");function Nt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(B)||[];if(_(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Wt(e,t,n,r){var o={},i=e===Bt;function a(s){var l;return o[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Ht(e,t){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}jt.href=Ct.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,k.ajaxSettings),t):Ht(k.ajaxSettings,e)},ajaxPrefilter:Nt(It),ajaxTransport:Nt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,a,s,l,c,f,u,d,h=k.ajaxSetup({},t),p=h.context||h,m=h.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),_=k.Callbacks("once memory"),v=h.statusCode||{},y={},w={},x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=zt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),S(0,t),this}};if(g.promise(C),h.url=((e||h.url||Ct.href)+"").replace(Ft,Ct.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){l=b.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Wt(It,h,t,C),c)return C;for(u in(f=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ot.test(h.type),o=h.url.replace(Tt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(St.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Lt,"$1"),d=(St.test(o)?"&":"?")+"_="+kt.guid+++d),h.url=o+d),h.ifModified&&(k.lastModified[o]&&C.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&C.setRequestHeader("If-None-Match",k.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(p,C,h)||c))return C.abort();if(x="abort",_.add(h.complete),C.done(h.success),C.fail(h.error),n=Wt(Bt,h,t,C)){if(C.readyState=1,f&&m.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(s=r.setTimeout((function(){C.abort("timeout")}),h.timeout));try{c=!1,n.send(y,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,a,l){var u,d,b,y,w,x=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,i=l||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(y=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(h,C,a)),!u&&k.inArray("script",h.dataTypes)>-1&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),y=function(e,t,n,r){var o,i,a,s,l,c={},f=e.dataTypes.slice();if(f[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=f.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=f.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],f.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(h,y,C,u),u?(h.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(k.etag[o]=w)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,u=!(b=y.error))):(b=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(t||x)+"",u?g.resolveWith(p,[d,x,C]):g.rejectWith(p,[C,x,b]),C.statusCode(v),v=void 0,f&&m.trigger(u?"ajaxSuccess":"ajaxError",[C,h,u?d:b]),_.fireWith(p,[C,x]),f&&(m.trigger("ajaxComplete",[C,h]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,o){return _(n)&&(o=o||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:o,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return _(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},qt=k.ajaxSettings.xhr();g.cors=!!qt&&"withCredentials"in qt,g.ajax=qt=!!qt,k.ajaxTransport((function(e){var t,n;if(g.cors||qt&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Vt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||k.expando+"_"+kt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var o,i,a,s=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Zt,"$1"+o):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||k.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){a=arguments},n.always((function(){void 0===i?k(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),a&&_(i)&&i(a[0]),a=i=void 0})),"script"})),g.createHTMLDocument=((Vt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=P.exec(e))?[t.createElement(o[1])]:(o=Ce([e],t,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=_t(e.slice(s)),e=e.slice(0,s)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&k.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=k.css(e,"position"),f=k(e),u={};"static"===c&&(e.style.position="relative"),s=f.offset(),i=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(r=f.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),_(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):f.css(u)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(r,"marginTop",!0),left:t.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ae}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return q(this,(function(e,r,o){var i;if(v(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=qe(g.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),je.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return q(this,(function(t,n,o){var i;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?k.css(t,n,s):k.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,o},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=R,k.isFunction=_,k.isWindow=v,k.camelCase=G,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Xt=r.jQuery,Yt=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=Yt),e&&r.jQuery===k&&(r.jQuery=Xt),k},void 0===o&&(r.jQuery=r.$=k),k}))},4211:function(e,t){!function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function n(e){e.parentElement.removeChild(e)}function r(e){return null!=e}function o(e){e.preventDefault()}function i(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function a(e,t,n){n>0&&(f(e,t),setTimeout((function(){u(e,t)}),n))}function s(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function c(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function h(e,t){return 100/(t-e)}function p(e,t,n){return 100*t/(e[n+1]-e[n])}function m(e,t){for(var n=1;e>=t[n];)n+=1;return n}function g(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=m(n,e),o=e[r-1],i=e[r],a=t[r-1],s=t[r];return a+function(e,t){return p(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([o,i],n)/h(a,s)}function _(e,t,n,r){if(100===r)return r;var o=m(r,e),i=e[o-1],a=e[o];return n?r-i>(a-i)/2?a:i:t[o-1]?e[o-1]+function(e,t){return Math.round(e/t)*t}(r-e[o-1],t[o-1]):r}var v,b;e.PipsMode=void 0,(b=e.PipsMode||(e.PipsMode={})).Range="range",b.Steps="steps",b.Positions="positions",b.Count="count",b.Values="values",e.PipsType=void 0,(v=e.PipsType||(e.PipsType={}))[v.None=-1]="None",v[v.NoValue=0]="NoValue",v[v.LargeValue=1]="LargeValue",v[v.SmallValue=2]="SmallValue";var y=function(){function e(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var o=[];for(Object.keys(e).forEach((function(t){o.push([l(e[t]),t])})),o.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<o.length;r++)this.handleEntryPoint(o[r][1],o[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){var t,n=[];for(t=0;t<this.xNumSteps.length-1;t++){var r=this.xNumSteps[t];if(r&&e/r%1!=0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[t]+"% range must be divisible by step.");n[t]=p(this.xVal,e,t)}return n},e.prototype.getAbsoluteDistance=function(e,t,n){var r,o=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[o+1];)o++;else e===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);n||e!==this.xPct[o+1]||o++,null===t&&(t=[]);var i=1,a=t[o],s=0,l=0,c=0,f=0;for(r=n?(e-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-e)/(this.xPct[o+1]-this.xPct[o]);a>0;)s=this.xPct[o+1+f]-this.xPct[o+f],t[o+f]*i+100-100*r>100?(l=s*r,i=(a-100*r)/t[o+f],r=1):(l=t[o+f]*s/100*i,i=0),n?(c-=l,this.xPct.length+f>=1&&f--):(c+=l,this.xPct.length-f>=1&&f++),a=t[o+f]*i;return e+c},e.prototype.toStepping=function(e){return g(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var r=m(n,t),o=e[r-1],i=e[r],a=t[r-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([o,i],(n-a)*h(a,t[r]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return _(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,n){var r=m(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},e.prototype.getNearbySteps=function(e){var t=m(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(c);return Math.max.apply(null,e)},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var n;if(!i(n="min"===e?0:"max"===e?100:parseFloat(e))||!i(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var r=Number(t[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=p([this.xVal[e],this.xVal[e+1]],t,0)/h(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(n.toFixed(3))-1),o=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=o}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),w={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},x={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},C=".__tooltips",k=".__aria";function S(e,t){if(!i(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function E(e,t){if(!i(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function A(e,t){if(!i(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function D(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new y(t,e.snap||!1,e.singleStep)}function M(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function R(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function P(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function T(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function L(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function z(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function O(e,t){if(!i(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function F(e,t){if(!i(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(e,t){var n;if(!i(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!i(t[0])&&!i(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],o=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function B(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function $(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,i=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0,s=t.indexOf("unconstrained")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");O(e,e.start[1]-e.start[0])}if(s&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||i,drag:r,fixed:o,snap:i,hover:a,unconstrained:s}}function j(e,n){if(!1!==n)if(!0===n||t(n)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(n)}else{if((n=l(n)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");n.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=n}}function N(e,n){if(!t(n))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=n}function W(e,n){if(!function(e){return t(e)&&"function"==typeof e.from}(n))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=n}function H(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function U(e,t){e.documentElement=t}function q(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function V(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function K(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:w,format:w},n={step:{r:!1,t:S},keyboardPageMultiplier:{r:!1,t:E},keyboardDefaultStep:{r:!1,t:A},start:{r:!0,t:M},connect:{r:!0,t:L},direction:{r:!0,t:B},snap:{r:!1,t:R},animate:{r:!1,t:P},animationDuration:{r:!1,t:T},range:{r:!0,t:D},orientation:{r:!1,t:z},margin:{r:!1,t:O},limit:{r:!1,t:F},padding:{r:!1,t:I},behaviour:{r:!0,t:$},ariaFormat:{r:!1,t:N},format:{r:!1,t:W},tooltips:{r:!1,t:j},keyboardSupport:{r:!0,t:H},documentElement:{r:!1,t:U},cssPrefix:{r:!0,t:q},cssClasses:{r:!0,t:V}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:x,keyboardPageMultiplier:5,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(i){if(r(e[i])||void 0!==o[i])n[i].t(t,r(e[i])?e[i]:o[i]);else if(n[i].r)throw new Error("noUiSlider: '"+i+"' is required.")})),t.pips=e.pips;var i=document.createElement("div"),a=void 0!==i.style.msTransform,s=void 0!==i.style.transform;t.transformRule=s?"transform":a?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function Z(t,i,c){var h,p,m,g,_,v,b,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},w=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),x=t,S=i.spectrum,E=[],A=[],D=[],M=0,R={},P=t.ownerDocument,T=i.documentElement||P.documentElement,L=P.body,z="rtl"===P.dir||1===i.ort?0:100;function O(e,t){var n=P.createElement("div");return t&&f(n,t),e.appendChild(n),n}function F(e,t){var n=O(e,i.cssClasses.origin),r=O(n,i.cssClasses.handle);return O(r,i.cssClasses.touchArea),r.setAttribute("data-handle",String(t)),i.keyboardSupport&&(r.setAttribute("tabindex","0"),r.addEventListener("keydown",(function(e){return function(e,t){if($()||j(t))return!1;var n=["Left","Right"],r=["Down","Up"],o=["PageDown","PageUp"],a=["Home","End"];i.dir&&!i.ort?n.reverse():i.ort&&!i.dir&&(r.reverse(),o.reverse());var s,l=e.key.replace("Arrow",""),c=l===o[0],f=l===o[1],u=l===r[0]||l===n[0]||c,d=l===r[1]||l===n[1]||f,h=l===a[0],p=l===a[1];if(!(u||d||h||p))return!0;if(e.preventDefault(),d||u){var m=i.keyboardPageMultiplier,g=u?0:1,_=_e(t)[g];if(null===_)return!1;!1===_&&(_=S.getDefaultStep(A[t],u,i.keyboardDefaultStep)),(f||c)&&(_*=m),_=Math.max(_,1e-7),_*=u?-1:1,s=E[t]+_}else s=p?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return de(t,S.toStepping(s),!0,!0),ae("slide",t),ae("update",t),ae("change",t),ae("set",t),!1}(e,t)}))),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===t?f(r,i.cssClasses.handleLower):t===i.handles-1&&f(r,i.cssClasses.handleUpper),n}function I(e,t){return!!t&&O(e,i.cssClasses.connect)}function B(e,t){return!(!i.tooltips||!i.tooltips[t])&&O(e.firstChild,i.cssClasses.tooltip)}function $(){return x.hasAttribute("disabled")}function j(e){return p[e].hasAttribute("disabled")}function N(){_&&(ie("update"+C),_.forEach((function(e){e&&n(e)})),_=null)}function W(){N(),_=p.map(B),oe("update"+C,(function(e,t,n){if(_&&i.tooltips&&!1!==_[t]){var r=e[t];!0!==i.tooltips[t]&&(r=i.tooltips[t].to(n[t])),_[t].innerHTML=r}}))}function H(e,t){return e.map((function(e){return S.fromStepping(t?S.getStep(e):e)}))}function U(t){var n,r=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return S.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=t.values-1,r=100/n,o=[];n--;)o[n]=n*r;return o.push(100),H(o,t.stepped)}return t.mode===e.PipsMode.Positions?H(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return S.fromStepping(S.getStep(S.toStepping(e)))})):t.values:[]}(t),o={},i=S.xVal[0],a=S.xVal[S.xVal.length-1],s=!1,l=!1,c=0;return(n=r.slice().sort((function(e,t){return e-t})),r=n.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==i&&(r.unshift(i),s=!0),r[r.length-1]!==a&&(r.push(a),l=!0),r.forEach((function(n,i){var a,f,u,d,h,p,m,g,_,v,b=n,y=r[i+1],w=t.mode===e.PipsMode.Steps;for(w&&(a=S.xNumSteps[i]),a||(a=y-b),void 0===y&&(y=b),a=Math.max(a,1e-7),f=b;f<=y;f=Number((f+a).toFixed(7))){for(g=(h=(d=S.toStepping(f))-c)/(t.density||1),v=h/(_=Math.round(g)),u=1;u<=_;u+=1)o[(p=c+u*v).toFixed(5)]=[S.fromStepping(p),0];m=r.indexOf(f)>-1?e.PipsType.LargeValue:w?e.PipsType.SmallValue:e.PipsType.NoValue,!i&&s&&f!==y&&(m=0),f===y&&l||(o[d.toFixed(5)]=[f,m]),c=d}})),o}function q(t,n,r){var o,a,s=P.createElement("div"),l=((o={})[e.PipsType.None]="",o[e.PipsType.NoValue]=i.cssClasses.valueNormal,o[e.PipsType.LargeValue]=i.cssClasses.valueLarge,o[e.PipsType.SmallValue]=i.cssClasses.valueSub,o),c=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=i.cssClasses.markerNormal,a[e.PipsType.LargeValue]=i.cssClasses.markerLarge,a[e.PipsType.SmallValue]=i.cssClasses.markerSub,a),u=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],d=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function h(e,t){var n=t===i.cssClasses.value,r=n?l:c;return t+" "+(n?u:d)[i.ort]+" "+r[e]}return f(s,i.cssClasses.pips),f(s,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(o){!function(t,o,a){if((a=n?n(o,a):a)!==e.PipsType.None){var l=O(s,!1);l.className=h(a,i.cssClasses.marker),l.style[i.style]=t+"%",a>e.PipsType.NoValue&&((l=O(s,!1)).className=h(a,i.cssClasses.value),l.setAttribute("data-value",String(o)),l.style[i.style]=t+"%",l.innerHTML=String(r.to(o)))}}(o,t[o][0],t[o][1])})),s}function V(){g&&(n(g),g=null)}function Z(e){V();var t=U(e),n=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return g=x.appendChild(q(t,n,r))}function G(){var e=h.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||h[t]:e.height||h[t]}function X(e,t,n,r){var o=function(o){var a,s,l=function(e,t,n){var r=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),i=0===e.type.indexOf("pointer"),a=0,s=0;if(0===e.type.indexOf("MSPointer")&&(i=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var l=function(t){var r=t.target;return r===n||n.contains(r)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;a=c[0].pageX,s=c[0].pageY}else{var f=Array.prototype.find.call(e.changedTouches,l);if(!f)return!1;a=f.pageX,s=f.pageY}}return t=t||d(P),(o||i)&&(a=e.clientX+t.x,s=e.clientY+t.y),e.pageOffset=t,e.points=[a,s],e.cursor=o||i,e}(o,r.pageOffset,r.target||t);return!!l&&!($()&&!r.doNotReject)&&(a=x,s=i.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!r.doNotReject))&&!(e===y.start&&void 0!==l.buttons&&l.buttons>1)&&(!r.hover||!l.buttons)&&(w||l.preventDefault(),l.calcPoint=l.points[i.ort],void n(l,r))},a=[];return e.split(" ").forEach((function(e){t.addEventListener(e,o,!!w&&{passive:!0}),a.push([e,o])})),a}function Y(e){var t,n,r,o,a,l,c=100*(e-(t=h,n=i.ort,r=t.getBoundingClientRect(),o=t.ownerDocument,a=o.documentElement,l=d(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),n?r.top+l.y-a.clientTop:r.left+l.x-a.clientLeft))/G();return c=s(c),i.dir?100-c:c}function Q(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ee(e,t)}function J(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ee(e,t);var n=(i.dir?-1:1)*(e.calcPoint-t.startCalcPoint);ce(n>0,100*n/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ee(e,t){t.handle&&(u(t.handle,i.cssClasses.active),M-=1),t.listeners.forEach((function(e){T.removeEventListener(e[0],e[1])})),0===M&&(u(x,i.cssClasses.drag),ue(),e.cursor&&(L.style.cursor="",L.removeEventListener("selectstart",o))),t.handleNumbers.forEach((function(e){ae("change",e),ae("set",e),ae("end",e)}))}function te(e,t){if(!t.handleNumbers.some(j)){var n;1===t.handleNumbers.length&&(n=p[t.handleNumbers[0]].children[0],M+=1,f(n,i.cssClasses.active)),e.stopPropagation();var r=[],a=X(y.move,T,J,{target:e.target,handle:n,connect:t.connect,listeners:r,startCalcPoint:e.calcPoint,baseSize:G(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:A.slice()}),s=X(y.end,T,ee,{target:e.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:t.handleNumbers}),l=X("mouseout",T,Q,{target:e.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:t.handleNumbers});r.push.apply(r,a.concat(s,l)),e.cursor&&(L.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&f(x,i.cssClasses.drag),L.addEventListener("selectstart",o,!1)),t.handleNumbers.forEach((function(e){ae("start",e)}))}}function ne(e){e.stopPropagation();var t=Y(e.calcPoint),n=function(e){var t=100,n=!1;return p.forEach((function(r,o){if(!j(o)){var i=A[o],a=Math.abs(i-e);(a<t||a<=t&&e>i||100===a&&100===t)&&(n=o,t=a)}})),n}(t);!1!==n&&(i.events.snap||a(x,i.cssClasses.tap,i.animationDuration),de(n,t,!0,!0),ue(),ae("slide",n,!0),ae("update",n,!0),ae("change",n,!0),ae("set",n,!0),i.events.snap&&te(e,{handleNumbers:[n]}))}function re(e){var t=Y(e.calcPoint),n=S.getStep(t),r=S.fromStepping(n);Object.keys(R).forEach((function(e){"hover"===e.split(".")[0]&&R[e].forEach((function(e){e.call(ve,r)}))}))}function oe(e,t){R[e]=R[e]||[],R[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){ae("update",t)}))}function ie(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(R).forEach((function(e){var r=e.split(".")[0],o=e.substring(r.length);t&&t!==r||n&&n!==o||function(e){return e===k||e===C}(o)&&n!==o||delete R[e]}))}function ae(e,t,n){Object.keys(R).forEach((function(r){var o=r.split(".")[0];e===o&&R[r].forEach((function(e){e.call(ve,E.map(i.format.to),t,E.slice(),n||!1,A.slice(),ve)}))}))}function se(e,t,n,r,o,a){var l;return p.length>1&&!i.events.unconstrained&&(r&&t>0&&(l=S.getAbsoluteDistance(e[t-1],i.margin,!1),n=Math.max(n,l)),o&&t<p.length-1&&(l=S.getAbsoluteDistance(e[t+1],i.margin,!0),n=Math.min(n,l))),p.length>1&&i.limit&&(r&&t>0&&(l=S.getAbsoluteDistance(e[t-1],i.limit,!1),n=Math.min(n,l)),o&&t<p.length-1&&(l=S.getAbsoluteDistance(e[t+1],i.limit,!0),n=Math.max(n,l))),i.padding&&(0===t&&(l=S.getAbsoluteDistance(0,i.padding[0],!1),n=Math.max(n,l)),t===p.length-1&&(l=S.getAbsoluteDistance(100,i.padding[1],!0),n=Math.min(n,l))),!((n=s(n=S.getStep(n)))===e[t]&&!a)&&n}function le(e,t){var n=i.ort;return(n?t:e)+", "+(n?e:t)}function ce(e,t,n,r,o){var i=n.slice(),a=r[0],s=[!e,e],l=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach((function(e,n){var r=se(i,e,i[e]+t,s[n],l[n],!1);!1===r?t=0:(t=r-i[e],i[e]=r)})):s=l=[!0];var c=!1;r.forEach((function(e,r){c=de(e,n[e]+t,s[r],l[r])||c})),c&&(r.forEach((function(e){ae("update",e),ae("slide",e)})),null!=o&&ae("drag",a))}function fe(e,t){return i.dir?100-e-t:e}function ue(){D.forEach((function(e){var t=A[e]>50?-1:1,n=3+(p.length+t*e);p[e].style.zIndex=String(n)}))}function de(e,t,n,r,o){return o||(t=se(A,e,t,n,r,!1)),!1!==t&&(function(e,t){A[e]=t,E[e]=S.fromStepping(t);var n="translate("+le(10*(fe(t,0)-z)+"%","0")+")";p[e].style[i.transformRule]=n,he(e),he(e+1)}(e,t),!0)}function he(e){if(m[e]){var t=0,n=100;0!==e&&(t=A[e-1]),e!==m.length-1&&(n=A[e]);var r=n-t,o="translate("+le(fe(t,r)+"%","0")+")",a="scale("+le(r/100,"1")+")";m[e].style[i.transformRule]=o+" "+a}}function pe(e,t){return null===e||!1===e||void 0===e?A[t]:("number"==typeof e&&(e=String(e)),!1!==(e=i.format.from(e))&&(e=S.toStepping(e)),!1===e||isNaN(e)?A[t]:e)}function me(e,t,n){var r=l(e),o=void 0===A[0];t=void 0===t||t,i.animate&&!o&&a(x,i.cssClasses.tap,i.animationDuration),D.forEach((function(e){de(e,pe(r[e],e),!0,!1,n)}));for(var s=1===D.length?0:1;s<D.length;++s)D.forEach((function(e){de(e,A[e],!0,!0,n)}));ue(),D.forEach((function(e){ae("update",e),null!==r[e]&&t&&ae("set",e)}))}function ge(e){if(void 0===e&&(e=!1),e)return 1===E.length?E[0]:E.slice(0);var t=E.map(i.format.to);return 1===t.length?t[0]:t}function _e(e){var t=A[e],n=S.getNearbySteps(t),r=E[e],o=n.thisStep.step,a=null;if(i.snap)return[r-n.stepBefore.startValue||null,n.stepAfter.startValue-r||null];!1!==o&&r+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===t?o=null:0===t&&(a=null);var s=S.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}f(b=x,i.cssClasses.target),0===i.dir?f(b,i.cssClasses.ltr):f(b,i.cssClasses.rtl),0===i.ort?f(b,i.cssClasses.horizontal):f(b,i.cssClasses.vertical),f(b,"rtl"===getComputedStyle(b).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),h=O(b,i.cssClasses.base),function(e,t){var n=O(t,i.cssClasses.connects);p=[],(m=[]).push(I(n,e[0]));for(var r=0;r<i.handles;r++)p.push(F(t,r)),D[r]=r,m.push(I(n,e[r+1]))}(i.connect,h),(v=i.events).fixed||p.forEach((function(e,t){X(y.start,e.children[0],te,{handleNumbers:[t]})})),v.tap&&X(y.start,h,ne,{}),v.hover&&X(y.move,h,re,{hover:!0}),v.drag&&m.forEach((function(e,t){if(!1!==e&&0!==t&&t!==m.length-1){var n=p[t-1],r=p[t],o=[e];f(e,i.cssClasses.draggable),v.fixed&&(o.push(n.children[0]),o.push(r.children[0])),o.forEach((function(o){X(y.start,o,te,{handles:[n,r],handleNumbers:[t-1,t],connect:e})}))}})),me(i.start),i.pips&&Z(i.pips),i.tooltips&&W(),ie("update"+k),oe("update"+k,(function(e,t,n,r,o){D.forEach((function(e){var t=p[e],r=se(A,e,0,!0,!0,!0),a=se(A,e,100,!0,!0,!0),s=o[e],l=String(i.ariaFormat.to(n[e]));r=S.fromStepping(r).toFixed(1),a=S.fromStepping(a).toFixed(1),s=S.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",r),t.children[0].setAttribute("aria-valuemax",a),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)}))}));var ve={destroy:function(){for(ie(k),ie(C),Object.keys(i.cssClasses).forEach((function(e){u(x,i.cssClasses[e])}));x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return D.map(_e)},on:oe,off:ie,get:ge,set:me,setHandle:function(e,t,n,r){if(!((e=Number(e))>=0&&e<D.length))throw new Error("noUiSlider: invalid handle number, got: "+e);de(e,pe(t,e),!0,!0,r),ae("update",e),n&&ae("set",e)},reset:function(e){me(i.start,e)},__moveHandles:function(e,t,n){ce(e,t,A,n)},options:c,updateOptions:function(e,t){var n=ge(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(t){void 0!==e[t]&&(c[t]=e[t])}));var a=K(c);o.forEach((function(t){void 0!==e[t]&&(i[t]=a[t])})),S=a.spectrum,i.margin=a.margin,i.limit=a.limit,i.padding=a.padding,i.pips?Z(i.pips):V(),i.tooltips?W():N(),A=[],me(r(e.start)?e.start:n,t)},target:x,removePips:V,removeTooltips:N,getTooltips:function(){return _},getOrigins:function(){return p},pips:Z};return ve}function G(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=Z(e,K(t),t);return e.noUiSlider=n,n}var X={__spectrum:y,cssClasses:x,create:G};e.create=G,e.cssClasses=x,e.default=X,Object.defineProperty(e,"__esModule",{value:!0})}(t)},8424:(e,t,n)=>{"use strict";function r(e){let t=e.length;for(;--t>=0;)e[t]=0}n.d(t,{ZP:()=>dn,rr:()=>un});const o=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);r(l);const c=new Array(60);r(c);const f=new Array(512);r(f);const u=new Array(256);r(u);const d=new Array(29);r(d);const h=new Array(30);function p(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let m,g,_;function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}r(h);const b=e=>e<256?f[e]:f[256+(e>>>7)],y=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},w=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},x=(e,t,n)=>{w(e,n[2*t],n[2*t+1])},C=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},k=(e,t,n)=>{const r=new Array(16);let o,i,a=0;for(o=1;o<=15;o++)r[o]=a=a+n[o-1]<<1;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=C(r[t]++,t))}},S=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},E=e=>{e.bi_valid>8?y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},A=(e,t,n,r)=>{const o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},D=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&A(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!A(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},M=(e,t,n)=>{let r,a,s,l,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],a=e.pending_buf[e.l_buf+c],c++,0===r?x(e,a,t):(s=u[a],x(e,s+256+1,t),l=o[s],0!==l&&(a-=d[s],w(e,a,l)),r--,s=b(r),x(e,s,n),l=i[s],0!==l&&(r-=h[s],w(e,r,l)))}while(c<e.last_lit);x(e,256,t)},R=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<i;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)D(e,n,a);l=i;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,D(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,f,u,d,h,p,m=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)f=e.heap[c],d=n[2*n[2*f+1]+1]+1,d>l&&(d=l,m++),n[2*f+1]=d,f>r||(e.bl_count[d]++,h=0,f>=s&&(h=a[f-s]),p=n[2*f],e.opt_len+=p*(d+h),i&&(e.static_len+=p*(o[2*f+1]+h)));if(0!==m){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(d=l;0!==d;d--)for(f=e.bl_count[d];0!==f;)u=e.heap[--c],u>r||(n[2*u+1]!==d&&(e.opt_len+=(d-n[2*u+1])*n[2*u],n[2*u+1]=d),f--)}})(e,t),k(n,c,e.bl_count)},P=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))},T=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<c)do{x(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(x(e,o,e.bl_tree),s--),x(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(x(e,17,e.bl_tree),w(e,s-3,3)):(x(e,18,e.bl_tree),w(e,s-11,7));s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}};let L=!1;const z=(e,t,n,r)=>{w(e,0+(r?1:0),3),((e,t,n,r)=>{E(e),y(e,n),y(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n)};var O={_tr_init:e=>{L||((()=>{let e,t,n,r,s;const v=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)u[n++]=r;for(u[n-1]=r,s=0,r=0;r<16;r++)for(h[r]=s,e=0;e<1<<i[r];e++)f[s++]=r;for(s>>=7;r<30;r++)for(h[r]=s<<7,e=0;e<1<<i[r]-7;e++)f[256+s++]=r;for(t=0;t<=15;t++)v[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,v[8]++;for(;e<=255;)l[2*e+1]=9,e++,v[9]++;for(;e<=279;)l[2*e+1]=7,e++,v[7]++;for(;e<=287;)l[2*e+1]=8,e++,v[8]++;for(k(l,287,v),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=C(e,5);m=new p(l,o,257,286,15),g=new p(c,i,0,30,15),_=new p(new Array(0),a,0,19,7)})(),L=!0),e.l_desc=new v(e.dyn_ltree,m),e.d_desc=new v(e.dyn_dtree,g),e.bl_desc=new v(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,S(e)},_tr_stored_block:z,_tr_flush_block:(e,t,n,r)=>{let o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),R(e,e.l_desc),R(e,e.d_desc),a=(e=>{let t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*s[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?z(e,t,n,r):4===e.strategy||i===o?(w(e,2+(r?1:0),3),M(e,l,c)):(w(e,4+(r?1:0),3),((e,t,n,r)=>{let o;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),o=0;o<r;o++)w(e,e.bl_tree[2*s[o]+1],3);T(e,e.dyn_ltree,t-1),T(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),M(e,e.dyn_ltree,e.dyn_dtree)),S(e),r&&E(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(u[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{w(e,2,3),x(e,256,l),(e=>{16===e.bi_valid?(y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},F=(e,t,n,r)=>{let o=65535&e|0,i=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{o=o+t[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16|0};const I=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var B=(e,t,n,r)=>{const o=I,i=r+n;e^=-1;for(let n=r;n<i;n++)e=e>>>8^o[255&(e^t[n])];return-1^e},$={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:N,_tr_stored_block:W,_tr_flush_block:H,_tr_tally:U,_tr_align:q}=O,{Z_NO_FLUSH:V,Z_PARTIAL_FLUSH:K,Z_FULL_FLUSH:Z,Z_FINISH:G,Z_BLOCK:X,Z_OK:Y,Z_STREAM_END:Q,Z_STREAM_ERROR:J,Z_DATA_ERROR:ee,Z_BUF_ERROR:te,Z_DEFAULT_COMPRESSION:ne,Z_FILTERED:re,Z_HUFFMAN_ONLY:oe,Z_RLE:ie,Z_FIXED:ae,Z_DEFAULT_STRATEGY:se,Z_UNKNOWN:le,Z_DEFLATED:ce}=j,fe=258,ue=262,de=103,he=113,pe=666,me=(e,t)=>(e.msg=$[t],t),ge=e=>(e<<1)-(e>4?9:0),_e=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let ve=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const be=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},ye=(e,t)=>{H(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,be(e.strm)},we=(e,t)=>{e.pending_buf[e.pending++]=t},xe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ce=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=F(e.adler,t,o,n):2===e.state.wrap&&(e.adler=B(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},ke=(e,t)=>{let n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,c=e.window,f=e.w_mask,u=e.prev,d=e.strstart+fe;let h=c[i+a-1],p=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=fe-(d-i),i=d-fe,r>a){if(e.match_start=t,a=r,r>=s)break;h=c[i+a-1],p=c[i+a]}}}while((t=u[t&f])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead},Se=e=>{const t=e.w_size;let n,r,o,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ue)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--r);r=t,n=r;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--r);i+=t}if(0===e.strm.avail_in)break;if(r=Ce(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ve(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ve(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ue&&0!==e.strm.avail_in)},Ee=(e,t)=>{let n,r;for(;;){if(e.lookahead<ue){if(Se(e),e.lookahead<ue&&t===V)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=ke(e,n)),e.match_length>=3)if(r=U(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ve(e,e.ins_h,e.window[e.strstart+1]);else r=U(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===G?(ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ye(e,!1),0===e.strm.avail_out)?1:2},Ae=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<ue){if(Se(e),e.lookahead<ue&&t===V)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=ke(e,n),e.match_length<=5&&(e.strategy===re||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=U(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ye(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=U(e,0,e.window[e.strstart-1]),r&&ye(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=U(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===G?(ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ye(e,!1),0===e.strm.avail_out)?1:2};function De(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Me=[new De(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Se(e),0===e.lookahead&&t===V)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ye(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ue&&(ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===G?(ye(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(ye(e,!1),e.strm.avail_out),1)})),new De(4,4,8,4,Ee),new De(4,5,16,8,Ee),new De(4,6,32,32,Ee),new De(4,4,16,16,Ae),new De(8,16,32,32,Ae),new De(8,16,128,128,Ae),new De(8,32,128,256,Ae),new De(32,128,258,1024,Ae),new De(32,258,258,4096,Ae)];function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ce,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),_e(this.dyn_ltree),_e(this.dyn_dtree),_e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),_e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),_e(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Pe=e=>{if(!e||!e.state)return me(e,J);e.total_in=e.total_out=0,e.data_type=le;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:he,e.adler=2===t.wrap?0:1,t.last_flush=V,N(t),Y},Te=e=>{const t=Pe(e);var n;return t===Y&&((n=e.state).window_size=2*n.w_size,_e(n.head),n.max_lazy_match=Me[n.level].max_lazy,n.good_match=Me[n.level].good_length,n.nice_match=Me[n.level].nice_length,n.max_chain_length=Me[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Le=(e,t,n,r,o,i)=>{if(!e)return J;let a=1;if(t===ne&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||n!==ce||r<8||r>15||t<0||t>9||i<0||i>ae)return me(e,J);8===r&&(r=9);const s=new Re;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,Te(e)};var ze=Le,Oe=(e,t)=>e&&e.state?2!==e.state.wrap?J:(e.state.gzhead=t,Y):J,Fe=(e,t)=>{let n,r;if(!e||!e.state||t>X||t<0)return e?me(e,J):J;const o=e.state;if(!e.output||!e.input&&0!==e.avail_in||o.status===pe&&t!==G)return me(e,0===e.avail_out?te:J);o.strm=e;const i=o.last_flush;if(o.last_flush=t,42===o.status)if(2===o.wrap)e.adler=0,we(o,31),we(o,139),we(o,8),o.gzhead?(we(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),we(o,255&o.gzhead.time),we(o,o.gzhead.time>>8&255),we(o,o.gzhead.time>>16&255),we(o,o.gzhead.time>>24&255),we(o,9===o.level?2:o.strategy>=oe||o.level<2?4:0),we(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(we(o,255&o.gzhead.extra.length),we(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=B(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(we(o,0),we(o,0),we(o,0),we(o,0),we(o,0),we(o,9===o.level?2:o.strategy>=oe||o.level<2?4:0),we(o,3),o.status=he);else{let t=ce+(o.w_bits-8<<4)<<8,n=-1;n=o.strategy>=oe||o.level<2?0:o.level<6?1:6===o.level?2:3,t|=n<<6,0!==o.strstart&&(t|=32),t+=31-t%31,o.status=he,xe(o,t),0!==o.strstart&&(xe(o,e.adler>>>16),xe(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),be(e),n=o.pending,o.pending!==o.pending_buf_size));)we(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),be(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,we(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),be(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,we(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=B(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.status=de)}else o.status=de;if(o.status===de&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&be(e),o.pending+2<=o.pending_buf_size&&(we(o,255&e.adler),we(o,e.adler>>8&255),e.adler=0,o.status=he)):o.status=he),0!==o.pending){if(be(e),0===e.avail_out)return o.last_flush=-1,Y}else if(0===e.avail_in&&ge(t)<=ge(i)&&t!==G)return me(e,te);if(o.status===pe&&0!==e.avail_in)return me(e,te);if(0!==e.avail_in||0!==o.lookahead||t!==V&&o.status!==pe){let n=o.strategy===oe?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Se(e),0===e.lookahead)){if(t===V)return 1;break}if(e.match_length=0,n=U(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===G?(ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ye(e,!1),0===e.strm.avail_out)?1:2})(o,t):o.strategy===ie?((e,t)=>{let n,r,o,i;const a=e.window;for(;;){if(e.lookahead<=fe){if(Se(e),e.lookahead<=fe&&t===V)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+fe;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=fe-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=U(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=U(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===G?(ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ye(e,!1),0===e.strm.avail_out)?1:2})(o,t):Me[o.level].func(o,t);if(3!==n&&4!==n||(o.status=pe),1===n||3===n)return 0===e.avail_out&&(o.last_flush=-1),Y;if(2===n&&(t===K?q(o):t!==X&&(W(o,0,0,!1),t===Z&&(_e(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),be(e),0===e.avail_out))return o.last_flush=-1,Y}return t!==G?Y:o.wrap<=0?Q:(2===o.wrap?(we(o,255&e.adler),we(o,e.adler>>8&255),we(o,e.adler>>16&255),we(o,e.adler>>24&255),we(o,255&e.total_in),we(o,e.total_in>>8&255),we(o,e.total_in>>16&255),we(o,e.total_in>>24&255)):(xe(o,e.adler>>>16),xe(o,65535&e.adler)),be(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?Y:Q)},Ie=e=>{if(!e||!e.state)return J;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==de&&t!==he&&t!==pe?me(e,J):(e.state=null,t===he?me(e,ee):Y)},Be=(e,t)=>{let n=t.length;if(!e||!e.state)return J;const r=e.state,o=r.wrap;if(2===o||1===o&&42!==r.status||r.lookahead)return J;if(1===o&&(e.adler=F(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===o&&(_e(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Se(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ve(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Se(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=i,r.wrap=o,Y};const $e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var je=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)$e(n,t)&&(e[t]=n[t])}}return e},Ne=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,o=e.length;t<o;t++){let o=e[t];n.set(o,r),r+=o.length}return n};let We=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){We=!1}const He=new Uint8Array(256);for(let e=0;e<256;e++)He[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;He[254]=He[254]=1;var Ue=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},qe=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const i=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){i[o++]=t;continue}let a=He[t];if(a>4)i[o++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?i[o++]=65533:t<65536?i[o++]=t:(t-=65536,i[o++]=55296|t>>10&1023,i[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&We)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,o)},Ve=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+He[e[n]]>t?n:t},Ke=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ze=Object.prototype.toString,{Z_NO_FLUSH:Ge,Z_SYNC_FLUSH:Xe,Z_FULL_FLUSH:Ye,Z_FINISH:Qe,Z_OK:Je,Z_STREAM_END:et,Z_DEFAULT_COMPRESSION:tt,Z_DEFAULT_STRATEGY:nt,Z_DEFLATED:rt}=j;function ot(e){this.options=je({level:tt,method:rt,chunkSize:16384,windowBits:15,memLevel:8,strategy:nt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=ze(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Je)throw new Error($[n]);if(t.header&&Oe(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ue(t.dictionary):"[object ArrayBuffer]"===Ze.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Be(this.strm,e),n!==Je)throw new Error($[n]);this._dict_set=!0}}function it(e,t){const n=new ot(t);if(n.push(e,!0),n.err)throw n.msg||$[n.err];return n.result}ot.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Qe:Ge,"string"==typeof e?n.input=Ue(e):"[object ArrayBuffer]"===Ze.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Xe||i===Ye)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=Fe(n,i),o===et)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Ie(this.strm),this.onEnd(o),this.ended=!0,o===Je;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ot.prototype.onData=function(e){this.chunks.push(e)},ot.prototype.onEnd=function(e){e===Je&&(this.result=Ne(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var at={Deflate:ot,deflate:it,deflateRaw:function(e,t){return(t=t||{}).raw=!0,it(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,it(e,t)},constants:j},st=function(e,t){let n,r,o,i,a,s,l,c,f,u,d,h,p,m,g,_,v,b,y,w,x,C,k,S;const E=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),o=e.next_out,S=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),s=E.dmax,l=E.wsize,c=E.whave,f=E.wnext,u=E.window,d=E.hold,h=E.bits,p=E.lencode,m=E.distcode,g=(1<<E.lenbits)-1,_=(1<<E.distbits)-1;e:do{h<15&&(d+=k[n++]<<h,h+=8,d+=k[n++]<<h,h+=8),v=p[d&g];t:for(;;){if(b=v>>>24,d>>>=b,h-=b,b=v>>>16&255,0===b)S[o++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=p[(65535&v)+(d&(1<<b)-1)];continue t}if(32&b){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}y=65535&v,b&=15,b&&(h<b&&(d+=k[n++]<<h,h+=8),y+=d&(1<<b)-1,d>>>=b,h-=b),h<15&&(d+=k[n++]<<h,h+=8,d+=k[n++]<<h,h+=8),v=m[d&_];n:for(;;){if(b=v>>>24,d>>>=b,h-=b,b=v>>>16&255,!(16&b)){if(0==(64&b)){v=m[(65535&v)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",E.mode=30;break e}if(w=65535&v,b&=15,h<b&&(d+=k[n++]<<h,h+=8,h<b&&(d+=k[n++]<<h,h+=8)),w+=d&(1<<b)-1,w>s){e.msg="invalid distance too far back",E.mode=30;break e}if(d>>>=b,h-=b,b=o-i,w>b){if(b=w-b,b>c&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(x=0,C=u,0===f){if(x+=l-b,b<y){y-=b;do{S[o++]=u[x++]}while(--b);x=o-w,C=S}}else if(f<b){if(x+=l+f-b,b-=f,b<y){y-=b;do{S[o++]=u[x++]}while(--b);if(x=0,f<y){b=f,y-=b;do{S[o++]=u[x++]}while(--b);x=o-w,C=S}}}else if(x+=f-b,b<y){y-=b;do{S[o++]=u[x++]}while(--b);x=o-w,C=S}for(;y>2;)S[o++]=C[x++],S[o++]=C[x++],S[o++]=C[x++],y-=3;y&&(S[o++]=C[x++],y>1&&(S[o++]=C[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],y-=3}while(y>2);y&&(S[o++]=S[x++],y>1&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<a);y=h>>3,n-=y,h-=y<<3,d&=(1<<h)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<a?a-o+257:257-(o-a),E.hold=d,E.bits=h};const lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ct=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ft=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ut=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var dt=(e,t,n,r,o,i,a,s)=>{const l=s.bits;let c,f,u,d,h,p,m=0,g=0,_=0,v=0,b=0,y=0,w=0,x=0,C=0,k=0,S=null,E=0;const A=new Uint16Array(16),D=new Uint16Array(16);let M,R,P,T=null,L=0;for(m=0;m<=15;m++)A[m]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(b=l,v=15;v>=1&&0===A[v];v--);if(b>v&&(b=v),0===v)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(_=1;_<v&&0===A[_];_++);for(b<_&&(b=_),x=1,m=1;m<=15;m++)if(x<<=1,x-=A[m],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(D[1]=0,m=1;m<15;m++)D[m+1]=D[m]+A[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[D[t[n+g]]++]=g);if(0===e?(S=T=a,p=19):1===e?(S=lt,E-=257,T=ct,L-=257,p=256):(S=ft,T=ut,p=-1),k=0,g=0,m=_,h=i,y=b,w=0,u=-1,C=1<<b,d=C-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){M=m-w,a[g]<p?(R=0,P=a[g]):a[g]>p?(R=T[L+a[g]],P=S[E+a[g]]):(R=96,P=0),c=1<<m-w,f=1<<y,_=f;do{f-=c,o[h+(k>>w)+f]=M<<24|R<<16|P|0}while(0!==f);for(c=1<<m-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0==--A[m]){if(m===v)break;m=t[n+a[g]]}if(m>b&&(k&d)!==u){for(0===w&&(w=b),h+=_,y=m-w,x=1<<y;y+w<v&&(x-=A[y+w],!(x<=0));)y++,x<<=1;if(C+=1<<y,1===e&&C>852||2===e&&C>592)return 1;u=k&d,o[u]=b<<24|y<<16|h-i|0}}return 0!==k&&(o[h+k]=m-w<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:ht,Z_BLOCK:pt,Z_TREES:mt,Z_OK:gt,Z_STREAM_END:_t,Z_NEED_DICT:vt,Z_STREAM_ERROR:bt,Z_DATA_ERROR:yt,Z_MEM_ERROR:wt,Z_BUF_ERROR:xt,Z_DEFLATED:Ct}=j,kt=12,St=30,Et=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Dt=e=>{if(!e||!e.state)return bt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,gt},Mt=e=>{if(!e||!e.state)return bt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Dt(e)},Rt=(e,t)=>{let n;if(!e||!e.state)return bt;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?bt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Mt(e))},Pt=(e,t)=>{if(!e)return bt;const n=new At;e.state=n,n.window=null;const r=Rt(e,t);return r!==gt&&(e.state=null),r};let Tt,Lt,zt=!0;const Ot=e=>{if(zt){Tt=new Int32Array(512),Lt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(dt(1,e.lens,0,288,Tt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;dt(2,e.lens,0,32,Lt,0,e.work,{bits:5}),zt=!1}e.lencode=Tt,e.lenbits=9,e.distcode=Lt,e.distbits=5},Ft=(e,t,n,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var It=Mt,Bt=Pt,$t=(e,t)=>{let n,r,o,i,a,s,l,c,f,u,d,h,p,m,g,_,v,b,y,w,x,C,k=0;const S=new Uint8Array(4);let E,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return bt;n=e.state,n.mode===kt&&(n.mode=13),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,f=n.bits,u=s,d=l,C=gt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;f<16;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(2&n.wrap&&35615===c){n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=B(n.check,S,2,0),c=0,f=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=St;break}if((15&c)!==Ct){e.msg="unknown compression method",n.mode=St;break}if(c>>>=4,f-=4,x=8+(15&c),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=St;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:kt,c=0,f=0;break;case 2:for(;f<16;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(n.flags=c,(255&n.flags)!==Ct){e.msg="unknown compression method",n.mode=St;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=St;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=B(n.check,S,2,0)),c=0,f=0,n.mode=3;case 3:for(;f<32;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.head&&(n.head.time=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=B(n.check,S,4,0)),c=0,f=0,n.mode=4;case 4:for(;f<16;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=B(n.check,S,2,0)),c=0,f=0,n.mode=5;case 5:if(1024&n.flags){for(;f<16;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=B(n.check,S,2,0)),c=0,f=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),x)),512&n.flags&&(n.check=B(n.check,r,h,i)),s-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{x=r[i+h++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&(n.check=B(n.check,r,h,i)),s-=h,i+=h,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{x=r[i+h++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&(n.check=B(n.check,r,h,i)),s-=h,i+=h,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;f<16;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=St;break}c=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=kt;break;case 10:for(;f<32;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}e.adler=n.check=Et(c),c=0,f=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=f,vt;e.adler=n.check=1,n.mode=kt;case kt:if(t===pt||t===mt)break e;case 13:if(n.last){c>>>=7&f,f-=7&f,n.mode=27;break}for(;f<3;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}switch(n.last=1&c,c>>>=1,f-=1,3&c){case 0:n.mode=14;break;case 1:if(Ot(n),n.mode=20,t===mt){c>>>=2,f-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=St}c>>>=2,f-=2;break;case 14:for(c>>>=7&f,f-=7&f;f<32;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=St;break}if(n.length=65535&c,c=0,f=0,n.mode=15,t===mt)break e;case 15:n.mode=16;case 16:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;o.set(r.subarray(i,i+h),a),s-=h,i+=h,l-=h,a+=h,n.length-=h;break}n.mode=kt;break;case 17:for(;f<14;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(n.nlen=257+(31&c),c>>>=5,f-=5,n.ndist=1+(31&c),c>>>=5,f-=5,n.ncode=4+(15&c),c>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=St;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;f<3;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.lens[D[n.have++]]=7&c,c>>>=3,f-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},C=dt(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,C){e.msg="invalid code lengths set",n.mode=St;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,_=k>>>16&255,v=65535&k,!(g<=f);){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(v<16)c>>>=g,f-=g,n.lens[n.have++]=v;else{if(16===v){for(A=g+2;f<A;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(c>>>=g,f-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=St;break}x=n.lens[n.have-1],h=3+(3&c),c>>>=2,f-=2}else if(17===v){for(A=g+3;f<A;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}c>>>=g,f-=g,x=0,h=3+(7&c),c>>>=3,f-=3}else{for(A=g+7;f<A;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}c>>>=g,f-=g,x=0,h=11+(127&c),c>>>=7,f-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=St;break}for(;h--;)n.lens[n.have++]=x}}if(n.mode===St)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=St;break}if(n.lenbits=9,E={bits:n.lenbits},C=dt(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,C){e.msg="invalid literal/lengths set",n.mode=St;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},C=dt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,C){e.msg="invalid distances set",n.mode=St;break}if(n.mode=20,t===mt)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=f,st(e,d),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,f=n.bits,n.mode===kt&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,_=k>>>16&255,v=65535&k,!(g<=f);){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(_&&0==(240&_)){for(b=g,y=_,w=v;k=n.lencode[w+((c&(1<<b+y)-1)>>b)],g=k>>>24,_=k>>>16&255,v=65535&k,!(b+g<=f);){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}c>>>=b,f-=b,n.back+=b}if(c>>>=g,f-=g,n.back+=g,n.length=v,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=kt;break}if(64&_){e.msg="invalid literal/length code",n.mode=St;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(A=n.extra;f<A;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,_=k>>>16&255,v=65535&k,!(g<=f);){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(0==(240&_)){for(b=g,y=_,w=v;k=n.distcode[w+((c&(1<<b+y)-1)>>b)],g=k>>>24,_=k>>>16&255,v=65535&k,!(b+g<=f);){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}c>>>=b,f-=b,n.back+=b}if(c>>>=g,f-=g,n.back+=g,64&_){e.msg="invalid distance code",n.mode=St;break}n.offset=v,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(A=n.extra;f<A;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=St;break}n.mode=25;case 25:if(0===l)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=St;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=o,p=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{o[a++]=m[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;f<32;){if(0===s)break e;s--,c|=r[i++]<<f,f+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?B(n.check,o,d,a-d):F(n.check,o,d,a-d)),d=l,(n.flags?c:Et(c))!==n.check){e.msg="incorrect data check",n.mode=St;break}c=0,f=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;f<32;){if(0===s)break e;s--,c+=r[i++]<<f,f+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=St;break}c=0,f=0}n.mode=29;case 29:C=_t;break e;case St:C=yt;break e;case 31:return wt;case 32:default:return bt}return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=f,(n.wsize||d!==e.avail_out&&n.mode<St&&(n.mode<27||t!==ht))&&Ft(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?B(n.check,o,d,e.next_out-d):F(n.check,o,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===kt?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===d||t===ht)&&C===gt&&(C=xt),C},jt=e=>{if(!e||!e.state)return bt;let t=e.state;return t.window&&(t.window=null),e.state=null,gt},Nt=(e,t)=>{if(!e||!e.state)return bt;const n=e.state;return 0==(2&n.wrap)?bt:(n.head=t,t.done=!1,gt)},Wt=(e,t)=>{const n=t.length;let r,o,i;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?bt:11===r.mode&&(o=1,o=F(o,t,n,0),o!==r.check)?yt:(i=Ft(e,t,n,n),i?(r.mode=31,wt):(r.havedict=1,gt))):bt},Ht=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ut=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:Vt,Z_OK:Kt,Z_STREAM_END:Zt,Z_NEED_DICT:Gt,Z_STREAM_ERROR:Xt,Z_DATA_ERROR:Yt,Z_MEM_ERROR:Qt}=j;function Jt(e){this.options=je({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=Bt(this.strm,t.windowBits);if(n!==Kt)throw new Error($[n]);if(this.header=new Ht,Nt(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ue(t.dictionary):"[object ArrayBuffer]"===Ut.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Wt(this.strm,t.dictionary),n!==Kt)))throw new Error($[n])}function en(e,t){const n=new Jt(t);if(n.push(e),n.err)throw n.msg||$[n.err];return n.result}Jt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Vt:qt,"[object ArrayBuffer]"===Ut.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=$t(n,a),i===Gt&&o&&(i=Wt(n,o),i===Kt?i=$t(n,a):i===Yt&&(i=Gt));n.avail_in>0&&i===Zt&&n.state.wrap>0&&0!==e[n.next_in];)It(n),i=$t(n,a);switch(i){case Xt:case Yt:case Gt:case Qt:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===Zt))if("string"===this.options.to){let e=Ve(n.output,n.next_out),t=n.next_out-e,o=qe(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==Kt||0!==s){if(i===Zt)return i=jt(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Jt.prototype.onData=function(e){this.chunks.push(e)},Jt.prototype.onEnd=function(e){e===Kt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ne(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var tn={Inflate:Jt,inflate:en,inflateRaw:function(e,t){return(t=t||{}).raw=!0,en(e,t)},ungzip:en,constants:j};const{Deflate:nn,deflate:rn,deflateRaw:on,gzip:an}=at,{Inflate:sn,inflate:ln,inflateRaw:cn,ungzip:fn}=tn;var un=ln,dn={Deflate:nn,deflate:rn,deflateRaw:on,gzip:an,Inflate:sn,inflate:ln,inflateRaw:cn,ungzip:fn,constants:j}},1550:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||r(t)}function i(e){return e?": "+e:""}function a(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function s(e,t,n){t.indexOf(e)<0&&r("invalid value"+i(n)+". must be one of: "+t)}var l=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(e,t){for(e+="";e.length<t;)e=" "+e;return e}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function u(e,t){this.number=e,this.line=t,this.errors=[]}function d(e,t,n){this.file=e,this.line=t,this.message=n}function h(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function m(e,t){var n,r=e.split("\n"),o=1,i=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=t||h(),a.unknown.lines.push(new u(0,""));for(var s=0;s<r.length;++s){var l=r[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(l);if(c)switch(c[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(c[2]);d&&(o=0|d[1],d[2]&&((i=0|d[2])in a||(a[i]=new f)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);p&&(a[i].name=p[1]?(n=p[2],"undefined"!=typeof atob?atob(n):"base64:"+n):p[2])}a[i].lines.push(new u(o++,l))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function g(e){e._commandRef=h()}function _(e,t){var n=p();r(e+" in command "+(t||h())+("unknown"===n?"":" called from "+n))}function v(e,t,n,r){a(e,t)||_("invalid parameter type"+i(n)+". expected "+t+", got "+typeof e,r||h())}var b=33071,y={};function w(e,t){return 32820===e||32819===e||33635===e?2:34042===e?4:y[e]*t}function x(e){return!(e&e-1||!e)}y[5120]=y[5121]=1,y[5122]=y[5123]=y[36193]=y[33635]=y[32819]=y[32820]=2,y[5124]=y[5125]=y[5126]=y[34042]=4;var C=t(o,{optional:function(e){e()},raise:r,commandRaise:_,command:function(e,t,n){e||_(t,n||h())},parameter:function(e,t,n){e in t||r("unknown parameter ("+e+")"+i(n)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,n,r){e in t||_("unknown parameter ("+e+")"+i(n)+". possible values: "+Object.keys(t).join(),r||h())},constructor:function(e){Object.keys(e).forEach((function(e){l.indexOf(e)<0&&r('invalid regl constructor argument "'+e+'". must be one of '+l)}))},type:function(e,t,n){a(e,t)||r("invalid parameter type"+i(n)+". expected "+t+", got "+typeof e)},commandType:v,isTypedArray:function(t,n){e(t)||r("invalid parameter type"+i(n)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||r("invalid parameter type, ("+e+")"+i(t)+". must be a nonnegative integer")},oneOf:s,shaderError:function(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),l=i===e.FRAGMENT_SHADER?"fragment":"vertex";v(r,"string",l+" shader source must be a string",a);var f=m(r,a),u=function(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new d(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new d("unknown",0,e))}})),t}(s);(function(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))})(f,u),Object.keys(f).forEach((function(e){var t=f[e];if(t.hasErrors){var r=[""],o=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){i(c(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var o=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(o);if(a){var s=a[1];switch(o=a[2],s){case"assign":s="="}t=Math.max(e.line.indexOf(s,t),0)}else t=0;i(c("| ",6)),i(c("^^^",t+3)+n,"font-weight:bold"),i(c("| ",6)),i(o+n,"font-weight:bold")})),i(c("| ",6)+n)}else i(c(e.number,4)+"|  "),i(e.line+n,"color:red")})),"undefined"==typeof document||window.chrome?console.log(r.join("")):(o[0]=r.join("%c"),console.log.apply(console,o))}function i(e,t){r.push(e),o.push(t||"")}})),o.raise("Error compiling "+l+" shader, "+f[0].name)}},linkError:function(e,t,r,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),l=m(r,a),c='Error linking program with vertex shader, "'+m(i,a)[0].name+'", and fragment shader "'+l[0].name+'"';"undefined"!=typeof document?console.log("%c"+c+"\n%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+n+s),o.raise(c)}},callSite:p,saveCommandRef:g,saveDrawInfo:function(e,t,n,r){function o(e){return e?r.id(e):0}function i(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}g(e),e._fragId=o(e.static.frag),e._vertId=o(e.static.vert);var a=e._uniformSet={};i(a,t.static),i(a,t.dynamic);var s=e._attributeSet={};i(s,n.static),i(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,n){e.texture?s(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):s(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:h,texture2D:function(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===b&&e.wrapT===b||o(x(i)&&x(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(9984!==e.minFilter&&9986!==e.minFilter&&9985!==e.minFilter&&9987!==e.minFilter,"min filter requires mipmap"):(o(x(i)&&x(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),5126===t.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(9728===e.minFilter&&9728===e.magFilter,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var l=t.images;for(r=0;r<16;++r)if(l[r]){var c=i>>r,f=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var u=l[r];if(o(u.width===c&&u.height===f,"invalid shape for mip images"),o(u.format===t.format&&u.internalformat===t.internalformat&&u.type===t.type,"incompatible type for mip image"),u.compressed);else if(u.data){var d=Math.ceil(w(u.type,s)*c/u.unpackAlignment)*u.unpackAlignment;o(u.data.byteLength===d*f,"invalid data for image, buffer size is inconsistent with image format")}else u.element||u.copy}else e.genMipmaps||o(0==(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===b&&t.wrapT===b,"wrap mode not supported by cube map");for(var l=0;l<n.length;++l){var c=n[l];o(c.width===i&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!c.compressed,"can not generate mipmap for compressed textures"),o(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var f=c.images,u=0;u<16;++u){var d=f[u];if(d){var h=i>>u,p=a>>u;o(c.mipmask&1<<u,"missing mipmap data"),o(d.width===h&&d.height===p,"invalid shape for mip images"),o(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?o(d.data.byteLength===h*p*Math.max(w(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),k=0;function S(e,t){this.id=k++,this.type=e,this.data=t}function E(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function A(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+E(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return A(e.substr(0,r.index)).concat(A(r[1])).concat(A(e.substr(r.index+r[0].length)));var o=e.split(".");if(1===o.length)return['"'+E(e)+'"'];for(var i=[],a=0;a<o.length;++a)i=i.concat(A(o[a]));return i}function D(e){return"["+A(e).join("][")+"]"}var M={DynamicVariable:S,define:function(e,t){return new S(e,D(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof S},unbox:function e(t,n){return"function"==typeof t?new S(0,t):"number"==typeof t||"boolean"==typeof t?new S(5,t):Array.isArray(t)?new S(6,t.map((function(t,r){return e(t,n+"["+r+"]")}))):t instanceof S?t:void C(!1,"invalid option type in uniform "+n)},accessor:D},R={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},P="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function T(e){return"string"==typeof e?e.split():(C(Array.isArray(e),"invalid extension array"),e)}function L(e){return"string"==typeof e?(C("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function z(e){var n,r,o,i,a,s=e||{},l={},c=[],f=[],u="undefined"==typeof window?1:window.devicePixelRatio,d=!1,h=function(e){e&&C.raise(e)},p=function(){};if("string"==typeof s?(C("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),C(n,"invalid query string for element")):"object"==typeof s?"string"==typeof(a=s).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?n=s:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(s)?o=(i=s).canvas:(C.constructor(s),"gl"in s?i=s.gl:"canvas"in s?o=L(s.canvas):"container"in s&&(r=L(s.container)),"attributes"in s&&(l=s.attributes,C.type(l,"object","invalid context attributes")),"extensions"in s&&(c=T(s.extensions)),"optionalExtensions"in s&&(f=T(s.optionalExtensions)),"onDone"in s&&(C.type(s.onDone,"function","invalid or missing onDone callback"),h=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(u=+s.pixelRatio,C(u>0,"invalid pixel ratio"))):C.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?o=n:r=n),!i){if(!o){C("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(e,n,r){var o,i=document.createElement("canvas");function a(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var o=i.getBoundingClientRect();t=o.right-o.left,n=o.bottom-o.top}i.width=r*t,i.height=r*n}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(o=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:i,onDestroy:function(){o?o.disconnect():window.removeEventListener("resize",a),e.removeChild(i)}}}(r||document.body,0,u);if(!m)return null;o=m.canvas,p=m.onDestroy}void 0===l.premultipliedAlpha&&(l.premultipliedAlpha=!0),i=function(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,l)}return i?{gl:i,canvas:o,container:r,extensions:c,optionalExtensions:f,pixelRatio:u,profile:d,onDone:h,onDestroy:p}:(p(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function O(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function F(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function I(){var e=O(8,(function(){return[]}));function t(t){var n=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),r=e[F(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[F(t.byteLength)>>2].push(t)}return{alloc:t,free:n,allocType:function(e,n){var r=null;switch(e){case 5120:r=new Int8Array(t(n),0,n);break;case 5121:r=new Uint8Array(t(n),0,n);break;case 5122:r=new Int16Array(t(2*n),0,n);break;case 5123:r=new Uint16Array(t(2*n),0,n);break;case 5124:r=new Int32Array(t(4*n),0,n);break;case 5125:r=new Uint32Array(t(4*n),0,n);break;case 5126:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){n(e.buffer)}}}var B=I();B.zero=I();var $=3553,j=6408,N=5126,W=36160;function H(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var U=function(e){return Object.keys(e).map((function(t){return e[t]}))},q={shape:function(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t},flatten:function(e,t,n,r){var o=1;if(t.length)for(var i=0;i<t.length;++i)o*=t[i];else o=0;var a=r||B.allocType(n,o);switch(t.length){case 0:break;case 1:!function(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}(e,t[0],a);break;case 2:!function(e,t,n,r){for(var o=0,i=0;i<t;++i)for(var a=e[i],s=0;s<n;++s)r[o++]=a[s]}(e,t[0],t[1],a);break;case 3:V(e,t[0],t[1],t[2],a,0);break;default:K(e,t,0,a,0)}return a}};function V(e,t,n,r,o,i){for(var a=i,s=0;s<t;++s)for(var l=e[s],c=0;c<n;++c)for(var f=l[c],u=0;u<r;++u)o[a++]=f[u]}function K(e,t,n,r,o){for(var i=1,a=n+1;a<t.length;++a)i*=t[a];var s=t[n];if(t.length-n==4){var l=t[n+1],c=t[n+2],f=t[n+3];for(a=0;a<s;++a)V(e[a],l,c,f,r,o),o+=i}else for(a=0;a<s;++a)K(e[a],t,n+1,r,o),o+=i}var Z={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},G={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},X={dynamic:35048,stream:35040,static:35044},Y=q.flatten,Q=q.shape,J=5121,ee=5126,te=[];function ne(e){return 0|Z[Object.prototype.toString.call(e)]}function re(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function oe(e,t,n,r,o,i,a){for(var s=0,l=0;l<n;++l)for(var c=0;c<r;++c)e[s++]=t[o*l+i*c+a]}te[5120]=1,te[5122]=2,te[5124]=4,te[5121]=1,te[5123]=2,te[5125]=4,te[5126]=4;var ie={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ae=5121,se=5123,le=5125,ce=34963;var fe=new Float32Array(1),ue=new Uint32Array(fe.buffer);function de(e){for(var t=B.allocType(5123,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{fe[0]=e[n];var r=ue[0],o=r>>>31<<15,i=(r<<1>>>24)-127,a=r>>13&1023;if(i<-24)t[n]=o;else if(i<-14){var s=-14-i;t[n]=o+(a+1024>>s)}else t[n]=i>15?o+31744:o+(i+15<<10)+a}return t}function he(t){return Array.isArray(t)||e(t)}var pe=function(e){return!(e&e-1||!e)},me=3553,ge=34067,_e=34069,ve=6408,be=6406,ye=6407,we=6409,xe=6410,Ce=32855,ke=6402,Se=34041,Ee=35904,Ae=35906,De=36193,Me=33776,Re=33777,Pe=33778,Te=33779,Le=5121,ze=5123,Oe=5125,Fe=5126,Ie=33071,Be=9728,$e=9984,je=9987,Ne=4352,We=33984,He=[$e,9986,9985,je],Ue=[0,we,xe,ye,ve],qe={};function Ve(e){return"[object "+e+"]"}qe[6409]=qe[6406]=qe[6402]=1,qe[34041]=qe[6410]=2,qe[6407]=qe[35904]=3,qe[6408]=qe[35906]=4;var Ke=Ve("HTMLCanvasElement"),Ze=Ve("OffscreenCanvas"),Ge=Ve("CanvasRenderingContext2D"),Xe=Ve("ImageBitmap"),Ye=Ve("HTMLImageElement"),Qe=Ve("HTMLVideoElement"),Je=Object.keys(Z).concat([Ke,Ze,Ge,Xe,Ye,Qe]),et=[];et[5121]=1,et[5126]=4,et[36193]=2,et[5123]=2,et[5125]=4;var tt=[];function nt(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function rt(e){return!!Array.isArray(e)&&!(0===e.length||!he(e[0]))}function ot(e){return Object.prototype.toString.call(e)}function it(e){return ot(e)===Ke}function at(e){return ot(e)===Ze}function st(e){if(!e)return!1;var t=ot(e);return Je.indexOf(t)>=0||nt(e)||rt(e)||H(e)}function lt(e){return 0|Z[Object.prototype.toString.call(e)]}function ct(e,t){return B.allocType(e.type===De?Fe:e.type,t)}function ft(e,t){e.type===De?(e.data=de(t),B.freeType(t)):e.data=t}function ut(e,t,n,r,o,i){var a;if(a=void 0!==tt[e]?tt[e]:qe[e]*et[t],i&&(a*=6),o){for(var s=0,l=n;l>=1;)s+=a*l*l,l/=2;return s}return a*n*r}function dt(n,r,o,i,a,s,l){var c={"don't care":Ne,"dont care":Ne,nice:4354,fast:4353},f={repeat:10497,clamp:Ie,mirror:33648},u={nearest:Be,linear:9729},d=t({mipmap:je,"nearest mipmap nearest":$e,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":je},u),h={none:0,browser:37444},p={uint8:Le,rgba4:32819,rgb565:33635,"rgb5 a1":32820},m={alpha:be,luminance:we,"luminance alpha":xe,rgb:ye,rgba:ve,rgba4:32854,"rgb5 a1":Ce,rgb565:36194},g={};r.ext_srgb&&(m.srgb=Ee,m.srgba=Ae),r.oes_texture_float&&(p.float32=p.float=Fe),r.oes_texture_half_float&&(p.float16=p["half float"]=De),r.webgl_depth_texture&&(t(m,{depth:ke,"depth stencil":Se}),t(p,{uint16:ze,uint32:Oe,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&t(g,{"rgb s3tc dxt1":Me,"rgba s3tc dxt1":Re,"rgba s3tc dxt3":Pe,"rgba s3tc dxt5":Te}),r.webgl_compressed_texture_atc&&t(g,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&t(g,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=36196);var _=Array.prototype.slice.call(n.getParameter(34467));Object.keys(g).forEach((function(e){var t=g[e];_.indexOf(t)>=0&&(m[e]=t)}));var v=Object.keys(m);o.textureFormats=v;var b=[];Object.keys(m).forEach((function(e){var t=m[e];b[t]=e}));var y=[];Object.keys(p).forEach((function(e){var t=p[e];y[t]=e}));var w=[];Object.keys(u).forEach((function(e){w[u[e]]=e}));var x=[];Object.keys(d).forEach((function(e){var t=d[e];x[t]=e}));var k=[];Object.keys(f).forEach((function(e){k[f[e]]=e}));var S=v.reduce((function(e,t){var n=m[t];return n===we||n===be||n===we||n===xe||n===ke||n===Se||r.ext_srgb&&(n===Ee||n===Ae)?e[n]=n:n===Ce||t.indexOf("rgba")>=0?e[n]=ve:e[n]=ye,e}),{});function E(){this.internalformat=ve,this.format=ve,this.type=Le,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function A(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function D(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(C.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(C.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(C.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(C.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;C(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),C(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),C(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(n,p,"invalid texture type"),e.type=p[n]}var i=e.width,a=e.height,s=e.channels,l=!1;"shape"in t?(C(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],C(s>0&&s<=4,"invalid number of channels"),l=!0),C(i>=0&&i<=o.maxTextureSize,"invalid width"),C(a>=0&&a<=o.maxTextureSize,"invalid height")):("radius"in t&&(i=a=t.radius,C(i>=0&&i<=o.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,C(i>=0&&i<=o.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,C(a>=0&&a<=o.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,C(s>0&&s<=4,"invalid number of channels"),l=!0)),e.width=0|i,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var f=t.format;C(r.webgl_depth_texture||!("depth"===f||"depth stencil"===f),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),C.parameter(f,m,"invalid texture format");var u=e.internalformat=m[f];e.format=S[u],f in p&&("type"in t||(e.type=p[f])),f in g&&(e.compressed=!0),c=!0}!l&&c?e.channels=qe[e.format]:l&&!c?e.channels!==Ue[e.format]&&(e.format=e.internalformat=Ue[e.channels]):c&&l&&C(e.channels===qe[e.format],"number of channels inconsistent with specified format")}}function M(e){n.pixelStorei(37440,e.flipY),n.pixelStorei(37441,e.premultiplyAlpha),n.pixelStorei(37443,e.colorSpace),n.pixelStorei(3317,e.unpackAlignment)}function R(){E.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function P(t,n){var r=null;if(st(n)?r=n:n&&(C.type(n,"object","invalid pixel data type"),D(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),st(n.data)&&(r=n.data)),C(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){C(!r,"can not specify copy and data field for the same texture");var i=a.viewportWidth,s=a.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,C(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=i&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Le||(t.type=lt(r));else if(nt(r))t.channels=t.channels||4,function(e,t){var n=t.length;switch(e.type){case Le:case ze:case Oe:case Fe:var r=B.allocType(e.type,n);r.set(t),e.data=r;break;case De:e.data=de(t);break;default:C.raise("unsupported texture type, must specify a typed array")}}(t,r),t.alignment=1,t.needsFree=!0;else if(H(r)){var l=r.data;Array.isArray(l)||t.type!==Le||(t.type=lt(l));var c,f,u,d,h,p,m=r.shape,g=r.stride;3===m.length?(u=m[2],p=g[2]):(C(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),u=1,p=1),c=m[0],f=m[1],d=g[0],h=g[1],t.alignment=1,t.width=c,t.height=f,t.channels=u,t.format=t.internalformat=Ue[u],t.needsFree=!0,function(e,t,n,r,o,i){for(var a=e.width,s=e.height,l=e.channels,c=ct(e,a*s*l),f=0,u=0;u<s;++u)for(var d=0;d<a;++d)for(var h=0;h<l;++h)c[f++]=t[n*d+r*u+o*h+i];ft(e,c)}(t,l,d,h,p,r.offset)}else if(it(r)||at(r)||ot(r)===Ge)it(r)||at(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return ot(e)===Xe}(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(function(e){return ot(e)===Ye}(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(function(e){return ot(e)===Qe}(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(rt(r)){var _=t.width||r[0].length,v=t.height||r.length,b=t.channels;b=he(r[0][0])?b||r[0][0].length:b||1;for(var y=q.shape(r),w=1,x=0;x<y.length;++x)w*=y[x];var k=ct(t,w);q.flatten(r,y,"",k),ft(t,k),t.alignment=1,t.width=_,t.height=v,t.channels=b,t.format=t.internalformat=Ue[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Fe?C(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===De&&C(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function T(e,t,r){var o=e.element,a=e.data,s=e.internalformat,l=e.format,c=e.type,f=e.width,u=e.height;M(e),o?n.texImage2D(t,r,l,l,c,o):e.compressed?n.compressedTexImage2D(t,r,s,f,u,0,a):e.needsCopy?(i(),n.copyTexImage2D(t,r,l,e.xOffset,e.yOffset,f,u,0)):n.texImage2D(t,r,l,f,u,0,l,c,a||null)}function L(e,t,r,o,a){var s=e.element,l=e.data,c=e.internalformat,f=e.format,u=e.type,d=e.width,h=e.height;M(e),s?n.texSubImage2D(t,a,r,o,f,u,s):e.compressed?n.compressedTexSubImage2D(t,a,r,o,c,d,h,l):e.needsCopy?(i(),n.copyTexSubImage2D(t,a,r,o,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,o,d,h,f,u,l)}var z=[];function O(){return z.pop()||new R}function F(e){e.needsFree&&B.freeType(e.data),R.call(e),z.push(e)}function I(){E.call(this),this.genMipmaps=!1,this.mipmapHint=Ne,this.mipmask=0,this.images=Array(16)}function $(e,t,n){var r=e.images[0]=O();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function j(e,t){var n=null;if(st(t))A(n=e.images[0]=O(),e),P(n,t),e.mipmask=1;else if(D(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,o=0;o<r.length;++o)A(n=e.images[o]=O(),e),n.width>>=o,n.height>>=o,P(n,r[o]),e.mipmask|=1<<o;else A(n=e.images[0]=O(),e),P(n,t),e.mipmask=1;A(e,e.images[0]),!e.compressed||e.internalformat!==Me&&e.internalformat!==Re&&e.internalformat!==Pe&&e.internalformat!==Te||C(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function N(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;T(n[r],t,r)}}var W=[];function V(){var e=W.pop()||new I;E.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function K(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&F(t[n]),t[n]=null;W.push(e)}function Z(){this.minFilter=Be,this.magFilter=Be,this.wrapS=Ie,this.wrapT=Ie,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ne}function G(e,t){if("min"in t){var n=t.min;C.parameter(n,d),e.minFilter=d[n],He.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;C.parameter(r,u),e.magFilter=u[r]}var i=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"==typeof s?(C.parameter(s,f),i=a=f[s]):Array.isArray(s)&&(C.parameter(s[0],f),C.parameter(s[1],f),i=f[s[0]],a=f[s[1]])}else{if("wrapS"in t){var l=t.wrapS;C.parameter(l,f),i=f[l]}if("wrapT"in t){var h=t.wrapT;C.parameter(h,f),a=f[h]}}if(e.wrapS=i,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;C("number"==typeof p&&p>=1&&p<=o.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var m=!1;switch(typeof t.mipmap){case"string":C.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,m=!0;break;case"boolean":m=e.genMipmaps=t.mipmap;break;case"object":C(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,m=!0;break;default:C.raise("invalid mipmap type")}m&&!("min"in t)&&(e.minFilter=$e)}}function X(e,t){n.texParameteri(t,10241,e.minFilter),n.texParameteri(t,10240,e.magFilter),n.texParameteri(t,10242,e.wrapS),n.texParameteri(t,10243,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,34046,e.anisotropic),e.genMipmaps&&(n.hint(33170,e.mipmapHint),n.generateMipmap(t))}var Y=0,Q={},J=o.maxTextureUnits,ee=Array(J).map((function(){return null}));function te(e){E.call(this),this.mipmask=0,this.internalformat=ve,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Z,l.profile&&(this.stats={size:0})}function ne(e){n.activeTexture(We),n.bindTexture(e.target,e.texture)}function re(){var e=ee[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(me,null)}function oe(e){var t=e.texture;C(t,"must not double destroy texture");var r=e.unit,o=e.target;r>=0&&(n.activeTexture(We+r),n.bindTexture(o,null),ee[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete Q[e.id],s.textureCount--}return t(te.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<J;++r){var o=ee[r];if(o){if(o.bindCount>0)continue;o.unit=-1}ee[r]=e,t=r;break}t>=J&&C.raise("insufficient number of texture units"),l.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(We+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&oe(this)}}),l.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(Q).forEach((function(t){e+=Q[t].stats.size})),e}),{create2D:function(e,t){var r=new te(me);function i(e,t){var n=r.texInfo;Z.call(n);var a=V();return"number"==typeof e?$(a,0|e,"number"==typeof t?0|t:0|e):e?(C.type(e,"object","invalid arguments to regl.texture"),G(n,e),j(a,e)):$(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,A(r,a),C.texture2D(n,a,o),r.internalformat=a.internalformat,i.width=a.width,i.height=a.height,ne(r),N(a,me),X(n,me),re(),K(a),l.profile&&(r.stats.size=ut(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),i.format=b[r.internalformat],i.type=y[r.type],i.mag=w[n.magFilter],i.min=x[n.minFilter],i.wrapS=k[n.wrapS],i.wrapT=k[n.wrapT],i}return Q[r.id]=r,s.textureCount++,i(e,t),i.subimage=function(e,t,n,o){C(!!e,"must specify image data");var a=0|t,s=0|n,l=0|o,c=O();return A(c,r),c.width=0,c.height=0,P(c,e),c.width=c.width||(r.width>>l)-a,c.height=c.height||(r.height>>l)-s,C(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),C(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),C(r.mipmask&1<<l,"missing mipmap data"),C(c.data||c.element||c.needsCopy,"missing image data"),ne(r),L(c,me,a,s,l),re(),F(c),i},i.resize=function(e,t){var o=0|e,a=0|t||o;if(o===r.width&&a===r.height)return i;i.width=r.width=o,i.height=r.height=a,ne(r);for(var s=0;r.mipmask>>s;++s){var c=o>>s,f=a>>s;if(!c||!f)break;n.texImage2D(me,s,r.format,c,f,0,r.format,r.type,null)}return re(),l.profile&&(r.stats.size=ut(r.internalformat,r.type,o,a,!1,!1)),i},i._reglType="texture2d",i._texture=r,l.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i},createCube:function(e,t,r,i,a,c){var f=new te(ge);Q[f.id]=f,s.cubeCount++;var u=new Array(6);function d(e,t,n,r,i,a){var s,c=f.texInfo;for(Z.call(c),s=0;s<6;++s)u[s]=V();if("number"!=typeof e&&e)if("object"==typeof e)if(t)j(u[0],e),j(u[1],t),j(u[2],n),j(u[3],r),j(u[4],i),j(u[5],a);else if(G(c,e),D(f,e),"faces"in e){var h=e.faces;for(C(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)C("object"==typeof h[s]&&!!h[s],"invalid input for cube map face"),A(u[s],f),j(u[s],h[s])}else for(s=0;s<6;++s)j(u[s],e);else C.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)$(u[s],p,p)}for(A(f,u[0]),C.optional((function(){o.npotTextureCube||C(pe(f.width)&&pe(f.height),"your browser does not support non power or two texture dimensions")})),c.genMipmaps?f.mipmask=(u[0].width<<1)-1:f.mipmask=u[0].mipmask,C.textureCube(f,c,u,o),f.internalformat=u[0].internalformat,d.width=u[0].width,d.height=u[0].height,ne(f),s=0;s<6;++s)N(u[s],_e+s);for(X(c,ge),re(),l.profile&&(f.stats.size=ut(f.internalformat,f.type,d.width,d.height,c.genMipmaps,!0)),d.format=b[f.internalformat],d.type=y[f.type],d.mag=w[c.magFilter],d.min=x[c.minFilter],d.wrapS=k[c.wrapS],d.wrapT=k[c.wrapT],s=0;s<6;++s)K(u[s]);return d}return d(e,t,r,i,a,c),d.subimage=function(e,t,n,r,o){C(!!t,"must specify image data"),C("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|n,a=0|r,s=0|o,l=O();return A(l,f),l.width=0,l.height=0,P(l,t),l.width=l.width||(f.width>>s)-i,l.height=l.height||(f.height>>s)-a,C(f.type===l.type&&f.format===l.format&&f.internalformat===l.internalformat,"incompatible format for texture.subimage"),C(i>=0&&a>=0&&i+l.width<=f.width&&a+l.height<=f.height,"texture.subimage write out of bounds"),C(f.mipmask&1<<s,"missing mipmap data"),C(l.data||l.element||l.needsCopy,"missing image data"),ne(f),L(l,_e+e,i,a,s),re(),F(l),d},d.resize=function(e){var t=0|e;if(t!==f.width){d.width=f.width=t,d.height=f.height=t,ne(f);for(var r=0;r<6;++r)for(var o=0;f.mipmask>>o;++o)n.texImage2D(_e+r,o,f.format,t>>o,t>>o,0,f.format,f.type,null);return re(),l.profile&&(f.stats.size=ut(f.internalformat,f.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=f,l.profile&&(d.stats=f.stats),d.destroy=function(){f.decRef()},d},clear:function(){for(var e=0;e<J;++e)n.activeTexture(We+e),n.bindTexture(me,null),ee[e]=null;U(Q).forEach(oe),s.cubeCount=0,s.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<J;++e){var t=ee[e];t&&(t.bindCount=0,t.unit=-1,ee[e]=null)}U(Q).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===me)n.texImage2D(me,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(_e+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);X(e.texInfo,e.target)}))},refresh:function(){for(var e=0;e<J;++e){var t=ee[e];t&&(t.bindCount=0,t.unit=-1,ee[e]=null),n.activeTexture(We+e),n.bindTexture(me,null),n.bindTexture(ge,null)}}}}tt[32854]=2,tt[32855]=2,tt[36194]=2,tt[34041]=4,tt[33776]=.5,tt[33777]=.5,tt[33778]=1,tt[33779]=1,tt[35986]=.5,tt[35987]=1,tt[34798]=1,tt[35840]=.5,tt[35841]=.25,tt[35842]=.5,tt[35843]=.25,tt[36196]=.5;var ht=36161,pt=32854,mt=[];function gt(e,t,n){return mt[e]*t*n}mt[32854]=2,mt[32855]=2,mt[36194]=2,mt[33189]=2,mt[36168]=1,mt[34041]=4,mt[35907]=4,mt[34836]=16,mt[34842]=8,mt[34843]=6;var _t=36160,vt=36161,bt=3553,yt=34069,wt=[6407,6408],xt=[];xt[6408]=4,xt[6407]=3;var Ct=[];Ct[5121]=1,Ct[5126]=4,Ct[36193]=2;var kt=[32854,32855,36194,35907,34842,34843,34836],St={};St[36053]="complete",St[36054]="incomplete attachment",St[36057]="incomplete dimensions",St[36055]="incomplete, missing attachment",St[36061]="unsupported";var Et=34963,At=["attributes","elements","offset","count","primitive","instances"];function Dt(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}var Mt=5121,Rt=5126;function Pt(t,n,r,o,i,a,s){function l(l){var c;null===n.next?(C(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Mt):(C(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,C.optional((function(){a.oes_texture_float?(C(c===Mt||c===Rt,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===Rt&&C(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):C(c===Mt,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var f=0,u=0,d=o.framebufferWidth,h=o.framebufferHeight,p=null;e(l)?p=l:l&&(C.type(l,"object","invalid arguments to regl.read()"),f=0|l.x,u=0|l.y,C(f>=0&&f<o.framebufferWidth,"invalid x offset for regl.read"),C(u>=0&&u<o.framebufferHeight,"invalid y offset for regl.read"),d=0|(l.width||o.framebufferWidth-f),h=0|(l.height||o.framebufferHeight-u),p=l.data||null),p&&(c===Mt?C(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===Rt&&C(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),C(d>0&&d+f<=o.framebufferWidth,"invalid width for read pixels"),C(h>0&&h+u<=o.framebufferHeight,"invalid height for read pixels"),r();var m=d*h*4;return p||(c===Mt?p=new Uint8Array(m):c===Rt&&(p=p||new Float32Array(m))),C.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),C(p.byteLength>=m,"data buffer for regl.read() too small"),t.pixelStorei(3333,4),t.readPixels(f,u,d,h,6408,c,p),p}return function(e){return e&&"framebuffer"in e?function(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=l(e)})),t}(e):l(e)}}function Tt(e){return Array.prototype.slice.call(e)}function Lt(e){return Tt(e).join("")}var zt="xyzw".split(""),Ot="dither",Ft="blend.enable",It="blend.color",Bt="blend.equation",$t="blend.func",jt="depth.enable",Nt="depth.func",Wt="depth.range",Ht="depth.mask",Ut="colorMask",qt="cull.enable",Vt="cull.face",Kt="frontFace",Zt="lineWidth",Gt="polygonOffset.enable",Xt="polygonOffset.offset",Yt="sample.alpha",Qt="sample.enable",Jt="sample.coverage",en="stencil.enable",tn="stencil.mask",nn="stencil.func",rn="stencil.opFront",on="stencil.opBack",an="scissor.enable",sn="scissor.box",ln="viewport",cn="profile",fn="framebuffer",un="vert",dn="frag",hn="elements",pn="primitive",mn="count",gn="offset",_n="instances",vn="vao",bn="Width",yn="Height",wn=fn+bn,xn=fn+yn,Cn="drawingBufferWidth",kn="drawingBufferHeight",Sn=[$t,Bt,nn,rn,on,Jt,ln,sn,Xt],En=34962,An=34963,Dn=5126,Mn=35664,Rn=35665,Pn=35666,Tn=5124,Ln=35667,zn=35668,On=35669,Fn=35670,In=35671,Bn=35672,$n=35673,jn=35674,Nn=35675,Wn=35676,Hn=35678,Un=35680,qn=1028,Vn=1029,Kn=2305,Zn=7680,Gn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Xn=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Yn={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Qn={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Jn={frag:35632,vert:35633},er={cw:2304,ccw:Kn};function tr(t){return Array.isArray(t)||e(t)||H(t)}function nr(e){return e.sort((function(e,t){return e===ln?-1:t===ln?1:e<t?-1:1}))}function rr(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function or(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ir(e){return new rr(!1,!1,!1,e)}function ar(e,t){var n=e.type;if(0===n){var r=e.data.length;return new rr(!0,r>=1,r>=2,t)}if(4===n){var o=e.data;return new rr(o.thisDep,o.contextDep,o.propDep,t)}if(5===n)return new rr(!1,!1,!1,t);if(6===n){for(var i=!1,a=!1,s=!1,l=0;l<e.data.length;++l){var c=e.data[l];if(1===c.type)s=!0;else if(2===c.type)a=!0;else if(3===c.type)i=!0;else if(0===c.type){i=!0;var f=c.data;f>=1&&(a=!0),f>=2&&(s=!0)}else 4===c.type&&(i=i||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new rr(i,a,s,t)}return new rr(3===n,2===n,1===n,t)}var sr=new rr(!1,!1,!1,(function(){}));function lr(e,n,r,o,i,a,s,l,c,f,u,d,h,p,m){var g=f.Record,_={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(_.min=32775,_.max=32776);var v=r.angle_instanced_arrays,b=r.webgl_draw_buffers,y=r.oes_vertex_array_object,w={dirty:!0,profile:m.profile},x={},k=[],S={},E={};function A(e){return e.replace(".","_")}function D(e,t,n){var r=A(e);k.push(e),x[r]=w[r]=!!n,S[r]=t}function R(e,t,n){var r=A(e);k.push(e),Array.isArray(n)?(w[r]=n.slice(),x[r]=n.slice()):w[r]=x[r]=n,E[r]=t}D(Ot,3024),D(Ft,3042),R(It,"blendColor",[0,0,0,0]),R(Bt,"blendEquationSeparate",[32774,32774]),R($t,"blendFuncSeparate",[1,0,1,0]),D(jt,2929,!0),R(Nt,"depthFunc",513),R(Wt,"depthRange",[0,1]),R(Ht,"depthMask",!0),R(Ut,Ut,[!0,!0,!0,!0]),D(qt,2884),R(Vt,"cullFace",Vn),R(Kt,Kt,Kn),R(Zt,Zt,1),D(Gt,32823),R(Xt,"polygonOffset",[0,0]),D(Yt,32926),D(Qt,32928),R(Jt,"sampleCoverage",[1,!1]),D(en,2960),R(tn,"stencilMask",-1),R(nn,"stencilFunc",[519,0,-1]),R(rn,"stencilOpSeparate",[qn,Zn,Zn,Zn]),R(on,"stencilOpSeparate",[Vn,Zn,Zn,Zn]),D(an,3089),R(sn,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),R(ln,ln,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var P={gl:e,context:h,strings:n,next:x,current:w,draw:d,elements:a,buffer:i,shader:u,attributes:f.state,vao:f,uniforms:c,framebuffer:l,extensions:r,timer:p,isBufferArgs:tr},T={primTypes:ie,compareFuncs:Yn,blendFuncs:Gn,blendEquations:_,stencilOps:Qn,glTypes:G,orientationType:er};C.optional((function(){P.isArrayLike=he})),b&&(T.backBuffer=[Vn],T.drawBuffer=O(o.maxDrawbuffers,(function(e){return 0===e?[0]:O(e,(function(e){return 36064+e}))})));var L=0;function z(){var e=function(){var e=0,n=[],r=[];function o(){var n=[],r=[];return t((function(){n.push.apply(n,Tt(arguments))}),{def:function(){var t="v"+e++;return r.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Tt(arguments)),n.push(";")),t},toString:function(){return Lt([r.length>0?"var "+r.join(",")+";":"",Lt(n)])}})}function i(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,Tt(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}var a=o(),s={};return{global:a,link:function(t){for(var o=0;o<r.length;++o)if(r[o]===t)return n[o];var i="g"+e++;return n.push(i),r.push(t),i},block:o,proc:function(e,n){var r=[];function o(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var a=0;a<n;++a)o();var l=i(),c=l.toString;return s[e]=t(l,{arg:o,toString:function(){return Lt(["function(",r.join(),"){",c(),"}"])}})},scope:i,cond:function(){var e=Lt(arguments),n=i(),r=i(),o=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,Tt(arguments)),this},else:function(){return r.apply(r,Tt(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),Lt(["if(",e,"){",o(),"}",t])}})},compile:function(){var e=['"use strict";',a,"return {"];Object.keys(s).forEach((function(t){e.push('"',t,'":',s[t].toString(),",")})),e.push("}");var t=Lt(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}}}(),r=e.link,o=e.global;e.id=L++,e.batchId="0";var i=r(P),a=e.shared={props:"a0"};Object.keys(P).forEach((function(e){a[e]=o.def(i,".",e)})),C.optional((function(){e.CHECK=r(C),e.commandStr=C.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},T.invalidBlendCombinations=Xn}));var s=e.next={},l=e.current={};Object.keys(E).forEach((function(e){Array.isArray(w[e])&&(s[e]=o.def(a.next,".",e),l[e]=o.def(a.current,".",e))}));var c=e.constants={};Object.keys(T).forEach((function(e){c[e]=o.def(JSON.stringify(T[e]))})),e.invoke=function(t,n){switch(n.type){case 0:var o=["this",a.context,a.props,e.batchId];return t.def(r(n.data),".call(",o.slice(0,Math.max(n.data.length+1,4)),")");case 1:return t.def(a.props,n.data);case 2:return t.def(a.context,n.data);case 3:return t.def("this",n.data);case 4:return n.data.append(e,t),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(n){return e.invoke(t,n)}))}},e.attribCache={};var u={};return e.scopeAttrib=function(e){var t=n.id(e);if(t in u)return u[t];var o=f.scope[t];return o||(o=f.scope[t]=new g),u[t]=r(o)},e}function F(e,t,s,c,d){var h=e.static,p=e.dynamic;C.optional((function(){var e=[fn,un,dn,hn,pn,gn,mn,_n,cn,vn].concat(k);function t(t){Object.keys(t).forEach((function(t){C.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',d.commandStr)}))}t(h),t(p)}));var m=function(e,t){var n=e.static;if("string"==typeof n[dn]&&"string"==typeof n[un]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,o=Object.keys(r);if(o.length>0&&"number"==typeof r[o[0]]){for(var i=[],a=0;a<o.length;++a)C("number"==typeof r[o[a]],"must specify all vertex attribute locations when using vaos"),i.push([0|r[o[a]],o[a]]);return i}}return null}(e,t),b=function(e,t){var n=e.static,r=e.dynamic;if(fn in n){var o=n[fn];return o?(o=l.getFramebuffer(o),C.command(o,"invalid framebuffer object"),ir((function(e,t){var n=e.link(o),r=e.shared;t.set(r.framebuffer,".next",n);var i=r.context;return t.set(i,"."+wn,n+".width"),t.set(i,"."+xn,n+".height"),n}))):ir((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+wn,r+"."+Cn),t.set(r,"."+xn,r+"."+kn),"null"}))}if(fn in r){var i=r[fn];return ar(i,(function(e,t){var n=e.invoke(t,i),r=e.shared,o=r.framebuffer,a=t.def(o,".getFramebuffer(",n,")");C.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(o,".next",a);var s=r.context;return t.set(s,"."+wn,a+"?"+a+".width:"+s+"."+Cn),t.set(s,"."+xn,a+"?"+a+".height:"+s+"."+kn),a}))}return null}(e),y=function(e,t,n){var r=e.static,o=e.dynamic;function i(e){if(e in r){var i=r[e];C.commandType(i,"object","invalid "+e,n.commandStr);var a,s,l=!0,c=0|i.x,f=0|i.y;return"width"in i?(a=0|i.width,C.command(a>=0,"invalid "+e,n.commandStr)):l=!1,"height"in i?(s=0|i.height,C.command(s>=0,"invalid "+e,n.commandStr)):l=!1,new rr(!l&&t&&t.thisDep,!l&&t&&t.contextDep,!l&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in i||(r=t.def(n,".",wn,"-",c));var o=s;return"height"in i||(o=t.def(n,".",xn,"-",f)),[c,f,r,o]}))}if(e in o){var u=o[e],d=ar(u,(function(t,n){var r=t.invoke(n,u);C.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var o=t.shared.context,i=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",o,".",wn,"-",i,")"),l=n.def('"height" in ',r,"?",r,".height|0:","(",o,".",xn,"-",a,")");return C.optional((function(){t.assert(n,s+">=0&&"+l+">=0","invalid "+e)})),[i,a,s,l]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new rr(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",wn),t.def(n,".",xn)]})):null}var a=i(ln);if(a){var s=a;a=new rr(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,".viewportWidth",n[2]),t.set(r,".viewportHeight",n[3]),n}))}return{viewport:a,scissor_box:i(sn)}}(e,b,d),w=function(e,t){var n=e.static,r=e.dynamic,o={},i=!1,s=function(){if(vn in n){var e=n[vn];return null!==e&&null===f.getVAO(e)&&(e=f.createVAO(e)),i=!0,o.vao=e,ir((function(t){var n=f.getVAO(e);return n?t.link(n):"null"}))}if(vn in r){i=!0;var t=r[vn];return ar(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}(),l=!1,c=function(){if(hn in n){var e=n[hn];if(o.elements=e,tr(e)){var c=o.elements=a.create(e,!0);e=a.getElements(c),l=!0}else e&&(e=a.getElements(e),l=!0,C.command(e,"invalid elements",t.commandStr));var f=ir((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return f.value=e,f}if(hn in r){l=!0;var u=r[hn];return ar(u,(function(e,t){var n=e.shared,r=n.isBufferArgs,o=n.elements,i=e.invoke(t,u),a=t.def("null"),s=t.def(r,"(",i,")"),l=e.cond(s).then(a,"=",o,".createStream(",i,");").else(a,"=",o,".getElements(",i,");");return C.optional((function(){e.assert(l.else,"!"+i+"||"+a,"invalid elements")})),t.entry(l),t.exit(e.cond(s).then(o,".destroyStream(",a,");")),e.ELEMENTS=a,a}))}return i?new rr(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}();function u(e,a){if(e in n){var c=0|n[e];return a?o.offset=c:o.instances=c,C.command(!a||c>=0,"invalid "+e,t.commandStr),ir((function(e,t){return a&&(e.OFFSET=c),c}))}if(e in r){var f=r[e];return ar(f,(function(t,n){var r=t.invoke(n,f);return a&&(t.OFFSET=r,C.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(a){if(l)return ir((function(e,t){return e.OFFSET=0,0}));if(i)return new rr(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(i)return new rr(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var d=u(gn,!0),h=function(){if(pn in n){var e=n[pn];return o.primitive=e,C.commandParameter(e,ie,"invalid primitve",t.commandStr),ir((function(t,n){return ie[e]}))}if(pn in r){var a=r[pn];return ar(a,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,a);return C.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(ie))})),t.def(n,"[",r,"]")}))}return l?or(c)?c.value?ir((function(e,t){return t.def(e.ELEMENTS,".primType")})):ir((function(){return 4})):new rr(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",4)})):i?new rr(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:4")})):null}(),p=function(){if(mn in n){var e=0|n[mn];return o.count=e,C.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),ir((function(){return e}))}if(mn in r){var a=r[mn];return ar(a,(function(e,t){var n=e.invoke(t,a);return C.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(l){if(or(c)){if(c)return d?new rr(d.thisDep,d.contextDep,d.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return C.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ir((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var f=ir((function(){return-1}));return C.optional((function(){f.MISSING=!0})),f}var u=new rr(c.thisDep||d.thisDep,c.contextDep||d.contextDep,c.propDep||d.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return C.optional((function(){u.DYNAMIC=!0})),u}return i?new rr(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}(),m=u(_n,!1);return{elements:c,primitive:h,count:p,instances:m,offset:d,vao:s,vaoActive:i,elementsActive:l,static:o}}(e,d),x=function(e,t){var n=e.static,r=e.dynamic,i={};return k.forEach((function(e){var a=A(e);function s(t,o){if(e in n){var s=t(n[e]);i[a]=ir((function(){return s}))}else if(e in r){var l=r[e];i[a]=ar(l,(function(e,t){return o(e,t,e.invoke(t,l))}))}}switch(e){case qt:case Ft:case Ot:case en:case jt:case an:case Gt:case Yt:case Qt:case Ht:return s((function(n){return C.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return C.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case Nt:return s((function(n){return C.commandParameter(n,Yn,"invalid "+e,t.commandStr),Yn[n]}),(function(t,n,r){var o=t.constants.compareFuncs;return C.optional((function(){t.assert(n,r+" in "+o,"invalid "+e+", must be one of "+Object.keys(Yn))})),n.def(o,"[",r,"]")}));case Wt:return s((function(e){return C.command(he(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return C.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case $t:return s((function(e){C.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,o="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return C.commandParameter(n,Gn,a+".srcRGB",t.commandStr),C.commandParameter(r,Gn,a+".srcAlpha",t.commandStr),C.commandParameter(o,Gn,a+".dstRGB",t.commandStr),C.commandParameter(i,Gn,a+".dstAlpha",t.commandStr),C.command(-1===Xn.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",t.commandStr),[Gn[n],Gn[o],Gn[r],Gn[i]]}),(function(t,n,r){var o=t.constants.blendFuncs;function i(i,a){var s=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return C.optional((function(){t.assert(n,s+" in "+o,"invalid "+e+"."+i+a+", must be one of "+Object.keys(Gn))})),s}C.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=i("src","RGB"),s=i("dst","RGB");C.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var l=n.def(o,"[",a,"]"),c=n.def(o,"[",i("src","Alpha"),"]");return[l,n.def(o,"[",s,"]"),c,n.def(o,"[",i("dst","Alpha"),"]")]}));case Bt:return s((function(n){return"string"==typeof n?(C.commandParameter(n,_,"invalid "+e,t.commandStr),[_[n],_[n]]):"object"==typeof n?(C.commandParameter(n.rgb,_,e+".rgb",t.commandStr),C.commandParameter(n.alpha,_,e+".alpha",t.commandStr),[_[n.rgb],_[n.alpha]]):void C.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var o=t.constants.blendEquations,i=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return C.optional((function(){function n(e,n,r){t.assert(e,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(_))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(i,"=",a,"=",o,"[",r,"];"),s.else(i,"=",o,"[",r,".rgb];",a,"=",o,"[",r,".alpha];"),n(s),[i,a]}));case It:return s((function(e){return C.command(he(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),O(4,(function(t){return+e[t]}))}),(function(e,t,n){return C.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),O(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case tn:return s((function(e){return C.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return C.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case nn:return s((function(n){C.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",o=n.ref||0,i="mask"in n?n.mask:-1;return C.commandParameter(r,Yn,e+".cmp",t.commandStr),C.commandType(o,"number",e+".ref",t.commandStr),C.commandType(i,"number",e+".mask",t.commandStr),[Yn[r],o,i]}),(function(e,t,n){var r=e.constants.compareFuncs;return C.optional((function(){function o(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Zn),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case rn:case on:return s((function(n){C.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",i=n.zpass||"keep";return C.commandParameter(r,Qn,e+".fail",t.commandStr),C.commandParameter(o,Qn,e+".zfail",t.commandStr),C.commandParameter(i,Qn,e+".zpass",t.commandStr),[e===on?Vn:qn,Qn[r],Qn[o],Qn[i]]}),(function(t,n,r){var o=t.constants.stencilOps;function i(i){return C.optional((function(){t.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+e+"."+i+", must be one of "+Object.keys(Qn))})),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",Zn)}return C.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===on?Vn:qn,i("fail"),i("zfail"),i("zpass")]}));case Xt:return s((function(e){C.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return C.commandType(n,"number",a+".factor",t.commandStr),C.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return C.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Vt:return s((function(e){var n=0;return"front"===e?n=qn:"back"===e&&(n=Vn),C.command(!!n,a,t.commandStr),n}),(function(e,t,n){return C.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',qn,":",Vn)}));case Zt:return s((function(e){return C.command("number"==typeof e&&e>=o.lineWidthDims[0]&&e<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return C.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case Kt:return s((function(e){return C.commandParameter(e,er,a,t.commandStr),er[e]}),(function(e,t,n){return C.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?2304:'+Kn)}));case Ut:return s((function(e){return C.command(he(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return C.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),O(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Jt:return s((function(e){C.command("object"==typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return C.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return C.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),i}(e,d),S=function(e,t,r){var o=e.static,i=e.dynamic;function a(e){if(e in o){var t=n.id(o[e]);C.optional((function(){u.shader(Jn[e],t,C.guessCommand())}));var r=ir((function(){return t}));return r.id=t,r}if(e in i){var a=i[e];return ar(a,(function(t,n){var r=t.invoke(n,a),o=n.def(t.shared.strings,".id(",r,")");return C.optional((function(){n(t.shared.shader,".shader(",Jn[e],",",o,",",t.command,");")})),o}))}return null}var s,l=a(dn),c=a(un),f=null;return or(l)&&or(c)?(f=u.program(c.id,l.id,null,r),s=ir((function(e,t){return e.link(f)}))):s=new rr(l&&l.thisDep||c&&c.thisDep,l&&l.contextDep||c&&c.contextDep,l&&l.propDep||c&&c.propDep,(function(e,t){var n,r=e.shared.shader;n=l?l.append(e,t):t.def(r,".",dn);var o=r+".program("+(c?c.append(e,t):t.def(r,".",un))+","+n;return C.optional((function(){o+=","+e.command})),t.def(o+")")})),{frag:l,vert:c,progVar:s,program:f}}(e,0,m);function E(e){var t=y[e];t&&(x[e]=t)}E(ln),E(A(sn));var D=Object.keys(x).length>0,M={framebuffer:b,draw:w,shader:S,state:x,dirty:D,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(M.profile=function(e){var t,n=e.static,r=e.dynamic;if(cn in n){var o=!!n[cn];(t=ir((function(e,t){return o}))).enable=o}else if(cn in r){var i=r[cn];t=ar(i,(function(e,t){return e.invoke(t,i)}))}return t}(e),M.uniforms=function(e,t){var n=e.static,r=e.dynamic,o={};return Object.keys(n).forEach((function(e){var r,i=n[e];if("number"==typeof i||"boolean"==typeof i)r=ir((function(){return i}));else if("function"==typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?r=ir((function(e){return e.link(i)})):"framebuffer"===a||"framebufferCube"===a?(C.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ir((function(e){return e.link(i.color[0])}))):C.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else he(i)?r=ir((function(t){return t.global.def("[",O(i.length,(function(n){return C.command("number"==typeof i[n]||"boolean"==typeof i[n],"invalid uniform "+e,t.commandStr),i[n]})),"]")})):C.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=i,o[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];o[e]=ar(t,(function(e,n){return e.invoke(n,t)}))})),o}(s,d),M.drawVAO=M.scopeVAO=w.vao,!M.drawVAO&&S.program&&!m&&r.angle_instanced_arrays&&w.static.elements){var R=!0,P=S.program.attributes.map((function(e){var n=t.static[e];return R=R&&!!n,n}));if(R&&P.length>0){var T=f.getVAO(f.createVAO({attributes:P,elements:w.static.elements}));M.drawVAO=new rr(null,null,null,(function(e,t){return e.link(T)})),M.useVAO=!0}}return m?M.useVAO=!0:M.attributes=function(e,t){var r=e.static,o=e.dynamic,a={};return Object.keys(r).forEach((function(e){var o=r[e],s=n.id(e),l=new g;if(tr(o))l.state=1,l.buffer=i.getBuffer(i.create(o,En,!1,!0)),l.type=0;else{var c=i.getBuffer(o);if(c)l.state=1,l.buffer=c,l.type=0;else if(C.command("object"==typeof o&&o,"invalid data for attribute "+e,t.commandStr),"constant"in o){var f=o.constant;l.buffer="null",l.state=2,"number"==typeof f?l.x=f:(C.command(he(f)&&f.length>0&&f.length<=4,"invalid constant for attribute "+e,t.commandStr),zt.forEach((function(e,t){t<f.length&&(l[e]=f[t])})))}else{c=tr(o.buffer)?i.getBuffer(i.create(o.buffer,En,!1,!0)):i.getBuffer(o.buffer),C.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var u=0|o.offset;C.command(u>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|o.stride;C.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|o.size;C.command(!("size"in o)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!o.normalized,m=0;"type"in o&&(C.commandParameter(o.type,G,"invalid type for attribute "+e,t.commandStr),m=G[o.type]);var _=0|o.divisor;C.optional((function(){"divisor"in o&&(C.command(0===_||v,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),C.command(_>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(t){C.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),l.buffer=c,l.state=1,l.size=h,l.normalized=p,l.type=m||c.dtype,l.offset=u,l.stride=d,l.divisor=_}}a[e]=ir((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(l).forEach((function(e){r[e]=l[e]})),l.buffer&&(r.buffer=e.link(l.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(o).forEach((function(e){var t=o[e];a[e]=ar(t,(function(n,r){var o=n.invoke(r,t),i=n.shared,a=n.constants,s=i.isBufferArgs,l=i.buffer;C.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+s+"("+o+")||"+l+".getBuffer("+o+")||"+l+".getBuffer("+o+".buffer)||"+s+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+i.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+e+'"')}));var c={isStream:r.def(!1)},f=new g;f.state=1,Object.keys(f).forEach((function(e){c[e]=r.def(""+f[e])}));var u=c.buffer,d=c.type;function h(e){r(c[e],"=",o,".",e,"|0;")}return r("if(",s,"(",o,")){",c.isStream,"=true;",u,"=",l,".createStream(",En,",",o,");",d,"=",u,".dtype;","}else{",u,"=",l,".getBuffer(",o,");","if(",u,"){",d,"=",u,".dtype;",'}else if("constant" in ',o,"){",c.state,"=",2,";","if(typeof "+o+'.constant === "number"){',c[zt[0]],"=",o,".constant;",zt.slice(1).map((function(e){return c[e]})).join("="),"=0;","}else{",zt.map((function(e,t){return c[e]+"="+o+".constant.length>"+t+"?"+o+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",o,".buffer)){",u,"=",l,".createStream(",En,",",o,".buffer);","}else{",u,"=",l,".getBuffer(",o,".buffer);","}",d,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",u,".dtype;",c.normalized,"=!!",o,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",l,".destroyStream(",u,");","}"),c}))})),a}(t,d),M.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ir((function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=ar(t,(function(e,n){return e.invoke(n,t)}))})),r}(c),M}function I(e,t,n){var r=e.shared.context,o=e.scope();Object.keys(n).forEach((function(i){t.save(r,"."+i);var a=n[i].append(e,t);Array.isArray(a)?o(r,".",i,"=[",a.join(),"];"):o(r,".",i,"=",a,";")})),t(o)}function B(e,t,n,r){var o,i=e.shared,a=i.gl,s=i.framebuffer;b&&(o=t.def(i.extensions,".webgl_draw_buffers"));var l,c=e.constants,f=c.drawBuffer,u=c.backBuffer;l=n?n.append(e,t):t.def(s,".next"),r||t("if(",l,"!==",s,".cur){"),t("if(",l,"){",a,".bindFramebuffer(",36160,",",l,".framebuffer);"),b&&t(o,".drawBuffersWEBGL(",f,"[",l,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",36160,",null);"),b&&t(o,".drawBuffersWEBGL(",u,");"),t("}",s,".cur=",l,";"),r||t("}")}function $(e,t,n){var r=e.shared,o=r.gl,i=e.current,a=e.next,s=r.current,l=r.next,c=e.cond(s,".dirty");k.forEach((function(t){var r,f,u=A(t);if(!(u in n.state))if(u in a){r=a[u],f=i[u];var d=O(w[u].length,(function(e){return c.def(r,"[",e,"]")}));c(e.cond(d.map((function(e,t){return e+"!=="+f+"["+t+"]"})).join("||")).then(o,".",E[u],"(",d,");",d.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";"))}else{r=c.def(l,".",u);var h=e.cond(r,"!==",s,".",u);c(h),u in S?h(e.cond(r).then(o,".enable(",S[u],");").else(o,".disable(",S[u],");"),s,".",u,"=",r,";"):h(o,".",E[u],"(",r,");",s,".",u,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function j(e,t,n,r){var o=e.shared,i=e.current,a=o.current,s=o.gl;nr(Object.keys(n)).forEach((function(o){var l=n[o];if(!r||r(l)){var c=l.append(e,t);if(S[o]){var f=S[o];or(l)?t(s,c?".enable(":".disable(",f,");"):t(e.cond(c).then(s,".enable(",f,");").else(s,".disable(",f,");")),t(a,".",o,"=",c,";")}else if(he(c)){var u=i[o];t(s,".",E[o],"(",c,");",c.map((function(e,t){return u+"["+t+"]="+e})).join(";"),";")}else t(s,".",E[o],"(",c,");",a,".",o,"=",c,";")}}))}function N(e,t){v&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function W(e,t,n,r,o){var i,a,s,l=e.shared,c=e.stats,f=l.current,u=l.timer,d=n.profile;function h(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function m(e){e(i=t.def(),"=",h(),";"),"string"==typeof o?e(c,".count+=",o,";"):e(c,".count++;"),p&&(r?e(a=t.def(),"=",u,".getNumPendingQueries();"):e(u,".beginQuery(",c,");"))}function g(e){e(c,".cpuTime+=",h(),"-",i,";"),p&&(r?e(u,".pushScopeStats(",a,",",u,".getNumPendingQueries(),",c,");"):e(u,".endQuery();"))}function _(e){var n=t.def(f,".profile");t(f,".profile=",e,";"),t.exit(f,".profile=",n,";")}if(d){if(or(d))return void(d.enable?(m(t),g(t.exit),_("true")):_("false"));_(s=d.append(e,t))}else s=t.def(f,".profile");var v=e.block();m(v),t("if(",s,"){",v,"}");var b=e.block();g(b),t.exit("if(",s,"){",b,"}")}function H(e,t,n,r,o){var i=e.shared;r.forEach((function(r){var a,s=r.name,l=n.attributes[s];if(l){if(!o(l))return;a=l.append(e,t)}else{if(!o(sr))return;var c=e.scopeAttrib(s);C.optional((function(){e.assert(t,c+".state","missing attribute "+s)})),a={},Object.keys(new g).forEach((function(e){a[e]=t.def(c,".",e)}))}!function(n,r,o){var a=i.gl,s=t.def(n,".location"),l=t.def(i.attributes,"[",s,"]"),c=o.state,f=o.buffer,u=[o.x,o.y,o.z,o.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",l,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,i=o.type;if(n=o.size?t.def(o.size,"||",r):r,t("if(",l,".type!==",i,"||",l,".size!==",n,"||",d.map((function(e){return l+"."+e+"!=="+o[e]})).join("||"),"){",a,".bindBuffer(",En,",",f,".buffer);",a,".vertexAttribPointer(",[s,n,i,o.normalized,o.stride,o.offset],");",l,".type=",i,";",l,".size=",n,";",d.map((function(e){return l+"."+e+"="+o[e]+";"})).join(""),"}"),v){var c=o.divisor;t("if(",l,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",l,".divisor=",c,";}")}}function p(){t("if(",l,".buffer){",a,".disableVertexAttribArray(",s,");",l,".buffer=null;","}if(",zt.map((function(e,t){return l+"."+e+"!=="+u[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",u,");",zt.map((function(e,t){return l+"."+e+"="+u[t]+";"})).join(""),"}")}1===c?h():2===c?p():(t("if(",c,"===",1,"){"),h(),t("}else{"),p(),t("}"))}(e.link(r),function(e){switch(e){case Mn:case Ln:case In:return 2;case Rn:case zn:case Bn:return 3;case Pn:case On:case $n:return 4;default:return 1}}(r.info.type),a)}))}function U(e,t,r,o,i,a){for(var s,l=e.shared,c=l.gl,f={},u=0;u<o.length;++u){var d=o[u],h=d.name,p=d.info.type,m=d.info.size,g=r.uniforms[h];if(m>1){if(!g)continue;var _=h.replace("[0]","");if(f[_])continue;f[_]=1}var v,b=e.link(d)+".location";if(g){if(!i(g))continue;if(or(g)){var y=g.value;if(C.command(null!=y,'missing uniform "'+h+'"',e.commandStr),p===Hn||p===Un){C.command("function"==typeof y&&(p===Hn&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||p===Un&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+h,e.commandStr);var w=e.link(y._texture||y.color[0]._texture);t(c,".uniform1i(",b,",",w+".bind());"),t.exit(w,".unbind();")}else if(p===jn||p===Nn||p===Wn){C.optional((function(){C.command(he(y),"invalid matrix for uniform "+h,e.commandStr),C.command(p===jn&&4===y.length||p===Nn&&9===y.length||p===Wn&&16===y.length,"invalid length for matrix uniform "+h,e.commandStr)}));var x=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),k=2;p===Nn?k=3:p===Wn&&(k=4),t(c,".uniformMatrix",k,"fv(",b,",false,",x,");")}else{switch(p){case Dn:1===m?C.commandType(y,"number","uniform "+h,e.commandStr):C.command(he(y)&&y.length===m,"uniform "+h,e.commandStr),s="1f";break;case Mn:C.command(he(y)&&y.length&&y.length%2==0&&y.length<=2*m,"uniform "+h,e.commandStr),s="2f";break;case Rn:C.command(he(y)&&y.length&&y.length%3==0&&y.length<=3*m,"uniform "+h,e.commandStr),s="3f";break;case Pn:C.command(he(y)&&y.length&&y.length%4==0&&y.length<=4*m,"uniform "+h,e.commandStr),s="4f";break;case Fn:1===m?C.commandType(y,"boolean","uniform "+h,e.commandStr):C.command(he(y)&&y.length===m,"uniform "+h,e.commandStr),s="1i";break;case Tn:1===m?C.commandType(y,"number","uniform "+h,e.commandStr):C.command(he(y)&&y.length===m,"uniform "+h,e.commandStr),s="1i";break;case In:case Ln:C.command(he(y)&&y.length&&y.length%2==0&&y.length<=2*m,"uniform "+h,e.commandStr),s="2i";break;case Bn:case zn:C.command(he(y)&&y.length&&y.length%3==0&&y.length<=3*m,"uniform "+h,e.commandStr),s="3i";break;case $n:case On:C.command(he(y)&&y.length&&y.length%4==0&&y.length<=4*m,"uniform "+h,e.commandStr),s="4i"}m>1?(s+="v",y=e.global.def("["+Array.prototype.slice.call(y)+"]")):y=he(y)?Array.prototype.slice.call(y):y,t(c,".uniform",s,"(",b,",",y,");")}continue}v=g.append(e,t)}else{if(!i(sr))continue;v=t.def(l.uniforms,"[",n.id(h),"]")}p===Hn?(C(!Array.isArray(v),"must specify a scalar prop for textures"),t("if(",v,"&&",v,'._reglType==="framebuffer"){',v,"=",v,".color[0];","}")):p===Un&&(C(!Array.isArray(v),"must specify a scalar prop for cube maps"),t("if(",v,"&&",v,'._reglType==="framebufferCube"){',v,"=",v,".color[0];","}")),C.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(e,t){1===t&&C(!Array.isArray(v),"must not specify an array type for uniform"),n("Array.isArray("+v+") && typeof "+v+'[0]===" '+e+'" || typeof '+v+'==="'+e+'"',"invalid type, expected "+e)}function o(t,r,o){Array.isArray(v)?C(v.length&&v.length%t==0&&v.length<=t*o,"must have length of "+(1===o?"":"n * ")+t):n(l.isArrayLike+"("+v+")&&"+v+".length && "+v+".length % "+t+" === 0 && "+v+".length<="+t*o,"invalid vector, should have length of "+(1===o?"":"n * ")+t,e.commandStr)}function i(t){C(!Array.isArray(v),"must not specify a value type"),n("typeof "+v+'==="function"&&'+v+'._reglType==="texture'+(3553===t?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(p){case Tn:r("number",m);break;case Ln:o(2,0,m);break;case zn:o(3,0,m);break;case On:o(4,0,m);break;case Dn:r("number",m);break;case Mn:o(2,0,m);break;case Rn:o(3,0,m);break;case Pn:o(4,0,m);break;case Fn:r("boolean",m);break;case In:o(2,0,m);break;case Bn:o(3,0,m);break;case $n:case jn:o(4,0,m);break;case Nn:o(9,0,m);break;case Wn:o(16,0,m);break;case Hn:i(3553);break;case Un:i(34067)}}));var S=1;switch(p){case Hn:case Un:var E=t.def(v,"._texture");t(c,".uniform1i(",b,",",E,".bind());"),t.exit(E,".unbind();");continue;case Tn:case Fn:s="1i";break;case Ln:case In:s="2i",S=2;break;case zn:case Bn:s="3i",S=3;break;case On:case $n:s="4i",S=4;break;case Dn:s="1f";break;case Mn:s="2f",S=2;break;case Rn:s="3f",S=3;break;case Pn:s="4f",S=4;break;case jn:s="Matrix2fv";break;case Nn:s="Matrix3fv";break;case Wn:s="Matrix4fv"}if(-1===s.indexOf("Matrix")&&m>1&&(s+="v",S=1),"M"===s.charAt(0)){t(c,".uniform",s,"(",b,",");var A=Math.pow(p-jn+2,2),D=e.global.def("new Float32Array(",A,")");Array.isArray(v)?t("false,(",O(A,(function(e){return D+"["+e+"]="+v[e]})),",",D,")"):t("false,(Array.isArray(",v,")||",v," instanceof Float32Array)?",v,":(",O(A,(function(e){return D+"["+e+"]="+v+"["+e+"]"})),",",D,")"),t(");")}else if(S>1){for(var M=[],R=[],P=0;P<S;++P)Array.isArray(v)?R.push(v[P]):R.push(t.def(v+"["+P+"]")),a&&M.push(t.def());a&&t("if(!",e.batchId,"||",M.map((function(e,t){return e+"!=="+R[t]})).join("||"),"){",M.map((function(e,t){return e+"="+R[t]+";"})).join("")),t(c,".uniform",s,"(",b,",",R.join(","),");"),a&&t("}")}else{if(C(!Array.isArray(v),"uniform value must not be an array"),a){var T=t.def();t("if(!",e.batchId,"||",T,"!==",v,"){",T,"=",v,";")}t(c,".uniform",s,"(",b,",",v,");"),a&&t("}")}}}function q(e,t,n,r){var o=e.shared,i=o.gl,a=o.draw,s=r.draw;var l=function(){var l,c=s.elements,f=t;return c?((c.contextDep&&r.contextDynamic||c.propDep)&&(f=n),l=c.append(e,f),s.elementsActive&&f("if("+l+")"+i+".bindBuffer("+"34963,"+l+".buffer.buffer);")):(l=f.def(),f(l,"=",a,".",hn,";","if(",l,"){",i,".bindBuffer(",An,",",l,".buffer.buffer);}","else if(",o.vao,".currentVAO){",l,"=",e.shared.elements+".getElements("+o.vao,".currentVAO.elements);",y?"":"if("+l+")"+i+".bindBuffer("+"34963,"+l+".buffer.buffer);","}")),l}();function c(o){var i=s[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(e,n):i.append(e,t):t.def(a,".",o)}var f,u,d=c(pn),h=c(gn),p=function(){var o,i=s.count,l=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(l=n),o=i.append(e,l),C.optional((function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(l,o+">=0","missing vertex count")}))):(o=l.def(a,".",mn),C.optional((function(){e.assert(l,o+">=0","missing vertex count")}))),o}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");v&&(f=c(_n),u=e.instancing);var m=l+".type",g=s.elements&&or(s.elements)&&!s.vaoActive;function _(){function e(){n(u,".drawElementsInstancedANGLE(",[d,p,m,h+"<<(("+m+"-5121)>>1)",f],");")}function t(){n(u,".drawArraysInstancedANGLE(",[d,h,p,f],");")}l&&"null"!==l?g?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function b(){function e(){n(i+".drawElements("+[d,p,m,h+"<<(("+m+"-5121)>>1)"]+");")}function t(){n(i+".drawArrays("+[d,h,p]+");")}l&&"null"!==l?g?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}v&&("number"!=typeof f||f>=0)?"string"==typeof f?(n("if(",f,">0){"),_(),n("}else if(",f,"<0){"),b(),n("}")):_():b()}function V(e,t,n,r,o){var i=z(),a=i.proc("body",o);return C.optional((function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)})),v&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),e(i,a,n,r),i.compile().body}function K(e,t,n,r){N(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),H(e,t,n,r.attributes,(function(){return!0}))),U(e,t,n,r.uniforms,(function(){return!0}),!1),q(e,t,t,n)}function Z(e,t,n,r){function o(){return!0}e.batchId="a1",N(e,t),H(e,t,n,r.attributes,o),U(e,t,n,r.uniforms,o,!1),q(e,t,t,n)}function X(e,t,n,r){N(e,t);var o=n.contextDep,i=t.def(),a=t.def();e.shared.props=a,e.batchId=i;var s=e.scope(),l=e.scope();function c(e){return e.contextDep&&o||e.propDep}function f(e){return!c(e)}if(t(s.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",a,"=","a0","[",i,"];",l,"}",s.exit),n.needsContext&&I(e,l,n.context),n.needsFramebuffer&&B(e,l,n.framebuffer),j(e,l,n.state,c),n.profile&&c(n.profile)&&W(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?c(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):s(e.shared.vao,".setVAO(",n.drawVAO.append(e,s),");"):s(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(s(e.shared.vao,".setVAO(null);"),H(e,s,n,r.attributes,f),H(e,l,n,r.attributes,c)),U(e,s,n,r.uniforms,f,!1),U(e,l,n,r.uniforms,c,!0),q(e,s,l,n);else{var u=e.global.def("{}"),d=n.shader.progVar.append(e,l),h=l.def(d,".id"),p=l.def(u,"[",h,"]");l(e.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",u,"[",h,"]=",e.link((function(t){return V(Z,e,n,t,2)})),"(",d,");}",p,".call(this,a0[",i,"],",i,");")}}function Y(e,t,n){var r=t.static[n];if(r&&function(e){if("object"==typeof e&&!he(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(M.isDynamic(e[t[n]]))return!0;return!1}}(r)){var o=e.global,i=Object.keys(r),a=!1,s=!1,l=!1,c=e.global.def("{}");i.forEach((function(t){var n=r[t];if(M.isDynamic(n)){"function"==typeof n&&(n=r[t]=M.unbox(n));var i=ar(n,null);a=a||i.thisDep,l=l||i.propDep,s=s||i.contextDep}else{switch(o(c,".",t,"="),typeof n){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(e.link(n))}o(";")}})),t.dynamic[n]=new M.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:l,ref:c,append:function(e,t){i.forEach((function(n){var o=r[n];if(M.isDynamic(o)){var i=e.invoke(t,o);t(c,".",n,"=",i,";")}}))}}),delete t.static[n]}}return{next:x,current:w,procs:function(){var e=z(),t=e.proc("poll"),n=e.proc("refresh"),i=e.block();t(i),n(i);var a,s=e.shared,l=s.gl,c=s.next,f=s.current;i(f,".dirty=false;"),B(e,t),B(e,n,null,!0),v&&(a=e.link(v)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var u=0;u<o.maxAttributes;++u){var d=n.def(s.attributes,"[",u,"]"),h=e.cond(d,".buffer");h.then(l,".enableVertexAttribArray(",u,");",l,".bindBuffer(",En,",",d,".buffer.buffer);",l,".vertexAttribPointer(",u,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(l,".disableVertexAttribArray(",u,");",l,".vertexAttrib4f(",u,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),v&&n(a,".vertexAttribDivisorANGLE(",u,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var o=S[r],a=i.def(c,".",r),s=e.block();s("if(",a,"){",l,".enable(",o,")}else{",l,".disable(",o,")}",f,".",r,"=",a,";"),n(s),t("if(",a,"!==",f,".",r,"){",s,"}")})),Object.keys(E).forEach((function(r){var o,a,s=E[r],u=w[r],d=e.block();if(d(l,".",s,"("),he(u)){var h=u.length;o=e.global.def(c,".",r),a=e.global.def(f,".",r),d(O(h,(function(e){return o+"["+e+"]"})),");",O(h,(function(e){return a+"["+e+"]="+o+"["+e+"];"})).join("")),t("if(",O(h,(function(e){return o+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",d,"}")}else o=i.def(c,".",r),a=i.def(f,".",r),d(o,");",f,".",r,"=",o,";"),t("if(",o,"!==",a,"){",d,"}");n(d)})),e.compile()}(),compile:function(e,r,o,i,a){var s=z();s.stats=s.link(a),Object.keys(r.static).forEach((function(e){Y(s,r,e)})),Sn.forEach((function(t){Y(s,e,t)}));var l=F(e,r,o,i,s);return function(e,t){var n=e.proc("draw",1);N(e,n),I(e,n,t.context),B(e,n,t.framebuffer),$(e,n,t),j(e,n,t.state),W(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)K(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var o=e.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",e.link((function(n){return V(K,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}(s,l),function(e,t){var r=e.proc("scope",3);e.batchId="a2";var o=e.shared,i=o.current;function a(n){var i=t.shader[n];i&&r.set(o.shader,"."+n,i.append(e,r))}I(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),nr(Object.keys(t.state)).forEach((function(n){var i=t.state[n].append(e,r);he(i)?i.forEach((function(t,o){r.set(e.next[n],"["+o+"]",t)})):r.set(o.next,"."+n,i)})),W(e,r,t,!0,!0),[hn,gn,mn,_n,pn].forEach((function(n){var i=t.draw[n];i&&r.set(o.draw,"."+n,""+i.append(e,r))})),Object.keys(t.uniforms).forEach((function(i){var a=t.uniforms[i].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(o.uniforms,"["+n.id(i)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var o=t.attributes[n].append(e,r),i=e.scopeAttrib(n);Object.keys(new g).forEach((function(e){r.set(i,"."+e,o[e])}))})),t.scopeVAO&&r.set(o.vao,".targetVAO",t.scopeVAO.append(e,r)),a(un),a(dn),Object.keys(t.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}(s,l),function(e,t){var n=e.proc("batch",2);e.batchId="0",N(e,n);var r=!1,o=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(I(e,n,t.context),o=!1);var i=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}i?(i.propDep?r=a=!0:i.contextDep&&r&&(a=!0),a||B(e,n,i)):B(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),$(e,n,t),j(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||W(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=o,t.needsFramebuffer=a;var l=t.shader.progVar;if(l.contextDep&&r||l.propDep)X(e,n,t,null);else{var c=l.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)X(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var f=e.global.def("{}"),u=n.def(c,".id"),d=n.def(f,"[",u,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",f,"[",u,"]=",e.link((function(n){return V(X,e,t,n,2)})),"(",c,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}(s,l),t(s.compile(),{destroy:function(){l.shader.program.destroy()}})}}}var cr=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(e){n.push(e)}var o=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function s(e){a.push(e)}var l=[];function c(e,t,n){var r=a.pop()||new i;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,l.push(r)}var f=[],u=[];return{beginQuery:function(e){var r=n.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),c(o.length-1,o.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var e,n,i=o.length;if(0!==i){u.length=Math.max(u.length,i+1),f.length=Math.max(f.length,i+1),f[0]=0,u[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var c=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):o[e++]=c,f[n+1]=a,u[n+1]=e}for(o.length=e,e=0,n=0;n<l.length;++n){var d=l[n],h=d.startQueryIndex,p=d.endQueryIndex;d.sum+=f[p]-f[h];var m=u[h],g=u[p];g===m?(d.stats.gpuTime+=d.sum/1e6,s(d)):(d.startQueryIndex=m,d.endQueryIndex=g,l[e++]=d)}l.length=e}},getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},fr="webglcontextlost",ur="webglcontextrestored";function dr(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}return function(n){var r=z(n);if(!r)return null;var o=r.gl,i=o.getContextAttributes(),a=o.isContextLost(),s=function(e,t){var n={};function r(t){C.type(t,"string","extension name must be string");var r,o=t.toLowerCase();try{r=n[o]=e.getExtension(o)}catch(e){}return!!r}for(var o=0;o<t.extensions.length;++o){var i=t.extensions[o];if(!r(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}(o,r);if(!s)return null;var l,c,f=(l={"":0},c=[""],{id:function(e){var t=l[e];return t||(t=l[e]=c.length,c.push(e),t)},str:function(e){return c[e]}}),u={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=s.extensions,h=cr(0,d),p=P(),m=o.drawingBufferWidth,g=o.drawingBufferHeight,_={tick:0,time:0,viewportWidth:m,viewportHeight:g,framebufferWidth:m,framebufferHeight:g,drawingBufferWidth:m,drawingBufferHeight:g,pixelRatio:r.pixelRatio},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},b=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,o=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),o=e.getParameter(36063));var i=!!t.oes_texture_float;if(i){var a=e.createTexture();e.bindTexture($,a),e.texImage2D($,0,j,1,1,0,j,N,null);var s=e.createFramebuffer();if(e.bindFramebuffer(W,s),e.framebufferTexture2D(W,36064,$,a,0),e.bindTexture($,null),36053!==e.checkFramebufferStatus(W))i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var l=B.allocType(N,4);e.readPixels(0,0,1,1,j,N,l),e.getError()?i=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),i=1===l[0]),B.freeType(l)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var f=e.createTexture(),u=B.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,f),e.texImage2D(34069,0,j,3,3,0,j,5121,u),B.freeType(u),e.bindTexture(34067,null),e.deleteTexture(f),c=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:i,npotTextureCube:c}}(o,d),y=function(t,n,r,o){var i=0,a={};function s(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=J,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){u(this)};var l=[];function c(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function f(t,n,r,o,i,a){var s,l;if(t.usage=r,Array.isArray(n)){if(t.dtype=o||ee,n.length>0)if(Array.isArray(n[0])){s=Q(n);for(var f=1,u=1;u<s.length;++u)f*=s[u];t.dimension=f,c(t,l=Y(n,s,t.dtype),r),a?t.persistentData=l:B.freeType(l)}else if("number"==typeof n[0]){t.dimension=i;var d=B.allocType(t.dtype,n.length);re(d,n),c(t,d,r),a?t.persistentData=d:B.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=o||ne(n[0])||ee,c(t,l=Y(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=l:B.freeType(l)):C.raise("invalid buffer data")}else if(e(n))t.dtype=o||ne(n),t.dimension=i,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(H(n)){s=n.shape;var h=n.stride,p=n.offset,m=0,g=0,_=0,v=0;1===s.length?(m=s[0],g=1,_=h[0],v=0):2===s.length?(m=s[0],g=s[1],_=h[0],v=h[1]):C.raise("invalid shape"),t.dtype=o||ne(n.data)||ee,t.dimension=g;var b=B.allocType(t.dtype,m*g);oe(b,n.data,m,g,_,v,p),c(t,b,r),a?t.persistentData=b:B.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=J,t.dimension=i,c(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):C.raise("invalid buffer data")}function u(e){n.bufferCount--,o(e);var r=e.buffer;C(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:function(o,i,l,c){n.bufferCount++;var d=new s(i);function h(n){var o=35044,i=null,a=0,s=0,l=1;return Array.isArray(n)||e(n)||H(n)||n instanceof ArrayBuffer?i=n:"number"==typeof n?a=0|n:n&&(C.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(C(null===i||Array.isArray(i)||e(i)||H(i),"invalid data for buffer"),i=n.data),"usage"in n&&(C.parameter(n.usage,X,"invalid buffer usage"),o=X[n.usage]),"type"in n&&(C.parameter(n.type,G,"invalid buffer type"),s=G[n.type]),"dimension"in n&&(C.type(n.dimension,"number","invalid dimension"),l=0|n.dimension),"length"in n&&(C.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),d.bind(),i?f(d,i,o,s,l,c):(a&&t.bufferData(d.type,a,o),d.dtype=s||J,d.usage=o,d.dimension=l,d.byteLength=a),r.profile&&(d.stats.size=d.byteLength*te[d.dtype]),h}function p(e,n){C(n+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,n,e)}return a[d.id]=d,l||h(o),h._reglType="buffer",h._buffer=d,h.subdata=function(t,n){var r,o=0|(n||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)p(t,o);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var i=B.allocType(d.dtype,t.length);re(i,t),p(i,o),B.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){r=Q(t);var a=Y(t,r,d.dtype);p(a,o),B.freeType(a)}else C.raise("invalid buffer data")}else if(H(t)){r=t.shape;var s=t.stride,l=0,c=0,f=0,u=0;1===r.length?(l=r[0],c=1,f=s[0],u=0):2===r.length?(l=r[0],c=r[1],f=s[0],u=s[1]):C.raise("invalid shape");var m=Array.isArray(t.data)?d.dtype:ne(t.data),g=B.allocType(m,l*c);oe(g,t.data,l,c,f,u,t.offset),p(g,o),B.freeType(g)}else C.raise("invalid data for buffer subdata");return h},r.profile&&(h.stats=d.stats),h.destroy=function(){u(d)},h},createStream:function(e,t){var n=l.pop();return n||(n=new s(e)),n.bind(),f(n,t,35040,0,1,!1),n},destroyStream:function(e){l.push(e)},clear:function(){U(a).forEach(u),l.forEach(u)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:function(){U(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:f}}(o,u,r,(function(e){return x.destroyBuffer(e)})),w=function(t,n,r,o){var i={},a=0,s={uint8:ae,uint16:se};function l(e){this.id=a++,i[this.id]=this,this.buffer=e,this.primType=4,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=le),l.prototype.bind=function(){this.buffer.bind()};var c=[];function f(o,i,a,s,l,c,f){var u;if(o.buffer.bind(),i){var d=f;f||e(i)&&(!H(i)||e(i.data))||(d=n.oes_element_index_uint?le:se),r._initBuffer(o.buffer,i,a,d,3)}else t.bufferData(ce,c,a),o.buffer.dtype=u||ae,o.buffer.usage=a,o.buffer.dimension=3,o.buffer.byteLength=c;if(u=f,!f){switch(o.buffer.dtype){case ae:case 5120:u=ae;break;case se:case 5122:u=se;break;case le:case 5124:u=le;break;default:C.raise("unsupported type for element array")}o.buffer.dtype=u}o.type=u,C(u!==le||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=l;h<0&&(h=o.buffer.byteLength,u===se?h>>=1:u===le&&(h>>=2)),o.vertCount=h;var p=s;if(s<0){p=4;var m=o.buffer.dimension;1===m&&(p=0),2===m&&(p=1),3===m&&(p=4)}o.primType=p}function u(e){o.elementsCount--,C(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,n){var i=r.create(null,ce,!0),a=new l(i._buffer);function c(t){if(t)if("number"==typeof t)i(t),a.primType=4,a.vertCount=0|t,a.type=ae;else{var n=null,r=35044,o=-1,l=-1,u=0,d=0;Array.isArray(t)||e(t)||H(t)?n=t:(C.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,C(Array.isArray(n)||e(n)||H(n),"invalid data for element buffer")),"usage"in t&&(C.parameter(t.usage,X,"invalid element buffer usage"),r=X[t.usage]),"primitive"in t&&(C.parameter(t.primitive,ie,"invalid element buffer primitive"),o=ie[t.primitive]),"count"in t&&(C("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),l=0|t.count),"type"in t&&(C.parameter(t.type,s,"invalid buffer type"),d=s[t.type]),"length"in t?u=0|t.length:(u=l,d===se||5122===d?u*=2:d!==le&&5124!==d||(u*=4))),f(a,n,r,o,l,u,d)}else i(),a.primType=4,a.vertCount=0,a.type=ae;return c}return o.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return i.subdata(e,t),c},c.destroy=function(){u(a)},c},createStream:function(e){var t=c.pop();return t||(t=new l(r.create(null,ce,!0,!1)._buffer)),f(t,e,35040,-1,-1,0,0),t},destroyStream:function(e){c.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof l?e._elements:null},clear:function(){U(i).forEach(u)}}}(o,d,y,u),x=function(t,n,r,o,i,a,s){for(var l=r.maxAttributes,c=new Array(l),f=0;f<l;++f)c[f]=new Dt;var u=0,d={},h={Record:Dt,scope:{},state:c,currentVAO:null,targetVAO:null,restore:p()?function(){p()&&U(d).forEach((function(e){e.refresh()}))}:function(){},createVAO:function(t){var r=new g;function s(t){var o;if(Array.isArray(t))o=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(C("object"==typeof t,"invalid arguments for create vao"),C("attributes"in t,"must specify attributes for vao"),t.elements){var c=t.elements;r.ownsElements?"function"==typeof c&&"elements"===c._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(c),r.ownsElements=!1):a.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=a.create(t.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;o=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(C(t.primitive in ie,"bad primitive type: "+t.primitive),r.primitive=ie[t.primitive]),C.optional((()=>{for(var e=Object.keys(t),n=0;n<e.length;++n)C(At.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+At)})),C(Array.isArray(o),"attributes must be an array")}C(o.length<l,"too many attributes"),C(o.length>0,"must specify at least one attribute");var f={},u=r.attributes;u.length=o.length;for(var d=0;d<o.length;++d){var h,p=o[d],m=u[d]=new Dt,g=p.data||p;Array.isArray(g)||e(g)||H(g)?(r.buffers[d]&&(h=r.buffers[d],e(g)&&h._buffer.byteLength>=g.byteLength?h.subdata(g):(h.destroy(),r.buffers[d]=null)),r.buffers[d]||(h=r.buffers[d]=i.create(p,34962,!1,!0)),m.buffer=i.getBuffer(h),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1,f[d]=1):i.getBuffer(p)?(m.buffer=i.getBuffer(p),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1):i.getBuffer(p.buffer)?(m.buffer=i.getBuffer(p.buffer),m.size=0|(+p.size||m.buffer.dimension),m.normalized=!!p.normalized||!1,"type"in p?(C.parameter(p.type,G,"invalid buffer type"),m.type=G[p.type]):m.type=m.buffer.dtype,m.offset=0|(p.offset||0),m.stride=0|(p.stride||0),m.divisor=0|(p.divisor||0),m.state=1,C(m.size>=1&&m.size<=4,"size must be between 1 and 4"),C(m.offset>=0,"invalid offset"),C(m.stride>=0&&m.stride<=255,"stride must be between 0 and 255"),C(m.divisor>=0,"divisor must be positive"),C(!m.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in p?(C(d>0,"first attribute must not be a constant"),m.x=+p.x||0,m.y=+p.y||0,m.z=+p.z||0,m.w=+p.w||0,m.state=2):C(!1,"invalid attribute spec for location "+d)}for(var _=0;_<r.buffers.length;++_)!f[_]&&r.buffers[_]&&(r.buffers[_].destroy(),r.buffers[_]=null);return r.refresh(),s}return o.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(t)},getVAO:function(e){return"function"==typeof e&&e._vao?e._vao:null},destroyBuffer:function(e){for(var n=0;n<c.length;++n){var r=c[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}},setVAO:p()?function(e){if(e!==h.currentVAO){var t=p();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),h.currentVAO=e}}:function(e){if(e!==h.currentVAO){if(e)e.bindAttrs();else{for(var n=m(),r=0;r<c.length;++r){var o=c[r];o.buffer?(t.enableVertexAttribArray(r),o.buffer.bind(),t.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(r,o.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}s.elements?t.bindBuffer(Et,s.elements.buffer.buffer):t.bindBuffer(Et,null)}h.currentVAO=e}},clear:p()?function(){U(d).forEach((function(e){e.destroy()}))}:function(){}};function p(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function g(){this.id=++u,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=p();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}return g.prototype.bindAttrs=function(){for(var e=m(),n=this.attributes,r=0;r<n.length;++r){var o=n[r];o.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(34962,o.buffer.buffer),t.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offset),e&&o.divisor&&e.vertexAttribDivisorANGLE(r,o.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}for(var i=n.length;i<l;++i)t.disableVertexAttribArray(i);var s=a.getElements(this.elements);s?t.bindBuffer(Et,s.buffer.buffer):t.bindBuffer(Et,null)},g.prototype.refresh=function(){var e=p();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,e.bindVertexArrayOES(null))},g.prototype.destroy=function(){if(this.vao){var e=p();this===h.currentVAO&&(h.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],o.vaoCount-=1)},h}(o,d,b,u,y,w,v),k=function(e,n,r,o){var i={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function l(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,o){var s=35632===t?i:a,l=s[r];if(!l){var c=n.str(r);l=e.createShader(t),e.shaderSource(l,c),e.compileShader(l),C.shaderError(e,l,c,t,o),s[r]=l}return l}var f={},u=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,o.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,i){var a,f,u=c(35632,t.fragId),d=c(35633,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,u),e.attachShader(h,d),i)for(a=0;a<i.length;++a){var p=i[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),C.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var m=e.getProgramParameter(h,35718);o.profile&&(t.stats.uniformsCount=m);var g=t.uniforms;for(a=0;a<m;++a)if(f=e.getActiveUniform(h,a)){if(f.size>1)for(var _=0;_<f.size;++_){var v=f.name.replace("[0]","["+_+"]");l(g,new s(v,n.id(v),e.getUniformLocation(h,v),f))}var b=f.name;f.size>1&&(b=b.replace("[0]","")),l(g,new s(b,n.id(b),e.getUniformLocation(h,b),f))}var y=e.getProgramParameter(h,35721);o.profile&&(t.stats.attributesCount=y);var w=t.attributes;for(a=0;a<y;++a)(f=e.getActiveAttrib(h,a))&&l(w,new s(f.name,n.id(f.name),e.getAttribLocation(h,f.name),f))}return o.profile&&(r.getMaxUniformsCount=function(){var e=0;return u.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return u.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);U(i).forEach(t),i={},U(a).forEach(t),a={},u.forEach((function(t){e.deleteProgram(t.program)})),u.length=0,f={},r.shaderCount=0},program:function(n,o,s,l){C.command(n>=0,"missing vertex shader",s),C.command(o>=0,"missing fragment shader",s);var c=f[o];c||(c=f[o]={});var d=c[n];if(d&&(d.refCount++,!l))return d;var m=new h(o,n);return r.shaderCount++,p(m,s,l),d||(c[n]=m),u.push(m),t(m,{destroy:function(){if(m.refCount--,m.refCount<=0){e.deleteProgram(m.program);var t=u.indexOf(m);u.splice(t,1),r.shaderCount--}c[m.vertId].refCount<=0&&(e.deleteShader(a[m.vertId]),delete a[m.vertId],delete f[m.fragId][m.vertId]),Object.keys(f[m.fragId]).length||(e.deleteShader(i[m.fragId]),delete i[m.fragId],delete f[m.fragId])}})},restore:function(){i={},a={};for(var e=0;e<u.length;++e)p(u[e],null,u[e].attributes.map((function(e){return[e.location,e.name]})))},shader:c,frag:-1,vert:-1}}(o,f,u,r),S=dt(o,d,b,(function(){D.procs.poll()}),_,u,r),E=function(e,t,n,r,o){var i={rgba4:pt,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(i.srgba=35907),t.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),t.webgl_color_buffer_float&&(i.rgba32f=34836);var a=[];Object.keys(i).forEach((function(e){var t=i[e];a[t]=e}));var s=0,l={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=pt,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function f(t){var n=t.renderbuffer;C(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(ht,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete l[t.id],r.renderbufferCount--}return c.prototype.decRef=function(){--this.refCount<=0&&f(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(l).forEach((function(t){e+=l[t].stats.size})),e}),{create:function(t,s){var f=new c(e.createRenderbuffer());function u(t,r){var s=0,l=0,c=pt;if("object"==typeof t&&t){var d=t;if("shape"in d){var h=d.shape;C(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],l=0|h[1]}else"radius"in d&&(s=l=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(l=0|d.height);"format"in d&&(C.parameter(d.format,i,"invalid renderbuffer format"),c=i[d.format])}else"number"==typeof t?(s=0|t,l="number"==typeof r?0|r:s):t?C.raise("invalid arguments to renderbuffer constructor"):s=l=1;if(C(s>0&&l>0&&s<=n.maxRenderbufferSize&&l<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==f.width||l!==f.height||c!==f.format)return u.width=f.width=s,u.height=f.height=l,f.format=c,e.bindRenderbuffer(ht,f.renderbuffer),e.renderbufferStorage(ht,c,s,l),C(0===e.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=gt(f.format,f.width,f.height)),u.format=a[f.format],u}return l[f.id]=f,r.renderbufferCount++,u(t,s),u.resize=function(t,r){var i=0|t,a=0|r||i;return i===f.width&&a===f.height||(C(i>0&&a>0&&i<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),u.width=f.width=i,u.height=f.height=a,e.bindRenderbuffer(ht,f.renderbuffer),e.renderbufferStorage(ht,f.format,i,a),C(0===e.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=gt(f.format,f.width,f.height))),u},u._reglType="renderbuffer",u._renderbuffer=f,o.profile&&(u.stats=f.stats),u.destroy=function(){f.decRef()},u},clear:function(){U(l).forEach(f)},restore:function(){U(l).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(ht,t.renderbuffer),e.renderbufferStorage(ht,t.format,t.width,t.height)})),e.bindRenderbuffer(ht,null)}}}(o,d,b,u,r),A=function(e,n,r,o,i,a){var s={cur:null,next:null,dirty:!1,setFBO:null},l=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var f=["uint8"];function u(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,o=0;t?(r=t.width,o=t.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height);C(o===t&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;C(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(_t,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(_t,t,vt,n.renderbuffer._renderbuffer.renderbuffer))}function m(e){var t=bt,n=null,r=null,o=e;"object"==typeof e&&(o=e.data,"target"in e&&(t=0|e.target)),C.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(n=o,C(t===bt)):"textureCube"===i?(n=o,C(t>=yt&&t<34075,"invalid cube map target")):"renderbuffer"===i?(r=o,t=vt):C.raise("invalid regl object for attachment"),new u(t,n,r)}function g(e,t,n,r,a){if(n){var s=o.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new u(bt,s,null)}var l=i.create({width:e,height:t,format:r});return l._renderbuffer.refCount=0,new u(vt,null,l)}function _(e){return e&&(e.texture||e.renderbuffer)}function v(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&f.push("half float","float16"),n.oes_texture_float&&f.push("float","float32");var b=0,y={};function w(){this.id=b++,y[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;C(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete y[t.id]}function S(t){var n;e.bindFramebuffer(_t,t.framebuffer);var o=t.colorAttachments;for(n=0;n<o.length;++n)p(36064+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(_t,36064+n,bt,null,0);e.framebufferTexture2D(_t,33306,bt,null,0),e.framebufferTexture2D(_t,36096,bt,null,0),e.framebufferTexture2D(_t,36128,bt,null,0),p(36096,t.depthAttachment),p(36128,t.stencilAttachment),p(33306,t.depthStencilAttachment);var i=e.checkFramebufferStatus(_t);e.isContextLost()||36053===i||C.raise("framebuffer configuration not supported, status = "+St[i]),e.bindFramebuffer(_t,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function E(e,o){var i=new w;function u(e,t){var o;C(s.next!==i,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,v=!0,b=null,y=!0,w="rgba",k="uint8",E=1,A=null,D=null,M=null,R=!1;if("number"==typeof e)a=0|e,d=0|t||a;else if(e){C.type(e,"object","invalid arguments for framebuffer");var P=e;if("shape"in P){var T=P.shape;C(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),a=T[0],d=T[1]}else"radius"in P&&(a=d=P.radius),"width"in P&&(a=P.width),"height"in P&&(d=P.height);("color"in P||"colors"in P)&&(b=P.color||P.colors,Array.isArray(b)&&C(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in P&&(E=0|P.colorCount,C(E>0,"invalid color buffer count")),"colorTexture"in P&&(y=!!P.colorTexture,w="rgba4"),"colorType"in P&&(k=P.colorType,y?(C(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),C(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(C(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==k&&"float32"!==k||(C(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),C.oneOf(k,f,"invalid color type")),"colorFormat"in P&&(w=P.colorFormat,l.indexOf(w)>=0?y=!0:c.indexOf(w)>=0?y=!1:C.optional((function(){y?C.oneOf(P.colorFormat,l,"invalid color format for texture"):C.oneOf(P.colorFormat,c,"invalid color format for renderbuffer")})))),("depthTexture"in P||"depthStencilTexture"in P)&&(R=!(!P.depthTexture&&!P.depthStencilTexture),C(!R||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in P&&("boolean"==typeof P.depth?p=P.depth:(A=P.depth,v=!1)),"stencil"in P&&("boolean"==typeof P.stencil?v=P.stencil:(D=P.stencil,p=!1)),"depthStencil"in P&&("boolean"==typeof P.depthStencil?p=v=P.depthStencil:(M=P.depthStencil,p=!1,v=!1))}else a=d=1;var L=null,z=null,O=null,F=null;if(Array.isArray(b))L=b.map(m);else if(b)L=[m(b)];else for(L=new Array(E),o=0;o<E;++o)L[o]=g(a,d,y,w,k);C(n.webgl_draw_buffers||L.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),C(L.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||L[0].width,d=d||L[0].height,A?z=m(A):p&&!v&&(z=g(a,d,R,"depth","uint32")),D?O=m(D):v&&!p&&(O=g(a,d,!1,"stencil","uint8")),M?F=m(M):!A&&!D&&v&&p&&(F=g(a,d,R,"depth stencil","depth stencil")),C(!!A+!!D+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var I=null;for(o=0;o<L.length;++o)if(h(L[o],a,d),C(!L[o]||L[o].texture&&wt.indexOf(L[o].texture._texture.format)>=0||L[o].renderbuffer&&kt.indexOf(L[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),L[o]&&L[o].texture){var B=xt[L[o].texture._texture.format]*Ct[L[o].texture._texture.type];null===I?I=B:C(I===B,"all color attachments much have the same number of bits per pixel.")}return h(z,a,d),C(!z||z.texture&&6402===z.texture._texture.format||z.renderbuffer&&33189===z.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),h(O,a,d),C(!O||O.renderbuffer&&36168===O.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),h(F,a,d),C(!F||F.texture&&34041===F.texture._texture.format||F.renderbuffer&&34041===F.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),x(i),i.width=a,i.height=d,i.colorAttachments=L,i.depthAttachment=z,i.stencilAttachment=O,i.depthStencilAttachment=F,u.color=L.map(_),u.depth=_(z),u.stencil=_(O),u.depthStencil=_(F),u.width=i.width,u.height=i.height,S(i),u}return a.framebufferCount++,u(e,o),t(u,{resize:function(e,t){C(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===i.width&&r===i.height)return u;for(var o=i.colorAttachments,a=0;a<o.length;++a)v(o[a],n,r);return v(i.depthAttachment,n,r),v(i.stencilAttachment,n,r),v(i.depthStencilAttachment,n,r),i.width=u.width=n,i.height=u.height=r,S(i),u},_reglType:"framebuffer",_framebuffer:i,destroy:function(){k(i),x(i)},use:function(e){s.setFBO({framebuffer:u},e)}})}return t(s,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:E,createCube:function(e){var i=Array(6);function a(e){var r;C(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,u={color:null},d=0,h=null,p="rgba",m="uint8",g=1;if("number"==typeof e)d=0|e;else if(e){C.type(e,"object","invalid arguments for framebuffer");var _=e;if("shape"in _){var v=_.shape;C(Array.isArray(v)&&v.length>=2,"invalid shape for framebuffer"),C(v[0]===v[1],"cube framebuffer must be square"),d=v[0]}else"radius"in _&&(d=0|_.radius),"width"in _?(d=0|_.width,"height"in _&&C(_.height===d,"must be square")):"height"in _&&(d=0|_.height);("color"in _||"colors"in _)&&(h=_.color||_.colors,Array.isArray(h)&&C(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in _&&(g=0|_.colorCount,C(g>0,"invalid color buffer count")),"colorType"in _&&(C.oneOf(_.colorType,f,"invalid color type"),m=_.colorType),"colorFormat"in _&&(p=_.colorFormat,C.oneOf(_.colorFormat,l,"invalid color format for texture"))),"depth"in _&&(u.depth=_.depth),"stencil"in _&&(u.stencil=_.stencil),"depthStencil"in _&&(u.depthStencil=_.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(g);var b={radius:d,format:p,type:m};for(r=0;r<g;++r)c[r]=o.createCube(b)}for(u.color=Array(c.length),r=0;r<c.length;++r){var y=c[r];C("function"==typeof y&&"textureCube"===y._reglType,"invalid cube map"),d=d||y.width,C(y.width===d&&y.height===d,"invalid cube map shape"),u.color[r]={target:yt,data:c[r]}}for(r=0;r<6;++r){for(var w=0;w<c.length;++w)u.color[w].target=yt+r;r>0&&(u.depth=i[0].depth,u.stencil=i[0].stencil,u.depthStencil=i[0].depthStencil),i[r]?i[r](u):i[r]=E(u)}return t(a,{width:d,height:d,color:c})}return a(e),t(a,{faces:i,resize:function(e){var t,n=0|e;if(C(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var o=a.color;for(t=0;t<o.length;++t)o[t].resize(n);for(t=0;t<6;++t)i[t].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){i.forEach((function(e){e.destroy()}))}})},clear:function(){U(y).forEach(k)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,U(y).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}})}(o,d,b,S,E,u),D=lr(o,f,d,b,y,w,0,A,{},x,k,v,_,h,r),T=Pt(o,A,D.procs.poll,_,i,d,b),L=D.next,O=o.canvas,F=[],I=[],q=[],V=[r.onDestroy],K=null;function Z(){if(0===F.length)return h&&h.update(),void(K=null);K=R.next(Z),be();for(var e=F.length-1;e>=0;--e){var t=F[e];t&&t(_,null,0)}o.flush(),h&&h.update()}function fe(){!K&&F.length>0&&(K=R.next(Z))}function ue(){K&&(R.cancel(Z),K=null)}function de(e){e.preventDefault(),a=!0,ue(),I.forEach((function(e){e()}))}function he(e){o.getError(),a=!1,s.restore(),k.restore(),y.restore(),S.restore(),E.restore(),A.restore(),x.restore(),h&&h.restore(),D.procs.refresh(),fe(),q.forEach((function(e){e()}))}function pe(e){function n(e,t){var n={},r={};return Object.keys(e).forEach((function(o){var i=e[o];if(M.isDynamic(i))r[o]=M.unbox(i,o);else{if(t&&Array.isArray(i))for(var a=0;a<i.length;++a)if(M.isDynamic(i[a]))return void(r[o]=M.unbox(i,o));n[o]=i}})),{dynamic:r,static:n}}C(!!e,"invalid args to regl({...})"),C.type(e,"object","invalid args to regl({...})");var r=n(e.context||{},!0),o=n(e.uniforms||{},!0),i=n(e.attributes||{},!1),s=n(function(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=D.compile(s,i,o,r,l),f=c.draw,u=c.batch,d=c.scope,h=[];return t((function(e,t){var n;if(a&&C.raise("context lost"),"function"==typeof e)return d.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(n=0;n<e;++n)d.call(this,null,t,n);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(n=0;n<e.length;++n)d.call(this,e[n],t,n)}else if("number"==typeof e){if(e>0)return u.call(this,function(e){for(;h.length<e;)h.push(null);return h}(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return u.call(this,e,e.length)}}),{stats:l,destroy:function(){c.destroy()}})}O&&(O.addEventListener(fr,de,!1),O.addEventListener(ur,he,!1));var me=A.setFBO=pe({framebuffer:M.define.call(null,1,"framebuffer")});function ge(e,t){var n=0;D.procs.poll();var r=t.color;r&&(o.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in t&&(o.clearDepth(+t.depth),n|=256),"stencil"in t&&(o.clearStencil(0|t.stencil),n|=1024),C(!!n,"called regl.clear with no buffer specified"),o.clear(n)}function _e(e){return C.type(e,"function","regl.frame() callback must be a function"),F.push(e),fe(),{cancel:function(){var t=dr(F,e);C(t>=0,"cannot cancel a frame twice"),F[t]=function e(){var t=dr(F,e);F[t]=F[F.length-1],F.length-=1,F.length<=0&&ue()}}}}function ve(){var e=L.viewport,t=L.scissor_box;e[0]=e[1]=t[0]=t[1]=0,_.viewportWidth=_.framebufferWidth=_.drawingBufferWidth=e[2]=t[2]=o.drawingBufferWidth,_.viewportHeight=_.framebufferHeight=_.drawingBufferHeight=e[3]=t[3]=o.drawingBufferHeight}function be(){_.tick+=1,_.time=we(),ve(),D.procs.poll()}function ye(){S.refresh(),ve(),D.procs.refresh(),h&&h.update()}function we(){return(P()-p)/1e3}ye();var xe=t(pe,{clear:function(e){if(C("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)me(t({framebuffer:e.framebuffer.faces[n]},e),ge);else me(e,ge);else ge(0,e)},prop:M.define.bind(null,1),context:M.define.bind(null,2),this:M.define.bind(null,3),draw:pe({}),buffer:function(e){return y.create(e,34962,!1,!1)},elements:function(e){return w.create(e,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:E.create,framebuffer:A.create,framebufferCube:A.createCube,vao:x.createVAO,attributes:i,frame:_e,on:function(e,t){var n;switch(C.type(t,"function","listener callback must be a function"),e){case"frame":return _e(t);case"lost":n=I;break;case"restore":n=q;break;case"destroy":n=V;break;default:C.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}},limits:b,hasExtension:function(e){return b.extensions.indexOf(e.toLowerCase())>=0},read:T,destroy:function(){F.length=0,ue(),O&&(O.removeEventListener(fr,de),O.removeEventListener(ur,he)),k.clear(),A.clear(),E.clear(),x.clear(),S.clear(),w.clear(),y.clear(),h&&h.clear(),V.forEach((function(e){e()}))},_gl:o,_refresh:ye,poll:function(){be(),h&&h.update()},now:we,stats:u});return r.onDone(null,xe),xe}}()},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],f=i[c]||0,u="".concat(c," ").concat(f);i[c]=f+1;var d=n(u),h={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(t[d].references++,t[d].updater(h)):t.push({identifier:u,updater:o(h,r),references:1}),a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var f=n(i[c]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},7628:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-brands-400.eot"},4564:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-brands-400.svg"},9841:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-brands-400.ttf"},1217:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-brands-400.woff"},4346:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-brands-400.woff2"},126:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-regular-400.eot"},5445:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-regular-400.svg"},8678:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-regular-400.ttf"},4426:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-regular-400.woff"},7104:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-regular-400.woff2"},1254:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-solid-900.eot"},8378:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-solid-900.svg"},6453:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-solid-900.ttf"},529:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-solid-900.woff"},2621:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/fa-solid-900.woff2"},5892:(e,t,n)=>{"use strict";n.d(t,{fc:()=>x,ZP:()=>S,HT:()=>C,$W:()=>w});var r=n(8970);class o extends r.Z{constructor(e){super(e),this.worker=new Worker(new URL(n.p+n.u(740),n.b))}filterCategories(e,t){const n=e,r=this.parent,o=r.columnIndex[t[0]],i=o.data,a=r.filterArray,s=this.filterArray,l=o.values,c=new Set,f=this.parent.size;if("string"==typeof n){const e=l.indexOf(n);for(let t=0;t<f;t++)i[t]===e?(1===s[t]&&0==--a[t]&&r.filterSize++,s[t]=0):(0===s[t]&&1==++a[t]&&r.filterSize--,s[t]=1)}else{for(let e of n)c.add(l.indexOf(e));for(let e=0;e<f;e++)c.has(i[e])?(1===s[e]&&0==--a[e]&&r.filterSize++,s[e]=0):(0===s[e]&&1==++a[e]&&r.filterSize--,s[e]=1)}}filterMultipleCategories(e,t){const n=this.parent,r=[],o=[];for(let i=0;i<t.length;i++){const a=n.columnIndex[t[i]];r.push(a.data),o.push(a.values.indexOf(e[i]))}const i=n.filterArray,a=this.filterArray,s=n.size;for(let e=0;e<s;e++){let t=!0;for(let n=0;n<r.length;n++)if(r[n][e]!==o[n]){t=!1;break}t?(1===a[e]&&0==--i[e]&&n.filterSize++,a[e]=0):(0===a[e]&&1==++i[e]&&n.filterSize--,a[e]=1)}}getSankeyData(e,t,n={}){const r=this.parent.columnIndex[t[0]],o=this.parent.columnIndex[t[1]];n.values=r.values,n.values2=o.values,n.method=n.method||"sankey","proportion"===n.method&&(n.cats=null==n.category?null:this.parent.columnIndex[t[2]].buffer);const i=performance.now(),a=t=>{console.log(`calc sankey ${r.name} ${o.name} : ${performance.now()-i}`),e(t.data),this.worker.removeEventListener("message",a)};this.worker.addEventListener("message",a),this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,r.buffer,n,o.buffer])}getCategories(e,t,n={}){const r=this.parent.columnIndex[t];n.values=r.values;const o=performance.now(),i=t=>{console.log(`calc categories ${r.name} : ${performance.now()-o}`),e(t.data),this.worker.removeEventListener("message",i)};this.worker.addEventListener("message",i),this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,r.buffer,n])}destroy(){super.destroy(),this.worker.terminate()}}r.Z.types.category_dimension=o;var i=n(3117);class a extends r.Z{constructor(e){super(e),this.worker=new Worker(new URL(n.p+n.u(319),n.b))}getAverages(e,t,n={}){n.method=n.method||"mean";const r=performance.now(),o=this.parent.columnIndex;this.worker.onmessage=t=>{console.log("calc averages  "+(performance.now()-r)),e(t.data)},n.values=o[t[0]].values;const i=[];for(let e=1;e<t.length;e++)i.push(this.parent.columnIndex[t[e]].buffer);this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,o[t[0]].buffer,i,n])}destroy(){super.destroy(),this.worker.terminate()}}r.Z.types.catcol_dimension=a;class s extends i.Z{constructor(e,t){super(e,t),this.worker.terminate(),this.worker=new Worker(new URL(n.p+n.u(956),n.b))}getKernalDensity(e,t,n={}){const r=performance.now(),o=this.parent.columnIndex[t[0]],i=this.parent.columnIndex[t[1]];this.parent.getMinMaxForColumn(t[1]),n.type="kernal_density",n.scaletrim&&(n.scaletrim=i.quantiles[n.scaletrim]),n.values=o.values,this.worker.onmessage=t=>{console.log(`calculate violin ${o.name} : ${performance.now()-r}`),e(t.data)},this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,o.buffer,i.buffer,n])}getMultiBoxPlotData(e,t,n={}){const r=performance.now(),o=t.map((e=>this.parent.columnIndex[e].buffer));n.analysis="multi",n.cat=this.parent.getColumnValues(t[0]).indexOf(n.category),this.worker.onmessage=n=>{console.log(`calculate multiboxplot cols:${t.length} time: ${performance.now()-r}`),e(n.data)},this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,o.slice(1),o[0],n])}getBoxPlotData(e,t,n={}){const r=performance.now(),o=this.parent.columnIndex[t[0]],i=this.parent.columnIndex[t[1]];n.analysis="boxplot",n.values=o.values,this.worker.onmessage=t=>{console.log(`calculate boxplot ${o.name} : ${performance.now()-r}`),e(t.data)},this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,o.buffer,i.buffer,n])}}r.Z.types.catrange_dimension=s,n(8796);var l=n(9713),c=n(3527),f=n(8348);function u(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function h(e){var t=1,n=e(u(t),d(t));return n.constant=function(n){return arguments.length?e(u(t=+n),d(t)):t},(0,l.Q)(n)}function p(){var e=h((0,c.l4)());return e.copy=function(){return(0,c.JG)(e,p()).constant(e.constant())},f.o.apply(e,arguments)}var m=n(1445),g=n(4017),_=n(9374),v=n(8503),b=n(2921);function y(e,t,n=b.Z){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function w(e){e=e.replace("#","");var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}function x(e){return"#"+e.map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}const C=["#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999","#1CE6FF","#FF34FF","#FF4A46","#008941","#676FA6","#A30059","#FFDBE5","#7A4900","#0000A6","#63FFAC","#B79762","#004D43","#8FB0FF","#997D87","#5A0007","#809693","#FEFFE6","#1B4400","#4FC601","#3B5DFF","#4A3B53","#FF2F80","#61615A","#BA0900","#6B7900","#00C2A0","#FFAA92","#FF90C9","#B903AA","#D16100","#DDEFFF","#000035","#7B4F4B","#A1C299","#300018","#0AA6D8","#013349","#00846F","#372101","#FFB500","#C2FFED","#A079BF","#CC0744","#C0B9B2","#C2FF99","#001E09","#00489C","#6F0062","#0CBD66","#EEC3FF","#456D75","#B77B68","#7A87A1","#788D66","#885578","#FAD09F","#FF8A9A","#D157A0","#BEC459","#456648","#0086ED","#886F4C","#34362D","#B4A8BD","#00A6AA","#452C2C","#636375","#A3C8C9","#FF913F","#938A81","#575329","#00FECF","#B05B6F","#8CD0FF","#3B9700","#04F757","#C8A1A1","#1E6E00","#7900D7","#A77500","#6367A9","#A05837","#6B002C","#772600","#D790FF","#9B9700","#549E79","#FFF69F","#201625","#72418F","#BC23FF","#99ADC0","#3A2465","#922329","#5B4534","#FDE8DC"],k=["#3288bd","#66c2a5","#abdda4","#e6f598","#fee08b","#fdae61","#f46d43","#d53e4f"],S=class{constructor(e,t={}){if(this.size=e,this.filterSize=e,this.columns=[],this.columnIndex={},this.listeners={},this.indexes={},this.filterBuffer=new SharedArrayBuffer(e),this.filterArray=new Uint8Array(this.filterBuffer),this.dimensions=[],this.textDecoder=new TextDecoder,this.columnGroups={},this.subtypeToGroup={},this.columnsWithData=[],this.dirtyColumns={added:{},removed:{},data_changed:{},colors_changed:{}},t.columns)for(let e of t.columns)this.addColumn(e);if(t.columnGroups)for(let e of t.columnGroups)this.addColumnGroup(e)}getLargeColumnGroups(){const e=[];for(let t in this.columnGroups){let n=this.columnGroups[t];n.largeColumnGroup&&e.push(n)}return e}isFiltered(){return this.filterSize!==this.size}addListener(e,t){this.listeners[e]=t}removeListener(e){delete this.listeners[e]}_callListeners(e,t){for(let n in this.listeners)this.listeners[n](e,t)}removeAllFilters(){this.filterArray.fill(0);let e=[];for(let t of this.dimensions)if(t.noclear)e.push(t);else if(t.filterArray.fill(0),t.filterMethod=null,t.bgfArray)for(let e=0;e<this.size;e++)0===t.bgfArray[e]&&(t.filterArray[e]=2);this.filterSize=this.size;for(let t of e){const e=t.filterArray;for(let t=0;t<e.length;t++)1===e[t]&&1==++this.filterArray[t]&&this.filterSize--}this._callListeners("filtered","all_removed")}dataChanged(e,t=!0,n=!0){let r=!1;for(let t of this.dimensions)t.reFilterOnDataChanged(e)&&(r=!0);if(t)for(let t of e)this.setColumnIsDirty(t);r&&this._callListeners("filtered"),this._callListeners("data_changed",{columns:e,hasFiltered:r})}dataHighlighted(e,t){this.highightedData=e,this._callListeners("data_highlighted",{indexes:e,source:t})}getHighlightedData(){return this.highightedData}triggerFilter(){this._callListeners("filtered")}setColumnIsDirty(e){this.dirtyColumns.added[e]||(this.dirtyColumns.data_changed[e]=!0)}setAllColumnsClean(e){this.dirtyColumns.added={},this.dirtyColumns.removed={},this.dirtyColumns.data_changed={},this.dirtyColumns.color_changed={}}getFilter(){return this.filterArray}isRowFiltered(e){return 0===this.filterArray[e]}_calculateCategories(e){let t=e.values,n=e.data,r={};for(let e of t)r[e]=0;for(let e=0;e<n.length;e++)r[t[n[e]]]++}addColumn(e,t=null,n=!1){let r={name:e.name,field:e.field,datatype:e.datatype};r.field||(r.field=e.name),e.colors&&(r.colors=e.colors),e.editable&&(r.editable=!0),e.subgroup&&(r.subgroup=e.subgroup,r.sgindex=e.sgindex,r.sgtype=e.sgtype);const o=e.columnGroup;o&&this.columnGroups[o]&&this.columnGroups[o].columns.push(e.field),"text"===e.datatype?r.values=e.values:"double"===e.datatype||"integer"===e.datatpe?(r.colorLogScale=e.colorLogScale,r.minMax=e.minMax):r.stringLength=e.stringLength,this.columns.push(r),this.columnIndex[r.field]=r,t&&this.setColumnData(e.field,t),n&&(this.dirtyColumns.added[e.field]=!0)}addColumnFromField(e){const t=e.split("_"),n=this.subtypeToGroup[t[0]].subgroups[t[0]];this.addColumn({name:t[1],field:e,datatype:"double",subgroup:n.name,sgindex:t[2],sgtype:n.type})}loadJsonData(e){const t={};for(let e in this.columns)t[e.field]=[];for(let n of e)for(let e in t)t[e].append(n[e]);for(let e of t)this.setSetColumnData(e,t[e])}getColumnList(e=null){const t=[];for(let n in this.columnIndex){const r=this.columnIndex[n];if(e)if("number"===e){if("text"===r.datatype||"unique"===r.datatype)continue}else if("all"!==e&&e!==r.datatype)continue;t.push({name:r.name,field:r.field,datatype:r.datatype})}return t.sort(((e,t)=>e.name.localeCompare(t.name)))}getDimension(e){if(!r.Z.types[e])throw`Adding non existent Dimension: ${e}`;const t=new r.Z.types[e](this);return this.dimensions.push(t),t}getRowAsObject(e,t){t||(t=this.columnsWithData);const n={};for(let r of t){const t=this.columnIndex[r];let o=t.data[e];"text"===t.datatype?o=t.values[o]:"double"===t.datatype||"integer"===t.datatype?isNaN(o)&&(o="missing"):o=this.textDecoder.decode(t.data.slice(e*t.stringLength,e*t.stringLength+t.stringLength)),n[r]=o}return n.__index__=e,n}getRowText(e,t){const n=this.columnIndex[t];return"unique"===n.datatype?this.textDecoder.decode(n.data.slice(e*n.stringLength,e*n.stringLength+n.stringLength)).replaceAll("\0",""):"text"===n.datatype?n.values[n.data[e]]:n.data[e]}getColumnIndex(e){if(this.indexes[e])return this.indexes[e];const t=this.columnIndex[e],n={};for(let e=0;e<this.size;e++){let r=this.textDecoder.decode(t.data.slice(e*t.stringLength,e*t.stringLength+t.stringLength));r.includes("#")&&(r=r.split("#")[1]),n[r]=e}return this.indexes[e]=n,n}getDataAsBlob(e,t="all",n="\t",r="\n"){let o=null;"string"!=typeof t&&(o=t);const i=[],a=[],s=["index"];for(let t of e){const e=this.columnIndex[t];a.push(e),s.push(e.name)}const l=o?o.length:this.size;i.push(s.join(n));for(let e=0;e<l;e++){let r=e;if(o)r=o[e];else if("filtered"===t&&1===this.filterArray[e])continue;const s=[e];for(let e of a){let t=e.data[r];"text"===e.datatype?t=e.values[t]:"double"===e.datatype||"integer"===e.datatype?isNaN(t)&&(t=""):t=this.textDecoder.decode(e.data.slice(r*e.stringLength,r*e.stringLength+e.stringLength)),s.push(t)}i.push(s.join(n))}return new Blob([i.join(r)],{type:"text/plain"})}setColumnData(e,t){let n=this.columnIndex[e];if(!n)throw`column ${e} is not present in data store`;let r=null;if(r=Array.isArray(t)?this._convertColumn(n,t):t,n.buffer=r,"integer"===n.datatype||"double"==n.datatype){const e=n.data=new Float32Array(r);if(!n.minMax){let t=Number.MAX_VALUE,r=Number.MIN_VALUE;for(let n=0;n<e.length;n++){let o=e[n];isNaN(o)||(t=o<t?o:t,r=o>r?o:r)}n.minMax=[t,r]}if(!n.quantiles){const e=n.data.filter((e=>!isNaN(e))).sort();n.quantiles={};for(let t of[.05,.01,.001])n.quantiles[t]=[y(e,t),y(e,1-t)]}}else n.data=new Uint8Array(r);this.columnsWithData.push(e)}appendColumnData(e,t,n){let r=this.columnIndex[e],o=Uint8Array,i=n;"integer"===r.datatype||"double"==r.datatype?(o=Float32Array,i*=4):"unique"===r.datatype&&(i*=r.stringLength);let a=new SharedArrayBuffer(i),s=new o(a);s.set(r.data),s.set(new o(t),r.data.length),r.data=s,r.buffer=a}addDataToStore(e,t){const n=t+this.size;for(let t of e)this.appendColumnData(t.column,t.data,n);let r=new SharedArrayBuffer(n),o=new Uint8Array(r);o.set(this.filterArray),this.filterBuffer=r,this.filterArray=o,this.size=n,this.filterSize+=t;for(let e of this.dimensions)e.updateSize();this._callListeners("data_added",this.size)}cleanColumnData(e){const t={},n=this.columnIndex[e];for(let e in n.values)t[e]=0;for(let e=0;e<this.size;e++)t[n.data[e]]++;const r=[],o={};for(let e=0;e<n.values.length;e++)0!==t[e]&&(r.push(n.values[e]),o[e]=r.length-1);for(let e=0;e<this.size;e++)n.data[e]=o[n.data[e]];n.values=r,this.setColumnIsDirty(e),this.dataChanged([e])}_convertColumn(e,t){const n=t.length;if("text"===e.datatype){const r=new SharedArrayBuffer(this.size),o={};for(let e=0;e<n;e++){const n=t[e];void 0===o[n]?o[n]=1:o[n]++}const i=[];for(let e in o)i.push([e,o[e]]);e.values=[];const a={};i.sort(((e,t)=>t[1]-e[1]));for(let t=0;t<i.length;t++)e.values.push(i[t][0]),a[i[t][0]]=t;const s=new Uint8Array(r);for(let e=0;e<n;e++)s[e]=a[t[e]];return r}if("integer"===e.datatype||"double"===e.datatype){const e=new SharedArrayBuffer(4*this.size),r=new Float32Array(e);for(let e=0;e<n;e++)r[e]=t[e];return e}{let r=0;for(let e=0;e<n;e++)r=Math.max(r,t[e].length);e.stringLength=r;const o=new TextEncoder,i=new SharedArrayBuffer(this.size*r);for(let e=0;e<n;e++){const n=o.encode(t[e].substring(0,r));new Uint8Array(i,e*r,r).set(n,0)}return i}}getColorFunction(e,t={}){const n=this.columnIndex[e],r=n.data,o=t.overideValues||{};let i=this.getColumnColors(e,t);if("text"===n.datatype)return e=>i[r[e]];if("integer"===n.datatype||"double"===n.datatype){const e=null==o.min?n.minMax[0]:o.min,a=null==o.max?n.minMax[1]:o.max,s=t.bins||100,l=(a-e)/s,c=t.asArray?[255,255,255]:"#ffffff";return t.useValue?t=>{if(isNaN(t))return c;let n=Math.floor((t-e)/l);return n<0?n=0:n>=i.length&&(n=i.length-1),i[n]}:t=>{const n=r[t];if(isNaN(n))return c;let o=Math.floor((n-e)/l);return o<0?o=0:o>=i.length&&(o=i.length-1),i[o]||console.log("www"),i[o]}}}getColorLegend(e,t={}){const n=this.getColumnColors(e,t),r=this.columnIndex[e],o=t.name||r.name;if("integer"===r.datatype||"double"===r.datatype){let e=r.minMaX;if(t.overideValues){const n=t.overideValues;e=[null==n.min?r.minMax[0]:n.min,null==n.max?r.minMax[1]:n.max]}return function(e,t={}){const n=t,r=e.length,o=e.map(((e,t)=>[Math.floor(t/r*100)+"%",e])),i=n.width||120,a=n.height||45,s=(0,m.dl)("svg",{height:a,width:i,styles:{position:"relative"}}),c=(0,g.Z)(s).append("g"),f=(0,v.z)();n.label&&c.append("text").text(n.label).attr("x",10).style("fill","currentColor").attr("alignment-baseline","hanging").style("font-size","12px");const u=c.append("defs").append("linearGradient").attr("id",f).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("spreadMethod","pad");let d=a;if(n.label&&(d-=10),n.range&&(d-=25),c.append("rect").attr("x",n.range?10:0).attr("y",n.label?10:0).attr("width",n.range?i-20:20).attr("height",d).style("fill",`url(#${f})`),o.forEach((e=>{u.append("stop").attr("offset",e[0]).attr("stop-color",e[1]).attr("stop-opacity",1)})),n.range){const e=(0,l.Z)().domain([n.range[0],n.range[1]]).range([0,i-20]),t=(0,_.LL)(e).tickFormat(((e,t)=>e>=1e4?Number.parseFloat(e).toPrecision(2):e)).ticks(Math.ceil(i/20));c.append("g").call(t).attr("transform",`translate(10,${a-25})`).selectAll("text").style("text-anchor","end").attr("dx","-.4em").attr("dy",".4em").attr("transform","rotate(-45)")}const h=(0,m.ut)("div",{height:a,width:i,styles:{position:"absolute"}});return h.append(s),(0,m.$q)(h),h}(n,{range:e,label:o})}if("text"===r.datatype)return function(e,t,n={}){const r=e.length,o=12*r+2*(r+2),i=(0,m.ut)("div",{styles:{width:"120px",height:(o>215?215:o)+35+"px",position:"absolute",border:"0.5px solid black"}});(0,m.ut)("div",{styles:{height:"20px"},classes:["legend-title"],text:n.label},i);const a=(0,m.ut)("div",{styles:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 25px)",width:"100%"},classes:["legend-body"]},i),s=(0,m.dl)("svg",{height:o,width:180,styles:{position:"relative"}},a),l=(0,m.dl)("g",{},s);for(let n=0;n<r;n++)(0,m.dl)("rect",{y:2*(n+1)+12*n,x:2,height:"10",width:"10",styles:{fill:e[n]}},l),(0,m.dl)("text",{y:2*(n+1)+12*n+6,x:14,"alignment-baseline":"middle",styles:{"font-size":"12px",fill:"currentColor"},text:""===t[n]?"none":t[n]},l);return(0,m.$q)(i,{handle:".legend-body"}),(0,m.n2)(i),i}(n,r.values,{label:o})}getValueToColor(e){const t={},n=this.getColumnColors(e),r=this.getColumnValues(e);for(let e=0;e<r.length;e++)t[r[e]]=n[e];return t}setColumnColors(e,t){this.columnIndex[e].colors=t.slice(0),this.dirtyColumns.colors_changed[e]=!0}getColumnColors(e,t={}){const n=this.columnIndex[e],r=t.asArray;if("double"===n.datatype||"integer"===n.datatype){const e=t.overideValues||{},i=e.colors||n.colors||k,a=e.min||n.minMax[0],s=e.max||n.minMax[1],c=function(e,t,n){for(var r=[],o=(t-e)/(n-1),i=0;i<n-1;)r.push(e+i*o),i++;return r.push(t),r}(a,s,i.length),f=(0,l.Z)().domain(c).range(i).clamp(!0),u=t.bins||100,d=(s-a)/u;let h=new Array(u+1);for(let e=0;e<u+1;e++)h[e]=f(a+e*d),r&&(h[e]=(o=h[e])?(o=o.substring(4,o.length-1).split(", ")).map((e=>parseInt(e))):[255,255,255]);let m=n.colorLogScale;if(null!=e.colorLogScale&&(m=e.colorLogScale),m){const e=p().domain([a,s]).range([0,u]).clamp(!0),t=new Array(u+1);for(let n=0;n<u+1;n++)t[n]=h[Math.floor(e(a+n*d))];h=t}return h}var o;if("text"===n.datatype){let e=n.colors||C.slice(0,n.values.length);return r&&(e=e.map((e=>w(e)))),e}}addColumnGroup(e){if(e.columns||(e.columns=[]),this.columnGroups[e.name]=e,e.subgroups)for(let t in e.subgroups)this.subtypeToGroup[t]=e}getColumnGroup(e){const t=this.columnGroups[e];return t?t.columns:null}getRawColumn(e){return this.columnIndex[e].data}getMinMaxForColumn(e){return this.columnIndex[e].minMax}getColumnRange(e){const t=this.columnIndex[e];return t.minMax[1]-t.minMax[0]}getColumnInfo(e){const t=this.columnIndex[e];return{name:t.name,field:t.field,datatype:t.datatype,stringLength:t.stringLength,subgroup:t.subgroup,sgindex:t.sgindex,sgtype:t.sgtype}}getLoadedColumns(){return this.columns.filter((e=>null!=e.data)).map((e=>e.field))}getAllColumns(){return this.columns.map((e=>e.field))}getColumnValues(e){return this.columnIndex[e].values}getColumnName(e){const t=this.columnIndex[e];return t?t.name:null}removeColumn(e,t=!1,n=!1){const r=this.columnIndex[e];r.data=null,r.buffer=null,this.columns=this.columns.filter((t=>t.field!==e)),delete this.columnIndex[e];const o=this.columnsWithData.indexOf(e);-1!==o&&this.columnsWithData.splice(o,1),t&&(this.dirtyColumns.added[e]?delete this.dirtyColumns.added[e]:this.dirtyColumns.removed[e]=!0),n&&this._callListeners("column_removed",e)}}},8796:(e,t,n)=>{"use strict";var r=n(3117),o=n(8970);class i extends r.Z{constructor(e){super(e),this.worker.terminate(),this.worker=new Worker(new URL(n.p+n.u(637),n.b))}getDensityContours(e,t,n={}){const r=performance.now(),o=this.parent.columnIndex;this.worker.onmessage=t=>{console.log("calc density contours  "+(performance.now()-r)),e(t.data)},this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,o[t[0]].buffer,o[t[1]].buffer,o[t[2]].buffer,n])}}o.Z.types.density_dimension=i},8970:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});class r{constructor(e){this.filterBuffer=new SharedArrayBuffer(e.size),this.parent=e,this.filterArray=new Uint8Array(this.filterBuffer),this.filterArguments=null,this.filterIndexes=null,this.filterMethod=null}removeFilter(e=!0){if(!this.filterMethod)return;const t=this.parent.filterArray,n=this.filterArray,r=this.parent,o=this.parent.size;delete this.filterArguments,delete this.filterColumns,delete this.filterMethod;for(let e=0;e<o;e++)1===n[e]&&(0==--t[e]&&r.filterSize++,n[e]=0);if(this.bgfArray)for(let e=0;e<o;e++)0===this.bgfArray[e]&&(0==--t[e]&&r.filterSize++,n[e]=2);e&&this.parent._callListeners("filtered",this)}getLocalFilter(){return this.filterArray}filterOnIndex(e){const t=this.parent.filterArray,n=this.parent.size,r=this.filterArray,o=this.parent;for(let i=0;i<n;i++)e.has(i)?(1===r[i]&&0==--t[i]&&o.filterSize++,r[i]=0):(0===r[i]&&1==++t[i]&&o.filterSize--,r[i]=1)}filter(e,t,n,r=!0){const o=performance.now();if(this.filterColumns=t,this.filterArguments=n,this.filterMethod=e,this[e](n,t),this.bgfArray){const e=this.parent.filterArray,t=this.parent.size,n=this.filterArray,r=this.parent;for(let o=0;o<t;o++)0===this.bgfArray[o]&&(1==++e[o]&&r.filterSize--,n[o]=2)}r&&this.parent._callListeners("filtered",this),console.log(`method${e}: ${performance.now()-o}`)}reFilterOnDataChanged(e){if(this.filterMethod&&this.filterColumns)for(let t of this.filterColumns)if("string"==typeof t&&-1!==e.indexOf(t))return this.filter(this.filterMethod,this.filterColumns,this.filterArguments,!1),!0;return!1}updateSize(){let e=new SharedArrayBuffer(this.parent.size),t=new Uint8Array(e);t.set(this.filterArray),this.filterBuffer=e,this.filterArray=t,this.filterMethod&&this.filter(this.filterMethod,this.filterColumns,this.filterArguments,!1)}setBackgroundFilter(e,t){const n=this.parent.columnIndex[e],r=n.values.indexOf(t),o=n.data;this.bgfArray=new Uint8Array(this.parent.size);for(let e=0;e<this.parent.size;e++)o[e]===r?this.bgfArray[e]=1:this.filterArray[e]=2}clearBackGroundFilter(){}destroy(e=!0){this.removeFilter(e),this.filterBuffer=null,this.localFilter=null,this.parent.dimensions.splice(this.parent.dimensions.indexOf(this),1)}}r.types={base_dimension:r};const o=r},3117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8970);class o extends r.Z{constructor(e,t){super(e,t),this.worker=new Worker(new URL(n.p+n.u(802),n.b))}filterSquare(e,t){let n=null;n="string"!=typeof t[0]?t[0]:this.parent.columnIndex[t[0]].data;const r=this.parent.columnIndex[t[1]].data,o=this.parent.filterArray,i=this.parent,a=e.range1,s=e.range2,l=this.filterArray;for(let e=0;e<this.parent.size;e++){const t=n[e],c=r[e];this.bgfArray&&1===this.bgfArray[e]||t<a[0]||t>a[1]||c<s[0]||c>s[1]||isNaN(t)||isNaN(c)?(0===l[e]&&1==++o[e]&&i.filterSize--,l[e]=1):(1===l[e]&&0==--o[e]&&i.filterSize++,l[e]=0)}}filterPoly(e,t){const n=e;let r=Number.MAX_VALUE,o=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;for(let e of n)r=Math.min(r,e[0]),i=Math.max(i,e[0]),o=Math.min(o,e[1]),a=Math.max(a,e[1]);let s=null;s="string"!=typeof t[0]?t[0]:this.parent.columnIndex[t[0]].data;const l=this.parent.columnIndex[t[1]].data,c=this.parent.filterArray,f=this.parent,u=f.size,d=n,h=this.filterArray;for(let e=0;e<u;e++){let t=s[e],n=l[e],u=!1;if(t<r||t>i||n<o||n>a||isNaN(t)||isNaN(n))0===h[e]&&1==++c[e]&&f.filterSize--,h[e]=1;else{for(let e=0,r=d.length-1;e<d.length;r=e++){let o=d[e][0],i=d[e][1],a=d[r][0],s=d[r][1];i>n!=s>n&&t<(a-o)*(n-i)/(s-i)+o&&(u=!u)}u?(1===h[e]&&0==--c[e]&&f.filterSize++,h[e]=0):(0===h[e]&&1==++c[e]&&f.filterSize--,h[e]=1)}}}filterRange(e,t){const n=e.min,r=e.max,o=this.parent.columnIndex[t[0]].data,i=this.parent.filterArray,a=this.filterArray,s=this.parent;for(let e=0;e<this.parent.size;e++){const t=o[e];t<n||t>r||isNaN(t)?(0===a[e]&&1==++i[e]&&s.filterSize--,a[e]=1):(1===a[e]&&0==--i[e]&&s.filterSize++,a[e]=0)}}getBins(e,t,n={}){const r=this.parent.columnIndex[t];n.bins=void 0===n.bins?10:n.bins,n.min=void 0===n.min?r.minMax[0]:n.min,n.max=void 0===n.max?r.minMax[1]:n.max;const o=performance.now();this.worker.onmessage=t=>{console.log(`calculate bins ${r.name} : ${performance.now()-o}`),e(t.data)},this.worker.postMessage([this.filterBuffer,this.parent.filterBuffer,r.buffer,n])}destroy(){super.destroy(),this.worker.terminate()}}r.Z.types.range_dimension=o;const i=o},2024:(e,t,n)=>{"use strict";function r(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function o(){this.__nonDataRow=!0}function i(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function s(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw new Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!t.commitCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!t.cancelCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");e=t}},this.deactivate=function(t){if(e){if(e!==t)throw new Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");e=null}},this.commitCurrentEdit=function(){return!e||e.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!e||e.cancelCurrentEdit()}}n.d(t,{v:()=>l}),i.prototype=new o,i.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},a.prototype=new o;const l={Event:function(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},this.notify=function(t,n,o){var i;n=n||new r,o=o||this;for(var a=0;a<e.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();a++)i=e[a].call(o,n,t);return i}},EventData:r,EventHandler:function(){var e=[];this.subscribe=function(t,n){return e.push({event:t,handler:n}),t.subscribe(n),this},this.unsubscribe=function(t,n){for(var r=e.length;r--;)if(e[r].event===t&&e[r].handler===n)return e.splice(r,1),void t.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}},Range:function(e,t,n,r){void 0===n&&void 0===r&&(n=e,r=t),this.fromRow=Math.min(e,n),this.fromCell=Math.min(t,r),this.toRow=Math.max(e,n),this.toCell=Math.max(t,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},Map:"Map"in window?window.Map:function(){var e={};this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n},this.has=function(t){return t in e},this.delete=function(t){delete e[t]}},NonDataRow:o,Group:i,GroupTotals:a,EditorLock:s,GlobalEditorLock:new s,TreeColumns:function(e){var t={};function n(e,t){return e.filter((function(e){var r=t.call(e);return r&&e.columns&&(e.columns=n(e.columns,t)),r&&(!e.columns||e.columns.length)}))}function r(e,t){e.sort((function(e,n){return o(t.getColumnIndex(e.id))-o(t.getColumnIndex(n.id))})).forEach((function(e){e.columns&&r(e.columns,t)}))}function o(e){return void 0===e?-1:e}function i(e){if(!e.length)return e.columns?1+i(e.columns):1;for(var t in e)return i(e[t])}function a(e,t,n){var r=[];if(t==(n=n||0))return e.length&&e.forEach((function(e){e.columns&&(e.extractColumns=function(){return s(e)})})),e;for(var o in e)e[o].columns&&(r=r.concat(a(e[o].columns,t,n+1)));return r}function s(e){var t=[];if(e.hasOwnProperty("length"))for(var n=0;n<e.length;n++)t=t.concat(s(e[n]));else{if(!e.hasOwnProperty("columns"))return e;t=t.concat(s(e.columns))}return t}function l(){return JSON.parse(JSON.stringify(nodesArray))}(function e(n){n.forEach((function(n){t[n.id]=n,n.columns&&e(n.columns)}))})(e),this.hasDepth=function(){for(var t in e)if(e[t].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return e},this.extractColumns=function(){return this.hasDepth()?s(e):e},this.getDepth=function(){return i(e)},this.getColumnsInDepth=function(t){return a(e,t)},this.getColumnsInGroup=function(e){return s(e)},this.visibleColumns=function(){return n(l(),(function(){return this.visible}))},this.filter=function(e){return n(l(),e)},this.reOrder=function(t){return r(e,t)},this.getById=function(e){return t[e]},this.getInIds=function(e){return e.map((function(e){return t[e]}))}},keyCode:{SPACE:8,BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,A:65},preClickClassName:"slick-edit-preclick",GridAutosizeColsMode:{None:"NOA",LegacyOff:"LOF",LegacyForceFit:"LFF",IgnoreViewport:"IGV",FitColsToViewport:"FCV",FitViewportToCols:"FVC"},ColAutosizeMode:{Locked:"LCK",Guide:"GUI",Content:"CON",ContentIntelligent:"CTI"},RowSelectionMode:{FirstRow:"FS1",FirstNRows:"FSN",AllRows:"ALL",LastRow:"LS1"},ValueFilterMode:{None:"NONE",DeDuplicate:"DEDP",GetGreatestAndSub:"GR8T",GetLongestTextAndSub:"LNSB",GetLongestText:"LNSC"},WidthEvalMode:{CanvasTextSize:"CANV",HTML:"HTML"}}},626:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zn:()=>SlickGrid,H4:()=>TextEditor,A5:()=>Overlays});var _Slick_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2024),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9755),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_utilities_Elements_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1445);const jQuery=jquery__WEBPACK_IMPORTED_MODULE_1___default();var scrollbarDimensions,maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GlobalEditorLock,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,frozenRightViewportMinWidth:100,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,enableMouseWheelScrollHandler:!0,doPaging:!0,autosizeColsMode:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyOff,autosizeColPaddingPx:4,autosizeTextAvgToMWidthRatio:.75,viewportSwitchToScrollModeWidthPercent:void 0,viewportMinWidthPx:void 0,viewportMaxWidthPx:void 0,suppressCssChangesOnHiddenInit:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},columnAutosizeDefaults={ignoreHeaderText:!1,colValueArray:void 0,allowAddlPercent:void 0,formatterOverride:void 0,autosizeMode:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.ContentIntelligent,rowSelectionModeOnInit:void 0,rowSelectionMode:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.FirstNRows,rowSelectionCount:100,valueFilterMode:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.None,widthEvalMode:_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.WidthEvalMode.CanvasTextSize,sizeToRemaining:void 0,widthPx:void 0,colDataTypeOf:void 0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=jquery__WEBPACK_IMPORTED_MODULE_1___default()(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$preHeaderPanel,$preHeaderPanelScroller,$preHeaderPanelSpacer,$preHeaderPanelR,$preHeaderPanelScrollerR,$preHeaderPanelSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],pagingActive=!1,pagingIsLastPage=!1,scrollThrottle=ActionThrottle(render,50),h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[],columnResizeDragging=!1,__doc__=document;function init(){if(($container=container instanceof jquery__WEBPACK_IMPORTED_MODULE_1___default()?container:jquery__WEBPACK_IMPORTED_MODULE_1___default()(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");if(options.suppressCssChangesOnHiddenInit||cacheCssForHiddenInit(),maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),options=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,treeColumns=new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.TreeColumns(columns),columns=treeColumns.extractColumns(),updateColumnProps(),options.enableColumnReorder&&!jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit,cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),options.createPreHeaderPanel&&($preHeaderPanelScroller=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderL),$preHeaderPanel=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div />").appendTo($preHeaderPanelScroller),$preHeaderPanelSpacer=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScroller),$preHeaderPanelScrollerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderR),$preHeaderPanelR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div />").appendTo($preHeaderPanelScrollerR),$preHeaderPanelSpacerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScrollerR),options.showPreHeaderPanel||($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide())),$headerScrollerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-header ui-state-default slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-header ui-state-default slick-header-right' />").appendTo($paneHeaderR),$headerScroller=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var e=0;e<treeColumns.getDepth()-1;e++)$groupHeadersL[e]=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[e]=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($groupHeadersL).add($groupHeadersR)}$headerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").data("__doc__",__doc__).appendTo($headerScrollerL),$headerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($headerL).add($headerR),$headerRowScrollerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopL),$headerRowScrollerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopR),$headerRowScroller=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerL),$headerRowSpacerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerR),$headerRowL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($headerRowL).add($headerRowR),$topPanelScrollerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopL),$topPanelScrollerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopR),$topPanelScroller=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($topPanelL).add($topPanelR),options.showColumnHeader||$headerScroller.hide(),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),options.viewportClass&&$viewport.toggleClass(options.viewportClass,!0),$canvas=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),$activeCanvasNode=$canvasTopL,$preHeaderPanelSpacer&&$preHeaderPanelSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headers.width(getHeadersWidth()),$headerRowSpacerL.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headerRowSpacerR.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),options.createFooterRow&&($footerRowScrollerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopR),$footerRowScrollerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopL),$footerRowScroller=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.on("selectstart.ui",(function(e){return jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).is("input,textarea")})),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.on("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),jQuery.fn.mousewheel&&options.enableMouseWheelScrollHandler&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.on("contextmenu",handleHeaderContextMenu).on("click",handleHeaderClick).on("mouseenter",".slick-header-column",handleHeaderMouseEnter).on("mouseleave",".slick-header-column",handleHeaderMouseLeave),$headerRowScroller.on("scroll",handleHeaderRowScroll),options.createFooterRow&&($footerRow.on("contextmenu",handleFooterContextMenu).on("click",handleFooterClick),$footerRowScroller.on("scroll",handleFooterRowScroll)),options.createPreHeaderPanel&&$preHeaderPanelScroller.on("scroll",handlePreHeaderPanelScroll),$focusSink.add($focusSink2).on("keydown",handleKeyDown),$canvas.on("keydown",handleKeyDown).on("click",handleClick).on("dblclick",handleDblClick).on("contextmenu",handleContextMenu).on("draginit",handleDragInit).on("dragstart",{distance:3},handleDragStart).on("drag",handleDrag).on("dragend",handleDragEnd).on("mouseenter",".slick-cell",handleMouseEnter).on("mouseleave",".slick-cell",handleMouseLeave),options.suppressCssChangesOnHiddenInit||restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each((function(){var e={};for(var t in cssShow)e[t]=this.style[t],this.style[t]=cssShow[t];oldProps.push(e)}))}function restoreCssFromHiddenInit(){$hiddenParents.each((function(e){var t=oldProps[e];for(var n in cssShow)this.style[n]=t[n]}))}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function getPluginByName(e){for(var t=plugins.length-1;t>=0;t--)if(plugins[t].pluginName===e)return plugins[t]}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=e)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(e,t){return _getContainerElement(getCanvases(),e,t)}function getActiveCanvasNode(e){return setActiveCanvasNode(e),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(e){e&&($activeCanvasNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".grid-canvas"))}function getViewportNode(e,t){return _getContainerElement(getViewports(),e,t)}function getViewports(){return $viewport}function getActiveViewportNode(e){return setActiveViewportNode(e),$activeViewportNode[0]}function setActiveViewportNode(e){e&&($activeViewportNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-viewport"))}function _getContainerElement(e,t,n){if(e){t||(t=0),n||(n=0);var r="number"==typeof t?t:getColumnIndex(t);return e[(hasFrozenRows&&n>=actualFrozenRow+(options.frozenBottom?0:1)?2:0)+(hasFrozenColumns()&&r>options.frozenColumn?1:0)]}}function measureScrollbar(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div class="'+$viewport.className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo("body"),t=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(e),n={width:e[0].offsetWidth-e[0].clientWidth,height:e[0].offsetHeight-e[0].clientHeight};return t.remove(),e.remove(),n}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var e=!options.autoHeight,t=0,n=columns.length;t<n;t++){var r=columns[t].width;options.frozenColumn>-1&&t>options.frozenColumn?headersWidthR+=r:headersWidthL+=r}return e&&(options.frozenColumn>-1&&t>options.frozenColumn?headersWidthR+=scrollbarDimensions.width:headersWidthL+=scrollbarDimensions.width),hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR,Math.max(headersWidth,viewportW)+1e3}function getHeadersWidthL(){return headersWidthL=0,columns.forEach((function(e,t){options.frozenColumn>-1&&t>options.frozenColumn||(headersWidthL+=e.width)})),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach((function(e,t){options.frozenColumn>-1&&t>options.frozenColumn&&(headersWidthR+=e.width)})),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=columns.length;for(canvasWidthL=canvasWidthR=0;t--;)hasFrozenColumns()&&t>options.frozenColumn?canvasWidthR+=columns[t].width:canvasWidthL+=columns[t].width;var n=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(n,e):n}function updateCanvasWidth(e){var t,n=canvasWidth,r=canvasWidthL,o=canvasWidthR;((t=(canvasWidth=getCanvasWidth())!==n||canvasWidthL!==r||canvasWidthR!==o)||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),options.createFooterRow&&($footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR)),options.createPreHeaderPanel&&$preHeaderPanel.width(canvasWidth),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),options.createFooterRow&&($footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth)),options.createPreHeaderPanel&&($preHeaderPanel.width("100%"),$preHeaderPanel.width(canvasWidth)),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>=viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),options.createFooterRow&&($footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0))),(t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",(function(){return!1}))}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div style='display:none' />").appendTo(__doc__.body);;){var r=2*e;if(n.css("height",r),r>t||n.height()!==r)break;e=r}return n.remove(),e}function getUID(){return uid}function getHeaderColumnWidthDiff(){return headerColumnWidthDiff}function getScrollbarDimensions(){return scrollbarDimensions}function bindAncestorScrollEvents(){for(var e=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(e=e.parentNode)!=__doc__.body&&null!=e;)if(e==$viewportTopL[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.on("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.off("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var r=getColumnIndex(e);if(null!=r){var o=columns[r],i=$headers.children().eq(r);i&&(void 0!==t&&(columns[r].name=t),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:o,grid:self}),i.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:i[0],column:o,grid:self}))}}}function getHeader(e){if(!e)return hasFrozenColumns()?$headers:$headerL;var t=getColumnIndex(e.id);return hasFrozenColumns()?t<=options.frozenColumn?$headerL:$headerR:$headerL}function getHeaderColumn(e){var t="number"==typeof e?e:getColumnIndex(e),n=hasFrozenColumns()?t<=options.frozenColumn?$headerL:$headerR:$headerL,r=hasFrozenColumns()?t<=options.frozenColumn?t:t-options.frozenColumn-1:t,o=n.children().eq(r);return o&&o[0]}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getPreHeaderPanel(){return $preHeaderPanel[0]}function getPreHeaderPanelRight(){return $preHeaderPanelR[0]}function getHeaderRowColumn(e){var t,n="number"==typeof e?e:getColumnIndex(e);hasFrozenColumns()?n<=options.frozenColumn?t=$headerRowL:(t=$headerRowR,n-=options.frozenColumn+1):t=$headerRowL;var r=t.children().eq(n);return r&&r[0]}function getFooterRowColumn(e){var t,n="number"==typeof e?e:getColumnIndex(e);hasFrozenColumns()?n<=options.frozenColumn?t=$footerRowL:(t=$footerRowR,n-=options.frozenColumn+1):t=$footerRowL;var r=t&&t.children().eq(n);return r&&r[0]}function createColumnFooter(){if(options.createFooterRow){$footerRow.find(".slick-footerrow-column").each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e,grid:self})})),$footerRowL.empty(),$footerRowR.empty();for(var e=0;e<columns.length;e++){var t=columns[e],n=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",t).addClass(hasFrozenColumns()&&e<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:n[0],column:t,grid:self})}}}function createColumnGroupHeaders(){var e=0,t=!1;if(treeColumns.hasDepth()){for(var n=0;n<$groupHeadersL.length;n++){$groupHeadersL[n].empty(),$groupHeadersR[n].empty();var r=treeColumns.getColumnsInDepth(n);for(var o in r){var i=r[o];e+=i.extractColumns().length,hasFrozenColumns()&&0===n&&e-1===options.frozenColumn&&(t=!0),jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+i.name+"</span>").attr("id",""+uid+i.id).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").addClass(hasFrozenColumns()&&e-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e-1>options.frozenColumn?$groupHeadersR[n]:$groupHeadersL[n])}if(hasFrozenColumns()&&0===n&&!t){$groupHeadersL[n].empty(),$groupHeadersR[n].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function e(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass("ui-state-hover")}function t(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e,grid:self})})),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e,grid:self})})),$headerRowL.empty(),$headerRowR.empty(),options.createFooterRow&&($footerRowL.find(".slick-footerrow-column").each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e,grid:self})})),$footerRowL.empty(),hasFrozenColumns()&&($footerRowR.find(".slick-footerrow-column").each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e,grid:self})})),$footerRowR.empty()));for(var n=0;n<columns.length;n++){var r=columns[n],o=hasFrozenColumns()?n<=options.frozenColumn?$headerL:$headerR:$headerL,i=hasFrozenColumns()?n<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,a=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).data("__doc__",__doc__).addClass(r.headerCssClass||"").addClass(hasFrozenColumns()&&n<=options.frozenColumn?"frozen":"").appendTo(o);if((options.enableColumnReorder||r.sortable)&&a.on("mouseenter",e).on("mouseleave",t),a.on("dragstart",((e,t)=>{t.target.style.zIndex=1,t.target.style.opacity=.6})).on("drag",((e,t)=>{t.target.style.left=t.offsetX-t.originalX+1e3+"px"})).on("dragend",((e,t)=>{if(Math.abs(t.deltaX)<5)return t.target.style.opacity=1,void(t.target.style.zIndex="");const n=jquery__WEBPACK_IMPORTED_MODULE_1___default()(t.target).data("column");let r=0;const o=[];let i=0;for(let e of columns)o.push(i),e===n&&(r=i),i+=e.width;o.push(i+1e3);const a=[];let s=r+t.deltaX;s<0&&a.push(n);for(let e=0;e<columns.length;e++)columns[e]!==n&&a.push(columns[e]),s>o[e]&&s<o[e+1]&&(a.push(n),s=-1e3);setColumns(columns=a)})),r.hasOwnProperty("headerCellAttrs")&&r.headerCellAttrs instanceof Object)for(var s in r.headerCellAttrs)r.headerCellAttrs.hasOwnProperty(s)&&a.attr(s,r.headerCellAttrs[s]);if(r.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator"+(options.numberedMultiColumnSort&&!options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")+"' />"),options.numberedMultiColumnSort&&options.sortColNumberInSeparateSpan&&a.append("<span class='slick-sort-indicator-numbered' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:r,grid:self}),options.showHeaderRow){var l=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).addClass(hasFrozenColumns()&&n<=options.frozenColumn?"frozen":"").appendTo(i);trigger(self.onHeaderRowCellRendered,{node:l[0],column:r,grid:self})}if(options.createFooterRow&&options.showFooterRow){var c=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-footerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:c[0],column:r,grid:self})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&("function"==typeof options.enableColumnReorder?options.enableColumnReorder(self,$headers,headerColumnWidthDiff,setColumns,setupColumnResize,columns,getColumnIndex,uid,trigger):setupColumnReorder())}function setupColumnSort(){$headers.click((function(e){if(!columnResizeDragging&&(e.metaKey=e.metaKey||e.ctrlKey,!jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).hasClass("slick-resizable-handle"))){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,o=0;o<sortColumns.length;o++)if(sortColumns[o].columnId==n.id){(r=sortColumns[o]).sortAsc=!r.sortAsc;break}var i=!!r;options.tristateMultiColumnSort?(r||(r={columnId:n.id,sortAsc:n.defaultSortAsc}),i&&r.sortAsc&&(sortColumns.splice(o,1),r=null),options.multiColumnSort||(sortColumns=[]),!r||i&&options.multiColumnSort||sortColumns.push(r)):e.metaKey&&options.multiColumnSort?r&&sortColumns.splice(o,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0===sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:jquery__WEBPACK_IMPORTED_MODULE_1___default().map(sortColumns,(function(e){return{columnId:columns[getColumnIndex(e.columnId)].id,sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}}))},e):trigger(self.onSort,{multiColumnSort:!1,columnId:sortColumns.length>0?n.id:null,sortCol:sortColumns.length>0?n:null,sortAsc:!(sortColumns.length>0)||sortColumns[0].sortAsc},e)}}}}))}function currentPositionInHeader(e){var t=0;return $headers.find(".slick-header-column").each((function(n){if(this.id==e)return t=n,!1})),t}function limitPositionInGroup(e){var t,n=0,r=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some((function(o){return n=r,r+=o.columns.length,o.columns.some((function(n){return n.id===e&&(t=o),t})),t})),r--,{start:n,end:r,group:t}}function remove(e,t){var n=e.lastIndexOf(t);n>-1&&(e.splice(n,1),remove(e,t))}function columnPositionValidInGroup(e){var t=currentPositionInHeader(e[0].id),n=limitPositionInGroup(e.data("column").id),r=n.start<=t&&t<=n.end;return{limit:n,valid:r,message:r?"":'Column "'.concat(e.text(),'" can be reordered only within the "',n.group.name,'" group!')}}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy");var e,t=null;function n(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function r(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(t,n){n.placeholder.width(n.helper.outerWidth()-headerColumnWidthDiff),e=!hasFrozenColumns()||n.placeholder.offset().left+n.placeholder.width()>$viewportScrollContainerX.offset().left,jquery__WEBPACK_IMPORTED_MODULE_1___default()(n.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){jquery__WEBPACK_IMPORTED_MODULE_1___default()(t.helper).removeClass("slick-header-column-active")},sort:function(o,i){e&&o.originalEvent.pageX>$container[0].clientWidth?t||(t=setInterval(n,100)):e&&o.originalEvent.pageX<$viewportScrollContainerX.offset().left?t||(t=setInterval(r,100)):(clearInterval(t),t=null)},stop:function(e,n){var r=!1;clearInterval(t),t=null;var o=null;if(treeColumns.hasDepth()){var i=columnPositionValidInGroup(n.item);o=i.limit,(r=!i.valid)&&alert(i.message)}if(!r&&getEditorLock().commitCurrentEdit()){var a=$headerL.sortable("toArray");a=a.concat($headerR.sortable("toArray"));for(var s=[],l=0;l<a.length;l++)s.push(columns[getColumnIndex(a[l].replace(uid,""))]);setColumns(s),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(o)}),e.stopPropagation(),setupColumnResize()}else jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).sortable("cancel")}})}function getImpactedColumns(e){var t=[];if(e)for(var n=e.start;n<=e.end;n++)t.push(columns[n]);else t=columns;return t}function setupColumnResize(){var e,t,n,r,o,i,a,s,l,c=0;(o=$headers.children()).find(".slick-resizable-handle").remove(),o.each((function(e,t){e>=columns.length||columns[e].resizable&&(void 0===s&&(s=e),l=e)})),void 0!==s&&o.each((function(f,u){f>=columns.length||f<s||options.forceFitColumns&&f>=l||(jquery__WEBPACK_IMPORTED_MODULE_1___default()(u),jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-resizable-handle' />").data("__doc__",__doc__).appendTo(u).on("dragstart",(function(t,s){if(!getEditorLock().commitCurrentEdit())return!1;r=t.pageX,c=0,jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parent().addClass("slick-header-column-active");var l=null,u=null;if(o.each((function(e,t){e>=columns.length||(columns[e].previousWidth=jquery__WEBPACK_IMPORTED_MODULE_1___default()(t).outerWidth())})),options.forceFitColumns)for(l=0,u=0,e=f+1;e<columns.length;e++)(n=columns[e]).resizable&&(null!==u&&(n.maxWidth?u+=n.maxWidth-n.previousWidth:u=null),l+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));var d=0,h=0;for(e=0;e<=f;e++)(n=columns[e]).resizable&&(null!==h&&(n.maxWidth?h+=n.maxWidth-n.previousWidth:h=null),d+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth));null===l&&(l=1e5),null===d&&(d=1e5),null===u&&(u=1e5),null===h&&(h=1e5),a=r+Math.min(l,h),i=r-Math.min(d,u)})).on("drag",(function(o,s){columnResizeDragging=!0;var l,u,d=Math.min(a,Math.max(i,o.pageX))-r,h=0,p=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;if(d<0){for(u=d,e=f;e>=0;e--)(n=columns[e]).resizable&&(l=Math.max(n.minWidth||0,absoluteColumnMinWidth),u&&n.previousWidth+u<l?(u+=n.previousWidth-l,n.width=l):(n.width=n.previousWidth+u,u=0));for(t=0;t<=f;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(u=-d,e=f+1;e<columns.length;e++)(n=columns[e]).resizable&&(u&&n.maxWidth&&n.maxWidth-n.previousWidth<u?(u-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+u,u=0),hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width);else for(e=f+1;e<columns.length;e++)n=columns[e],hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(u=-d,e=f+1;e<columns.length;e++)(n=columns[e]).resizable&&(u&&n.maxWidth&&n.maxWidth-n.previousWidth<u?(u-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+u,u=0))}else{for(u=d,h=0,e=f;e>=0;e--)if((n=columns[e]).resizable)if(u&&n.maxWidth&&n.maxWidth-n.previousWidth<u)u-=n.maxWidth-n.previousWidth,n.width=n.maxWidth;else{var m=n.previousWidth+u,g=canvasWidthL+u;hasFrozenColumns()&&e<=options.frozenColumn?(m>c&&g<p-options.frozenRightViewportMinWidth&&(c=m),n.width=g+options.frozenRightViewportMinWidth>p?c:m):n.width=m,u=0}for(t=0;t<=f;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?n.width:h+=n.width;if(options.forceFitColumns)for(u=-d,e=f+1;e<columns.length;e++)(n=columns[e]).resizable&&(l=Math.max(n.minWidth||0,absoluteColumnMinWidth),u&&n.previousWidth+u<l?(u+=n.previousWidth-l,n.width=l):(n.width=n.previousWidth+u,u=0),hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width);else for(e=f+1;e<columns.length;e++)n=columns[e],hasFrozenColumns()&&e>options.frozenColumn?n.width:h+=n.width}hasFrozenColumns()&&h!=canvasWidthL&&($headerL.width(h+1e3),$paneHeaderR.css("left",h)),applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths(),trigger(self.onColumnsDrag,{triggeredByColumn:jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parent().attr("id").replace(uid,""),resizeHandle:jquery__WEBPACK_IMPORTED_MODULE_1___default()(this)})})).on("dragend",(function(t,r){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parent().removeClass("slick-header-column-active");var i,a=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parent().attr("id").replace(uid,"");for(!0===trigger(self.onBeforeColumnsResize,{triggeredByColumn:a})&&(applyColumnHeaderWidths(),applyColumnGroupHeaderWidths()),e=0;e<columns.length;e++)n=columns[e],i=jquery__WEBPACK_IMPORTED_MODULE_1___default()(o[e]).outerWidth(),n.previousWidth!==i&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{triggeredByColumn:a}),setTimeout((function(){columnResizeDragging=!1}),300)})).on("dblclick",(function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).parent().attr("id").replace(uid,"");trigger(self.onColumnsResizeDblClick,{triggeredByColumn:e})})))}))}function getVBoxDelta(e){var t=0;return e&&"function"==typeof e.css&&jquery__WEBPACK_IMPORTED_MODULE_1___default().each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],(function(n,r){t+=parseFloat(e.css(r))||0})),t}function setFrozenOptions(){options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow>-1?(hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight,getDataLength(),actualFrozenRow=options.frozenBottom?dataLength-options.frozenRow:options.frozenRow):hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),hasFrozenRows?"scroll":"auto")}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),"auto")}),options.viewportClass&&($viewportTopL.toggleClass(options.viewportClass,!0),$viewportTopR.toggleClass(options.viewportClass,!0),$viewportBottomL.toggleClass(options.viewportClass,!0),$viewportBottomR.toggleClass(options.viewportClass,!0))}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.jquery.split(".");jQueryNewWidthBehaviour=1==r[0]&&r[1]>=8||r[0]>=2,e=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(jquery__WEBPACK_IMPORTED_MODULE_1___default().each(t,(function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0})),jquery__WEBPACK_IMPORTED_MODULE_1___default().each(n,(function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0}))),e.remove();var o=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-row' />").appendTo($canvas);e=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(o),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(jquery__WEBPACK_IMPORTED_MODULE_1___default().each(t,(function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0})),jquery__WEBPACK_IMPORTED_MODULE_1___default().each(n,(function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0}))),o.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<style type='text/css' rel='stylesheet'/>").appendTo(__doc__.head);for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-preheader-panel { height:"+options.preHeaderPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(__doc__.createTextNode(t.join(" ")))}function getColumnCssRules(e){var t;if(!stylesheet){var n=__doc__.styleSheets;for(let e=0;e<n.length;e++){if((n[e].ownerNode||n[e].owningElement)==$style[0]){stylesheet=n[e];break}if(n[e].rules[0].selectorText&&n[e].rules[0].selectorText.includes(uid)){stylesheet=n[e];break}}if(!stylesheet)throw new Error("SlickGrid Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,o,i=stylesheet.cssRules||stylesheet.rules;for(t=0;t<i.length;t++){var a=i[t].selectorText;(r=/\.l\d+/.exec(a))?(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[o]=i[t]):(r=/\.r\d+/.exec(a))&&(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[o]=i[t])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(e){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.off(".slickgrid"),removeCssRules(),$canvas.off(),$viewport.off(),$headerScroller.off(),$headerRowScroller.off(),$footerRow&&$footerRow.off(),$footerRowScroller&&$footerRowScroller.off(),$preHeaderPanelScroller&&$preHeaderPanelScroller.off(),$focusSink.off(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".slick-resizable-handle").off(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(".slick-header-column").off(),$container.empty().removeClass(uid),e&&destroyAllElements()}function destroyAllElements(){$activeCanvasNode=null,$activeViewportNode=null,$boundAncestors=null,$canvas=null,$canvasTopL=null,$canvasTopR=null,$canvasBottomL=null,$canvasBottomR=null,$container=null,$focusSink=null,$focusSink2=null,$groupHeaders=null,$groupHeadersL=null,$groupHeadersR=null,$headerL=null,$headerR=null,$headers=null,$headerRow=null,$headerRowL=null,$headerRowR=null,$headerRowSpacerL=null,$headerRowSpacerR=null,$headerRowScrollContainer=null,$headerRowScroller=null,$headerRowScrollerL=null,$headerRowScrollerR=null,$headerScrollContainer=null,$headerScroller=null,$headerScrollerL=null,$headerScrollerR=null,$hiddenParents=null,$footerRow=null,$footerRowL=null,$footerRowR=null,$footerRowSpacerL=null,$footerRowSpacerR=null,$footerRowScroller=null,$footerRowScrollerL=null,$footerRowScrollerR=null,$footerRowScrollContainer=null,$preHeaderPanel=null,$preHeaderPanelR=null,$preHeaderPanelScroller=null,$preHeaderPanelScrollerR=null,$preHeaderPanelSpacer=null,$preHeaderPanelSpacerR=null,$topPanel=null,$topPanelScroller=null,$style=null,$topPanelScrollerL=null,$topPanelScrollerR=null,$topPanelL=null,$topPanelR=null,$paneHeaderL=null,$paneHeaderR=null,$paneTopL=null,$paneTopR=null,$paneBottomL=null,$paneBottomR=null,$viewport=null,$viewportTopL=null,$viewportTopR=null,$viewportBottomL=null,$viewportBottomR=null,$viewportScrollContainerX=null,$viewportScrollContainerY=null}var canvas=null,canvas_context=null;function autosizeColumn(e,t){var n=e;if("number"==typeof e)n=columns[e];else if("string"==typeof e)for(var r=0;r<columns.length;r++)columns[r].Id===e&&(n=columns[r]);getColAutosizeWidth(n,jquery__WEBPACK_IMPORTED_MODULE_1___default()(getCanvasNode(0,0)),t)}function autosizeColumns(e,t){if((e=e||options.autosizeColsMode)!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyForceFit&&e!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyOff){if(e!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.None){(canvas=__doc__.createElement("canvas"))&&canvas.getContext&&(canvas_context=canvas.getContext("2d"));var n,r,o,i,a=jquery__WEBPACK_IMPORTED_MODULE_1___default()(getCanvasNode(0,0)),s=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,l=0,c=0,f=0,u=0,d=0;for(n=0;n<columns.length;n++)getColAutosizeWidth(r=columns[n],a,t),d+=r.autoSize.autosizeMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.Locked?r.width:0,u+=r.autoSize.autosizeMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.Locked?r.width:r.minWidth,l+=r.autoSize.widthPx,c+=r.autoSize.sizeToRemaining?0:r.autoSize.widthPx,f+=r.autoSize.sizeToRemaining&&r.minWidth||0;var h=l-c;if(e===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.FitViewportToCols){var p=l+scrollbarDimensions.width;e=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.IgnoreViewport,options.viewportMaxWidthPx&&p>options.viewportMaxWidthPx?(p=options.viewportMaxWidthPx,e=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.FitColsToViewport):options.viewportMinWidthPx&&p<options.viewportMinWidthPx&&(p=options.viewportMinWidthPx,e=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.FitColsToViewport),$container.width(p)}if(e===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.FitColsToViewport)if(h>0&&c<s-f)for(n=0;n<columns.length;n++){var m=s-c;o=(r=columns[n]).autoSize.sizeToRemaining?m*r.autoSize.widthPx/h:r.autoSize.widthPx,r.rerenderOnResize&&r.width!=o&&(i=!0),r.width=o}else if(options.viewportSwitchToScrollModeWidthPercent&&c+f>s*options.viewportSwitchToScrollModeWidthPercent/100||u>s)e=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.IgnoreViewport;else{var g=c-d,_=s-d-f;for(n=0;n<columns.length;n++)o=(r=columns[n]).width,r.autoSize.autosizeMode!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.Locked&&(r.autoSize.sizeToRemaining?o=r.minWidth:((o=_/g*r.autoSize.widthPx)<r.minWidth&&(o=r.minWidth),g-=r.autoSize.widthPx,_-=o)),r.rerenderOnResize&&r.width!=o&&(i=!0),r.width=o}if(e===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.IgnoreViewport)for(n=0;n<columns.length;n++)o=columns[n].autoSize.widthPx,columns[n].rerenderOnResize&&columns[n].width!=o&&(i=!0),columns[n].width=o;reRenderColumns(i)}}else legacyAutosizeColumns()}function LogColWidths(){for(var e="Col Widths:",t=0;t<columns.length;t++)e+=" "+columns[t].width;console.log(e)}function getColAutosizeWidth(e,t,n){var r=e.autoSize;if(r.widthPx=e.width,r.autosizeMode!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.Locked&&r.autosizeMode!==_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.Guide){var o=getDataLength();if(r.autosizeMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ColAutosizeMode.ContentIntelligent){var i,a=r.colDataTypeOf;if(o>0){var s=getDataItem(0);s&&"object"==(a=typeof(i=s[e.field]))&&(i instanceof Date&&(a="date"),"undefined"!=typeof moment&&i instanceof moment&&(a="moment"))}"boolean"===a&&(r.colValueArray=[!0,!1]),"number"===a&&(r.valueFilterMode=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.GetGreatestAndSub,r.rowSelectionMode=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.AllRows),"string"===a&&(r.valueFilterMode=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.GetLongestText,r.rowSelectionMode=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.AllRows,r.allowAddlPercent=5),"date"===a&&(r.colValueArray=[new Date(2009,8,30,12,20,20)]),"moment"===a&&"undefined"!=typeof moment&&(r.colValueArray=[moment([2009,8,30,12,20,20])])}var l=getColContentSize(e,t,n);l=l*(r.allowAddlPercent?1+r.allowAddlPercent/100:1)+options.autosizeColPaddingPx,e.minWidth&&l<e.minWidth&&(l=e.minWidth),e.maxWidth&&l>e.maxWidth&&(l=e.maxWidth),r.widthPx=l}}function getColContentSize(e,t,n){var r,o=e.autoSize,i=1,a=0,s=0;if(o.ignoreHeaderText||(s=getColHeaderWidth(e)),o.colValueArray)return a=getColWidth(e,t,o.colValueArray),Math.max(s,a);var l=getData();l.getItems&&(l=l.getItems());var c=(n?o.rowSelectionModeOnInit:void 0)||o.rowSelectionMode;if(c===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.FirstRow&&(l=l.slice(0,1)),c===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.LastRow&&(l=l.slice(l.length-1,l.length)),c===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.RowSelectionMode.FirstNRows&&(l=l.slice(0,o.rowSelectionCount)),o.valueFilterMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.DeDuplicate){var f={};for(u=0,r=l.length;u<r;u++)f[l[u][e.field]]=!0;if(Object.keys)l=Object.keys(f);else for(var u in l=[],f)l.push(u)}if(o.valueFilterMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.GetGreatestAndSub){var d,h=0;for(u=0,r=l.length;u<r;u++)m=l[u][e.field],Math.abs(m)>h&&(d=m,h=Math.abs(m));d=""+d,l=[d=+(d=Array(d.length+1).join("9"))]}if(o.valueFilterMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.GetLongestTextAndSub){var p=0;for(u=0,r=l.length;u<r;u++)((m=l[u][e.field])||"").length>p&&(p=m.length);m=Array(p+1).join("m"),i=options.autosizeTextAvgToMWidthRatio,l=[m]}if(o.valueFilterMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.ValueFilterMode.GetLongestText){p=0;var m,g=0;for(u=0,r=l.length;u<r;u++)((m=l[u][e.field])||"").length>p&&(p=m.length,g=u);l=[m=l[g][e.field]]}return a=getColWidth(e,t,l)*i,Math.max(s,a)}function getColWidth(e,t,n){var r=getColumnIndex(e.id),o=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div class="slick-row ui-widget-content"></div>'),i=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div class="slick-cell"></div>');i.css({position:"absolute",visibility:"hidden","text-overflow":"initial","white-space":"nowrap"}),o.append(i),t.append(o);var a,s,l,c,f=0;return canvas_context&&e.autoSize.widthEvalMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.WidthEvalMode.CanvasTextSize?(canvas_context.font=i.css("font-size")+" "+i.css("font-family"),jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).each((function(t,n){c=Array.isArray(n)?n[e.field]:n,(a=(s=""+c)?canvas_context.measureText(s).width:0)>f&&(f=a,l=s)})),i.html(l),a=i.outerWidth(),o.remove(),i=null,a):(jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).each((function(t,n){c=Array.isArray(n)?n[e.field]:n,applyFormatResultToCellNode(e.formatterOverride?e.formatterOverride(t,r,c,e,n,self):e.formatter?e.formatter(t,r,c,e,n,self):""+c,i[0]),(a=i.outerWidth())>f&&(f=a)})),o.remove(),i=null,f)}function getColHeaderWidth(e){var t=0,n=getUID()+e.id,r=__doc__.getElementById(n),o=n+"_";if(r){var i=r.cloneNode(!0);i.id=o,i.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",r.parentNode.insertBefore(i,r),t=i.offsetWidth,i.parentNode.removeChild(i)}else{var a=getHeader(e);t=(r=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+e.name+"</span>").attr("id",o).css({position:"absolute",visibility:"hidden",right:"auto","text-overflow:":"initial","white-space":"nowrap"}).addClass(e.headerCssClass||"").appendTo(a))[0].offsetWidth,a[0].removeChild(r[0])}return t}function legacyAutosizeColumns(){var e,t,n,r=[],o=0,i=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],r.push(t.width),i+=t.width,t.resizable&&(o+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=i;i>a&&o;){var s=(i-a)/o;for(e=0;e<columns.length&&i>a;e++){t=columns[e];var l=r[e];if(!(!t.resizable||l<=t.minWidth||l<=absoluteColumnMinWidth)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),f=Math.floor(s*(l-c))||1;i-=f=Math.min(f,l-c),o-=f,r[e]-=f}}if(n<=i)break;n=i}for(n=i;i<a;){var u=a/i;for(e=0;e<columns.length&&i<a;e++){t=columns[e];var d,h=r[e];i+=d=!t.resizable||t.maxWidth<=h?0:Math.min(Math.floor(u*h)-h,t.maxWidth-h||1e6)||1,r[e]+=i<=a?d:0}if(n>=i)break;n=i}var p=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=r[e]&&(p=!0),columns[e].width=r[e];reRenderColumns(p)}function reRenderColumns(e){applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),trigger(self.onAutosizeColumns,{columns}),e&&(invalidateAllRows(),render())}function trigger(e,t,n){return n=n||new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.EventData,(t=t||{}).grid=self,e.notify(t,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var e=$groupHeadersL.length-1;e>=0;e--)treeColumns.getColumnsInDepth(e),jquery__WEBPACK_IMPORTED_MODULE_1___default()().add($groupHeadersL[e]).add($groupHeadersR[e]).each((function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),n=0;t.width(0===e?getHeadersWidthL():getHeadersWidthR()),t.children().each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),r=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column");r.width=0,r.columns.forEach((function(){var e=t.next().children(":eq("+n+++")");r.width+=e.outerWidth()})),e.width(r.width-headerColumnWidthDiff)}))}))}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,n=$headers.children(),r=columns.length;t<r;t++)e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(n[t]),jQueryNewWidthBehaviour?e.outerWidth()!==columns[t].width&&e.outerWidth(columns[t].width):e.width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e,t,n=0,r=0;r<columns.length;r++)e=columns[r].width,(t=getColumnCssRules(r)).left.style.left=n+"px",t.right.style.right=(-1!=options.frozenColumn&&r>options.frozenColumn?canvasWidthR:canvasWidthL)-n-e+"px",options.frozenColumn==r?n=0:n+=columns[r].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=options.numberedMultiColumnSort&&sortColumns.length>1,n=$headers.children();n.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),n.find(".slick-sort-indicator-numbered").text(""),jquery__WEBPACK_IMPORTED_MODULE_1___default().each(sortColumns,(function(e,r){null==r.sortAsc&&(r.sortAsc=!0);var o=getColumnIndex(r.columnId);null!=o&&(n.eq(o).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(r.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),t&&n.eq(o).find(".slick-sort-indicator-numbered").text(e+1))}))}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){var n=selectedRows.slice(0);selectedRows=[];for(var r={},o=0;o<t.length;o++)for(var i=t[o].fromRow;i<=t[o].toRow;i++){r[i]||(selectedRows.push(i),r[i]={});for(var a=t[o].fromCell;a<=t[o].toCell;a++)canCellBeSelected(i,a)&&(r[i][columns[a].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,r),simpleArrayEquals(n,selectedRows)&&trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),previousSelectedRows:n},e)}function simpleArrayEquals(e,t){return Array.isArray(e)&&Array.isArray(t)&&t.sort().toString()!==e.sort().toString()}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=columns.length;t<n;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,options.frozenColumn==t?e=0:e+=columns[t].width}function updateColumnProps(){columnsById={};for(var e=0;e<columns.length;e++){columns[e].width&&(columns[e].widthRequest=columns[e].width);var t=columns[e]=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend({},columnDefaults,columns[e]);t.autoSize=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend({},columnAutosizeDefaults,t.autoSize),columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth),t.resizable}}function setColumns(e){var t=new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.TreeColumns(e);columns=t.hasDepth()?(treeColumns=t).extractColumns():e,updateColumnProps(),updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnHeaderWidths(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e,t,n,r){if(getEditorLock().commitCurrentEdit()){makeActiveCellNormal(),void 0!==e.showColumnHeader&&setColumnHeaderVisibility(e.showColumnHeader),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength());var o=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend(!0,{},options);if(options=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend(options,e),trigger(self.onSetOptions,{optionsBefore:o,optionsAfter:options}),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),t||render(),setFrozenOptions(),setScroller(),r||setOverflow(),zombieRowNodeFromLastMouseWheelEvent=null,n||setColumns(treeColumns.extractColumns()),options.enableMouseWheelScrollHandler&&$viewport&&jQuery.fn.mousewheel){var i=jquery__WEBPACK_IMPORTED_MODULE_1___default()._data($viewport[0],"events");i&&i.mousewheel||$viewport.on("mousewheel",handleMouseWheel)}else!1===options.enableMouseWheelScrollHandler&&$viewport.off("mousewheel")}}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1),options.forceFitColumns&&(options.autosizeColsMode=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyForceFit,console.log("forceFitColumns option is deprecated - use autosizeColsMode"))}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data&&data.length||0}function getDataLengthIncludingAddNew(){return getDataLength()+(!options.enableAddRow||pagingActive&&!pagingIsLastPage?0:1)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e,t){var n=!1!==t;options.showTopPanel!=e&&(options.showTopPanel=e,e?n?$topPanelScroller.slideDown("fast",resizeCanvas):($topPanelScroller.show(),resizeCanvas()):n?$topPanelScroller.slideUp("fast",resizeCanvas):($topPanelScroller.hide(),resizeCanvas()))}function setHeaderRowVisibility(e,t){var n=!1!==t;options.showHeaderRow!=e&&(options.showHeaderRow=e,e?n?$headerRowScroller.slideDown("fast",resizeCanvas):($headerRowScroller.show(),resizeCanvas()):n?$headerRowScroller.slideUp("fast",resizeCanvas):($headerRowScroller.hide(),resizeCanvas()))}function setColumnHeaderVisibility(e,t){options.showColumnHeader!=e&&(options.showColumnHeader=e,e?t?$headerScroller.slideDown("fast",resizeCanvas):($headerScroller.show(),resizeCanvas()):t?$headerScroller.slideUp("fast",resizeCanvas):($headerScroller.hide(),resizeCanvas()))}function setFooterRowVisibility(e,t){var n=!1!==t;options.showFooterRow!=e&&(options.showFooterRow=e,e?n?$footerRowScroller.slideDown("fast",resizeCanvas):($footerRowScroller.show(),resizeCanvas()):n?$footerRowScroller.slideUp("fast",resizeCanvas):($footerRowScroller.hide(),resizeCanvas()))}function setPreHeaderPanelVisibility(e,t){var n=!1!==t;options.showPreHeaderPanel!=e&&(options.showPreHeaderPanel=e,e?n?($preHeaderPanelScroller.slideDown("fast",resizeCanvas),$preHeaderPanelScrollerR.slideDown("fast",resizeCanvas)):($preHeaderPanelScroller.show(),$preHeaderPanelScrollerR.show(),resizeCanvas()):n?($preHeaderPanelScroller.slideUp("fast",resizeCanvas),$preHeaderPanelScrollerR.slideUp("fast",resizeCanvas)):($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide(),resizeCanvas()))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph));var r=e-(offset=Math.round(page*cj));offset!=t&&(cleanupRows(getVisibleRange(r)),updateRowPositions()),prevScrollTop!=r&&(vScrollDir=prevScrollTop+t<r+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=r,hasFrozenColumns()&&($viewportTopL[0].scrollTop=r),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=r),$viewportScrollContainerY[0].scrollTop=r,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,n,r,o,i){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),r=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return r&&r.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var n=columns[t],r=data.getItemMetadata&&data.getItemMetadata(e),o=r&&r.columns;return o&&o[n.id]&&void 0!==o[n.id].editor?o[n.id].editor:o&&o[t]&&void 0!==o[t].editor?o[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,r,o){var i=getDataItem(n),a=n<o&&!i,s="slick-row"+(hasFrozenRows&&n<=options.frozenRow?" frozen":"")+(a?" loading":"")+(n===activeRow&&options.showCellSelection?" active":"")+(n%2==1?" odd":" even");i||(s+=" "+options.addNewRowCssClass);var l=data.getItemMetadata&&data.getItemMetadata(n);l&&l.cssClasses&&(s+=" "+l.cssClasses);var c,f,u=getFrozenRowOffset(n),d="<div class='ui-widget-content "+s+"' style='top:"+(getRowTop(n)-u)+"px'>";e.push(d),hasFrozenColumns()&&t.push(d);for(var h=0,p=columns.length;h<p;h++){if(f=columns[h],c=1,l&&l.columns){var m=l.columns[f.id]||l.columns[h];"*"===(c=m&&m.colspan||1)&&(c=p-h)}if(columnPosRight[Math.min(p-1,h+c-1)]>r.leftPx){if(!f.alwaysRenderColumn&&columnPosLeft[h]>r.rightPx)break;hasFrozenColumns()&&h>options.frozenColumn?appendCellHtml(t,n,h,c,i):appendCellHtml(e,n,h,c,i)}else(f.alwaysRenderColumn||hasFrozenColumns()&&h<=options.frozenColumn)&&appendCellHtml(e,n,h,c,i);c>1&&(h+=c-1)}e.push("</div>"),hasFrozenColumns()&&t.push("</div>")}function appendCellHtml(e,t,n,r,o){var i=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(i.cssClass?" "+i.cssClass:"");for(var s in hasFrozenColumns()&&n<=options.frozenColumn&&(a+=" frozen"),t===activeRow&&n===activeCell&&options.showCellSelection&&(a+=" active"),cellCssClasses)cellCssClasses[s][t]&&cellCssClasses[s][t][i.id]&&(a+=" "+cellCssClasses[s][t][i.id]);var l=null,c="";o&&(l=getDataItemValueForColumn(o,i),null==(c=getFormatter(t,i)(t,n,l,i,o,self))&&(c=""));var f=trigger(self.onBeforeAppendCell,{row:t,cell:n,value:l,dataContext:o})||"";f+=c&&c.addClasses?(f?" ":"")+c.addClasses:"";var u=c&&c.toolTip?"title='"+c.toolTip+"'":"",d="";if(i.hasOwnProperty("cellAttrs")&&i.cellAttrs instanceof Object)for(var s in i.cellAttrs)i.cellAttrs.hasOwnProperty(s)&&(d+=" "+s+'="'+i.cellAttrs[s]+'" ');e.push("<div class='"+a+(f?" "+f:"")+"' "+u+d+">"),o&&e.push("[object Object]"!==Object.prototype.toString.call(c)?c:c.text),e.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=r}function cleanupRows(e){for(var t in rowsCache){var n=!0;hasFrozenRows&&(options.frozenBottom&&t>=actualFrozenRow||!options.frozenBottom&&t<=actualFrozenRow)&&(n=!1),(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&n&&removeRowFromCache(t)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var e in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(e);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(e,t,n){for(var r in postProcessgroupId++,t)t.hasOwnProperty(r)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e.cellNodesByColumnIdx[0|r],columnIdx:0|r,rowIdx:n});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:e.rowNode}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.rowNode).detach()}function queuePostProcessedCellForCleanup(e,t,n){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e,columnIdx:t,rowIdx:n}),jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).detach()}function removeRowFromCache(e){var t=rowsCache[e];t&&(rowNodeFromLastMouseWheelEvent==t.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==t.rowNode[1]?(t.rowNode.hide(),zombieRowNodeFromLastMouseWheelEvent=t.rowNode):t.rowNode.each((function(){this.parentElement.removeChild(this)})),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,n;if(e&&e.length){for(vScrollDir=0,n=e.length,t=0;t<n;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(e){(e||0===e)&&invalidateRows([e])}function applyFormatResultToCellNode(e,t,n){null==e&&(e=""),"[object Object]"===Object.prototype.toString.call(e)?(t.innerHTML=e.text,e.removeClasses&&!n&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(t).removeClass(e.removeClasses),e.addClasses&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(t).addClass(e.addClasses),e.toolTip&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(t).attr("title",e.toolTip)):t.innerHTML=e}function updateCell(e,t){var n=getCellNode(e,t);if(n){var r=columns[t],o=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(o):(applyFormatResultToCellNode(o?getFormatter(e,r)(e,t,getDataItemValueForColumn(o,r),r,o,self):"",n),invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var r in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=t.cellNodesByColumnIdx[r][0];e===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):n?applyFormatResultToCellNode(getFormatter(e,o)(e,r,getDataItemValueForColumn(n,o),o,n,self),i):i.innerHTML=""}invalidatePostProcessingResults(e)}}function getViewportHeight(){if(options.autoHeight&&-1==options.frozenColumn||(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0),options.autoHeight){var e=$paneHeaderL.outerHeight();e+=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,e+=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,e+=getCanvasWidth()>viewportW?scrollbarDimensions.height:0,viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?e:0)}else{var t=options.showColumnHeader?parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default().css($headerScroller[0],"height"))+getVBoxDelta($headerScroller):0,n=options.createPreHeaderPanel&&options.showPreHeaderPanel?options.preHeaderPanelHeight+getVBoxDelta($preHeaderPanelScroller):0;viewportH=parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default().css($container[0],"height",!0))-parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default().css($container[0],"paddingTop",!0))-parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default().css($container[0],"paddingBottom",!0))-t-topPanelH-headerRowH-footerRowH-n}return numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportH}function getViewportWidth(){viewportW=parseFloat($container.width())}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat(jquery__WEBPACK_IMPORTED_MODULE_1___default().css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height()||(options.showHeaderRow?options.headerRowHeight:0)+(options.showPreHeaderPanel?options.preHeaderPanelHeight:0),height:paneTopH});var e=$paneTopL.position().top+paneTopH;options.autoHeight||$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:e,height:paneBottomH}),$paneBottomR.css({top:e,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",e)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),scrollbarDimensions&&scrollbarDimensions.width||(scrollbarDimensions=measureScrollbar()),options.autosizeColsMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyForceFit&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updatePagingStatusFromView(e){pagingActive=0!==e.pageSize,pagingIsLastPage=e.pageNum==e.totalPages-1}function updateRowCount(){if(initialized){var e=getDataLength(),t=getDataLengthIncludingAddNew(),r=0,o=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();r=hasFrozenRows?getDataLength()-options.frozenRow:t+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var i=$viewportScrollContainerY.height(),a=viewportHasVScroll;viewportHasVScroll=options.alwaysShowVerticalScroll||!options.autoHeight&&r*options.rowHeight>i,makeActiveCellNormal();var s=e-1;for(var l in rowsCache)l>s&&removeRowFromCache(l);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>s&&resetActiveCell(),o=h,options.autoHeight?h=options.rowHeight*r:(th=Math.max(options.rowHeight*r,i-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==o&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var c=scrollTop+offset<=th-i;0==th||0==scrollTop?page=offset=0:scrollTo(c?scrollTop+offset:th-i),h!=o&&options.autoHeight&&resizeCanvas(),options.autosizeColsMode===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.GridAutosizeColsMode.LegacyForceFit&&a!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),r=Math.round(viewportH/options.rowHeight),o=options.minRowBuffer;return-1==vScrollDir?(n.top-=r,n.bottom+=o):1==vScrollDir?(n.top-=o,n.bottom+=r):(n.top-=o,n.bottom+=o),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var n=t.rowNode.children().last();t.cellRenderQueue.length;){var r=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[r]=n,0===(n=n.prev()).length&&(n=jquery__WEBPACK_IMPORTED_MODULE_1___default()(t.rowNode[0]).children().last())}}function cleanUpCells(e,t){if(!hasFrozenRows||!(options.frozenBottom&&t>actualFrozenRow||t<=actualFrozenRow)){var n,r=rowsCache[t],o=[];for(var i in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(i)&&!((i|=0)<=options.frozenColumn||Array.isArray(columns)&&columns[i]&&columns[i].alwaysRenderColumn)){var a=r.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+a-1)]<e.leftPx)&&(t==activeRow&&i==activeCell||o.push(i))}for(;null!=(n=o.pop());)r.cellNodesByColumnIdx[n][0].parentElement.removeChild(r.cellNodesByColumnIdx[n][0]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[t]&&delete postProcessedRows[t][n]}}function cleanUpAndRenderCells(e){for(var t,n,r,o=[],i=[],a=e.top,s=e.bottom;a<=s;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var c=getDataItem(a),f=0,u=columns.length;f<u&&!(columnPosLeft[f]>e.rightPx);f++)if(null==(r=t.cellColSpans[f])){if(r=1,l){var d=l[columns[f].id]||l[f];"*"===(r=d&&d.colspan||1)&&(r=u-f)}columnPosRight[Math.min(u-1,f+r-1)]>e.leftPx&&(appendCellHtml(o,a,f,r,c),n++),f+=r>1?r-1:0}else f+=r>1?r-1:0;n&&i.push(a)}if(o.length){var h,p,m=__doc__.createElement("div");for(m.innerHTML=o.join("");null!=(h=i.pop());){var g;for(t=rowsCache[h];null!=(g=t.cellRenderQueue.pop());)p=m.lastChild,hasFrozenColumns()&&g>options.frozenColumn?t.rowNode[1].appendChild(p):t.rowNode[0].appendChild(p),t.cellNodesByColumnIdx[g]=jquery__WEBPACK_IMPORTED_MODULE_1___default()(p)}}}function renderRows(e){for(var t=[],n=[],r=[],o=!1,i=getDataLength(),a=e.top,s=e.bottom;a<=s;a++)rowsCache[a]||hasFrozenRows&&options.frozenBottom&&a==getDataLength()||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(t,n,a,e,i),activeCellNode&&activeRow===a&&(o=!0),counter_rows_rendered++);if(r.length){var l=__doc__.createElement("div"),c=__doc__.createElement("div");for(l.innerHTML=t.join(""),c.innerHTML=n.join(""),a=0,s=r.length;a<s;a++)hasFrozenRows&&r[a]>=actualFrozenRow?hasFrozenColumns()?rowsCache[r[a]].rowNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(l.firstChild).appendTo($canvasBottomL)).add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(c.firstChild).appendTo($canvasBottomR)):rowsCache[r[a]].rowNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(l.firstChild).appendTo($canvasBottomL)):hasFrozenColumns()?rowsCache[r[a]].rowNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(l.firstChild).appendTo($canvasTopL)).add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(c.firstChild).appendTo($canvasTopR)):rowsCache[r[a]].rowNode=jquery__WEBPACK_IMPORTED_MODULE_1___default()().add(jquery__WEBPACK_IMPORTED_MODULE_1___default()(l.firstChild).appendTo($canvasTopL));o&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){options.enableAsyncPostRenderCleanup&&(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(e){for(var t in postProcessedRows[e])postProcessedRows[e].hasOwnProperty(t)&&(postProcessedRows[e][t]="C");postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){var t=e?parseInt(e):0;rowsCache[t].rowNode[0].style.top=getRowTop(t)+"px"}}function render(){if(initialized){scrollThrottle.dequeue();var e=getVisibleRange(),t=getRenderedRange();if(cleanupRows(t),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var n=jQuery.extend(!0,{},t);options.frozenBottom?(n.top=actualFrozenRow,n.bottom=getDataLength()):(n.top=0,n.bottom=options.frozenRow),cleanUpAndRenderCells(n)}cleanUpAndRenderCells(t)}renderRows(t),hasFrozenRows&&(options.frozenBottom?renderRows({top:actualFrozenRow,bottom:getDataLength()-1,leftPx:t.leftPx,rightPx:t.rightPx}):renderRows({top:0,bottom:options.frozenRow-1,leftPx:t.leftPx,rightPx:t.rightPx})),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null,trigger(self.onRendered,{startRow:e.top,endRow:e.bottom,grid:self})}}function handleHeaderScroll(){handleElementScroll($headerScrollContainer[0])}function handleHeaderRowScroll(){var e=$headerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleFooterRowScroll(){var e=$footerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handlePreHeaderPanelScroll(){handleElementScroll($preHeaderPanelScroller[0])}function handleElementScroll(e){var t=e.scrollLeft;t!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=t)}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(e){var t=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,r=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth;t=Math.max(0,t),r=Math.max(0,r),scrollTop>t&&(scrollTop=t),scrollLeft>r&&(scrollLeft=r);var o=Math.abs(scrollTop-prevScrollTop),i=Math.abs(scrollLeft-prevScrollLeft);if(i&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScrollContainer[0].scrollLeft=scrollLeft),options.createPreHeaderPanel&&(hasFrozenColumns()?$preHeaderPanelScrollerR[0].scrollLeft=scrollLeft:$preHeaderPanelScroller[0].scrollLeft=scrollLeft),hasFrozenColumns()?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),o)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,e&&($viewportScrollContainerY[0].scrollTop=scrollTop),hasFrozenColumns()&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),o<viewportH)scrollTo(scrollTop+offset);else{var a=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),a!=(offset=Math.round(page*cj))&&invalidateAllRows()}if(i||o){var s=Math.abs(lastRenderedScrollLeft-scrollLeft),l=Math.abs(lastRenderedScrollTop-scrollTop);(s>20||l>20)&&(options.forceSyncScrolling||l<viewportH&&s<viewportW?render():scrollThrottle.enqueue(),trigger(self.onViewportChanged,{}))}return trigger(self.onScroll,{scrollLeft,scrollTop}),!(!i&&!o)}function ActionThrottle(e,t){var n=!1,r=!1;function o(){r=!1}function i(){n=!0,setTimeout(a,t),e()}function a(){r?(o(),i()):n=!1}return{enqueue:function(){n?r=!0:i()},dequeue:o}}function asyncPostProcessRows(){for(var e=getDataLength();postProcessFromRow<=postProcessToRow;){var t=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[t];if(n&&!(t>=e)){for(var r in postProcessedRows[t]||(postProcessedRows[t]={}),ensureCellNodesInRowsCache(t),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=postProcessedRows[t][r];if(o.asyncPostRender&&"R"!==i){var a=n.cellNodesByColumnIdx[r];a&&o.asyncPostRender(a,t,getDataItem(t),o,"C"===i),postProcessedRows[t][r]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var e=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==e;){var t=postProcessedCleanupQueue.shift();if("R"==t.actionType&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(t.node).remove(),"C"==t.actionType){var n=columns[t.columnIdx];n.asyncPostRenderCleanup&&t.node&&n.asyncPostRenderCleanup(t.node,t.rowIdx,n)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(e,t){var n,r,o,i;for(var a in rowsCache){if(i=t&&t[a],o=e&&e[a],i)for(r in i)o&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).removeClass(i[r]);if(o)for(r in o)i&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).addClass(o[r])}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw new Error("SlickGrid addCellCssStyles: cell CSS hash with key '"+e+"' already exists.");cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t,grid:self})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null,grid:self}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t,grid:self})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){n=n||100,rowsCache[e]&&function e(t,r){r&&setTimeout((function(){t.queue((function(){t.toggleClass(options.cellFlashingCssClass).dequeue(),e(t,r-1)}))}),n)}(jquery__WEBPACK_IMPORTED_MODULE_1___default()(getCellNode(e,t)),4)}function handleMouseWheel(e,t,n,r){var o=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-row"),i=o[0];if(i!=rowNodeFromLastMouseWheelEvent){var a=o.parents(".grid-canvas").hasClass("grid-canvas-left");if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[a?0:1]!=i){var s=zombieRowNodeFromLastMouseWheelEvent[a||1==zombieRowNodeFromLastMouseWheelEvent.length?0:1];s.parentElement.removeChild(s),zombieRowNodeFromLastMouseWheelEvent=null}rowNodeFromLastMouseWheelEvent=i}scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-r*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*n,_handleScroll(!0)&&e.preventDefault()}function handleDragInit(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragInit,t,e);return!!e.isImmediatePropagationStopped()&&r}function handleDragStart(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,t,e);return!!e.isImmediatePropagationStopped()&&r}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped(),n=_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.keyCode;if(!t&&!e.shiftKey&&!e.altKey){if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(e.which)>-1)return;e.which==n.HOME?t=e.ctrlKey?navigateTop():navigateRowStart():e.which==n.END&&(t=e.ctrlKey?navigateBottom():navigateRowEnd())}if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)e.which!=n.TAB||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(e.which)>-1)return;if(e.which==n.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else e.which==n.PAGE_DOWN?(navigatePageDown(),t=!0):e.which==n.PAGE_UP?(navigatePageUp(),t=!0):e.which==n.LEFT?t=navigateLeft():e.which==n.RIGHT?t=navigateRight():e.which==n.UP?t=navigateUp():e.which==n.DOWN?t=navigateDown():e.which==n.TAB?t=navigateNext():e.which==n.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable(void 0,void 0,e)),t=!0)}if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(e){}}}function handleClick(e){currentEditor||(e.target!=__doc__.activeElement||jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);if(t&&(null===currentEditor||activeRow!=t.row||activeCell!=t.cell)&&(trigger(self.onClick,{row:t.row,cell:t.cell},e),!e.isImmediatePropagationStopped()&&canCellBeActive(t.row,t.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()))){scrollRowIntoView(t.row,!1);var n=e.target&&e.target.className===_Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.preClickClassName,r=columns[t.cell],o=!!(options.editable&&r&&r.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(getCellNode(t.row,t.cell),null,n,o,e)}}function handleContextMenu(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode===t[0]&&null!==currentEditor||trigger(self.onContextMenu,{},e))}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0,e))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column"),grid:self},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).data("column"),grid:self},e)}function handleHeaderContextMenu(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n},e)}function handleHeaderClick(e){if(!columnResizeDragging){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n},e)}}function handleFooterContextMenu(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),n=t&&t.data("column");trigger(self.onFooterContextMenu,{column:n},e)}function handleFooterClick(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),n=t&&t.data("column");trigger(self.onFooterClick,{column:n},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(e<0||e>=getDataLength()||t<0||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),r=0,o=0,i=0;i<columns.length&&o<e;i++)o+=columns[i].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw new Error("SlickGrid getCellFromNode: cannot get cell - "+e.className);return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)for(var n in rowsCache[t].rowNode)if(rowsCache[t].rowNode[n]===e)return t?parseInt(t):0;return null}function getFrozenRowOffset(e){return hasFrozenRows?options.frozenBottom?e>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:e>=actualFrozenRow?frozenRowsHeight:0:0}function getCellFromEvent(e){var t,n,r=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e.target).closest(".slick-cell",$canvas);if(!r.length)return null;if(t=getRowFromNode(r[0].parentNode),hasFrozenRows){var o=r.parents(".grid-canvas").offset(),i=0;r.parents(".grid-canvas-bottom").length&&(i=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),t=getCellFromPoint(e.clientX-o.left,e.clientY-o.top+i+jquery__WEBPACK_IMPORTED_MODULE_1___default()(__doc__).scrollTop()).row}return n=getCellFromNode(r[0]),null==t||null==n?null:{row:t,cell:n}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getFrozenRowOffset(e),r=getRowTop(e)-n,o=r+options.rowHeight-1,i=0,a=0;a<t;a++)i+=columns[a].width,options.frozenColumn==a&&(i=0);return{top:r,left:i,bottom:o,right:i+columns[t].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){if(scrollRowIntoView(e,n),!(t<=options.frozenColumn)){var r=getColspan(e,t);internalScrollColumnIntoView(columnPosLeft[t],columnPosRight[t+(r>1?r-1:0)])}}function internalScrollColumnIntoView(e,t){var n=scrollLeft+$viewportScrollContainerX.width();e<scrollLeft?($viewportScrollContainerX.scrollLeft(e),handleScroll(),render()):t>n&&($viewportScrollContainerX.scrollLeft(Math.min(e,t-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}function scrollColumnIntoView(e){internalScrollColumnIntoView(columnPosLeft[e],columnPosRight[e])}function setActiveCellInternal(e,t,n,r,o){if(null!==activeCellNode&&(makeActiveCellNormal(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).removeClass("active"),rowsCache[activeRow]&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(rowsCache[activeRow].rowNode).removeClass("active")),null!=(activeCellNode=e)){var i=jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode),a=i.offset(),s=Math.floor(i.parents(".grid-canvas").offset().top),l=i.parents(".grid-canvas-bottom").length;hasFrozenRows&&l&&(s-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var c=getCellFromPoint(a.left,Math.ceil(a.top)-s);activeRow=c.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),options.showCellSelection&&(i.addClass("active"),rowsCache[activeRow]&&jquery__WEBPACK_IMPORTED_MODULE_1___default()(rowsCache[activeRow].rowNode).addClass("active")),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout((function(){makeActiveCellEditable(void 0,n,o)}),options.asyncEditorLoadDelay):makeActiveCellEditable(void 0,n,o))}else activeRow=activeCell=null;r||trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(__doc__.selection&&__doc__.selection.empty)try{__doc__.selection.empty()}catch(e){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}function isCellPotentiallyEditable(e,t){var n=getDataLength();return!(e<n&&!getDataItem(e)||columns[t].cannotTriggerInsert&&e>=n||!getEditor(e,t))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if(jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell];applyFormatResultToCellNode(getFormatter(activeRow,t)(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e,self),activeCellNode),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e,t,n){if(activeCellNode){if(!options.editable)throw new Error("SlickGrid makeActiveCellEditable : should never get called when options.editable is false");if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var r=columns[activeCell],o=getDataItem(activeRow);if(!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:o,column:r,target:"grid"})){getEditorLock().activate(editController),jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).addClass("editable");var i=e||getEditor(activeRow,activeCell);e||i.suppressClearOnEdit||(activeCellNode.innerHTML="");var a=data.getItemMetadata&&data.getItemMetadata(activeRow),s=(a=a&&a.columns)&&(a[r.id]||a[activeCell]);currentEditor=new i({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:r,columnMetaData:s,item:o||{},event:n,commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),o&&(currentEditor.loadValue(o),t&&currentEditor.preClick&&currentEditor.preClick()),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}else setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).outerWidth(),height:jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=__doc__.body&&null!=e;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){if(!hasFrozenRows||!options.frozenBottom&&e>actualFrozenRow-1||options.frozenBottom&&e<actualFrozenRow-1){var n=$viewportScrollContainerY.height(),r=hasFrozenRows&&!options.frozenBottom?e-options.frozenRow:e,o=r*options.rowHeight,i=(r+1)*options.rowHeight-n+(viewportHasHScroll?scrollbarDimensions.height:0);(r+1)*options.rowHeight>scrollTop+n+offset?(scrollTo(t?o:i),render()):r*options.rowHeight<scrollTop+offset&&(scrollTo(t?i:o),render())}}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop+options.rowHeight-1)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+t,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var o=0,i=null,a=activePosX;o<=activePosX;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function navigateTop(){navigateToRow(0)}function navigateBottom(){navigateToRow(getDataLength()-1)}function navigateToRow(e){var t=getDataLength();if(!t)return!0;if(e<0?e=0:e>=t&&(e=t-1),scrollCellIntoView(e,0,!0),options.enableCellNavigation&&null!=activeRow){for(var n=0,r=null,o=activePosX;n<=activePosX;)canCellBeActive(e,n)&&(r=n),n+=getColspan(e,n);null!==r?(setActiveCellInternal(getCellNode(e,r)),activePosX=o):resetActiveCell()}return!0}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var r=n.columns[columns[t].id]||n.columns[t],o=r&&r.colspan;return"*"===o?columns.length-t:o||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t,n){if(t>=columns.length)return null;do{t+=getColspan(e,t)}while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t,n){if(t<=0)return null;var r=findFirstFocusableCell(e);if(null===r||r>=t)return null;for(var o,i={row:e,cell:r,posX:r};;){if(!(o=gotoRight(i.row,i.cell,i.posX)))return null;if(o.cell>=t)return i;i=o}}function gotoDown(e,t,n){for(var r,o=getDataLengthIncludingAddNew();;){if(++e>=o)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoUp(e,t,n){for(var r;;){if(--e<0)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&canCellBeActive(e=t=n=0,t))return{row:e,cell:t,posX:t};var r=gotoRight(e,t,n);if(r)return r;var o=null,i=getDataLengthIncludingAddNew();for(e===i-1&&e--;++e<i;)if(null!==(o=findFirstFocusableCell(e)))return{row:e,cell:o,posX:o};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&canCellBeActive(e=getDataLengthIncludingAddNew()-1,t=n=columns.length-1))return{row:e,cell:t,posX:t};for(var r,o;!r&&!(r=gotoLeft(e,t,n));){if(--e<0)return null;t=0,null!==(o=findLastFocusableCell(e))&&(r={row:e,cell:o,posX:o})}return r}function gotoRowStart(e,t,n){var r=findFirstFocusableCell(e);return null===r?null:{row:e,cell:r,posX:r}}function gotoRowEnd(e,t,n){var r=findLastFocusableCell(e);return null===r?null:{row:e,cell:r,posX:r}}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigateRowStart(){return navigate("home")}function navigateRowEnd(){return navigate("end")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus(),tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[e];var t=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext,home:gotoRowStart,end:gotoRowEnd}[e])(activeRow,activeCell,activePosX);if(t){if(hasFrozenRows&&options.frozenBottom&t.row==getDataLength())return;var n=t.row==getDataLength();return(!options.frozenBottom&&t.row>=actualFrozenRow||options.frozenBottom&&t.row<actualFrozenRow)&&scrollCellIntoView(t.row,t.cell,!n&&options.emulatePagingWhenScrolling),setActiveCellInternal(getCellNode(t.row,t.cell)),activePosX=t.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){if(rowsCache[e]){ensureCellNodesInRowsCache(e);try{return rowsCache[e].cellNodesByColumnIdx.length>t?rowsCache[e].cellNodesByColumnIdx[t][0]:null}catch(n){return rowsCache[e].cellNodesByColumnIdx[t]}}return null}function setActiveCell(e,t,n,r,o){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),n,r,o)))}function setActiveRow(e,t,n){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||(activeRow=e,n||scrollCellIntoView(e,t||0,!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&void 0!==n.focusable)return!!n.focusable;var r=n&&n.columns;return r&&r[columns[t].id]&&void 0!==r[columns[t].id].focusable?!!r[columns[t].id].focusable:r&&r[t]&&void 0!==r[t].focusable?!!r[t].focusable:!!columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&void 0!==n.selectable)return!!n.selectable;var r=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return r&&void 0!==r.selectable?!!r.selectable:!!columns[t].selectable}function gotoCell(e,t,n,r){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var o=getCellNode(e,t),i=columns[t],a=!!(options.editable&&i&&i.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(o,n||e===getDataLength()||options.autoEdit,null,a,r),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:e,column:t})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:e,column:t})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,r)):(r.execute(),makeActiveCellNormal())}else{var o={};currentEditor.applyValue(o,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:o,column:t})}return!getEditorLock().isActive()}return jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).removeClass("invalid"),jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).width(),jquery__WEBPACK_IMPORTED_MODULE_1___default()(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,r=0;r<e.length;r++)t.push(new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Range(e[r],0,e[r],n));return t}function getSelectedRows(){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");return selectedRows.slice(0)}function setSelectedRows(e){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");self&&self.getEditorLock&&!self.getEditorLock().isActive()&&selectionModel.setSelectedRanges(rowsToRanges(e))}function getBaseDocument(){return __doc__}function setBaseDocument(e){stylesheet=null;var t=(__doc__=e).styleSheets;for(let e=0;e<t.length;e++)if(t[e].rules[0].selectorText&&t[e].rules[0].selectorText.includes(uid)){stylesheet=t[e];break}$style=jquery__WEBPACK_IMPORTED_MODULE_1___default()(stylesheet.ownerNode),removeCssRules(),createCssRules(),setColumns(columns)}this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},jquery__WEBPACK_IMPORTED_MODULE_1___default().extend(this,{slickGridVersion:"2.4.38",onScroll:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onSort:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderMouseEnter:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderMouseLeave:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderContextMenu:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderClick:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderCellRendered:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeHeaderCellDestroy:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onHeaderRowCellRendered:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onFooterRowCellRendered:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onFooterContextMenu:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onFooterClick:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeHeaderRowCellDestroy:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeFooterRowCellDestroy:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onMouseEnter:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onMouseLeave:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onClick:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onDblClick:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onContextMenu:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onKeyDown:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onAddNewRow:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeAppendCell:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onValidationError:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onViewportChanged:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onColumnsReordered:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onColumnsDrag:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onColumnsResized:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onColumnsResizeDblClick:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeColumnsResize:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onCellChange:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onCompositeEditorChange:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeEditCell:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeCellEditorDestroy:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onBeforeDestroy:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onActiveCellChanged:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onActiveCellPositionChanged:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onDragInit:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onDragStart:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onDrag:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onDragEnd:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onSelectedRowsChanged:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onCellCssStylesChanged:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onAutosizeColumns:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onRendered:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,onSetOptions:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event,registerPlugin,unregisterPlugin,getPluginByName,getColumns,setColumns,getColumnIndex,updateColumnHeader,setSortColumn,setSortColumns,getSortColumns,autosizeColumns,autosizeColumn,getOptions,setOptions,getData,getDataLength,getDataItem,setData,getSelectionModel,setSelectionModel,getSelectedRows,setSelectedRows,getContainerNode,updatePagingStatusFromView,applyFormatResultToCellNode,render,reRenderColumns,invalidate,invalidateRow,invalidateRows,invalidateAllRows,updateCell,updateRow,getViewport:getVisibleRange,getRenderedRange,resizeCanvas,updateRowCount,scrollRowIntoView,scrollRowToTop,scrollCellIntoView,scrollColumnIntoView,getCanvasNode,getUID,getHeaderColumnWidthDiff,getScrollbarDimensions,getHeadersWidth,getCanvasWidth,getCanvases,getActiveCanvasNode,setActiveCanvasNode,getViewportNode,getViewports,getActiveViewportNode,setActiveViewportNode,focus:setFocus,scrollTo,cacheCssForHiddenInit,restoreCssFromHiddenInit,getCellFromPoint,getCellFromEvent,getActiveCell,setActiveCell,setActiveRow,getActiveCellNode,getActiveCellPosition,resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor,getCellNode,getCellNodeBox,canCellBeSelected,canCellBeActive,navigatePrev,navigateNext,navigateUp,navigateDown,navigateLeft,navigateRight,navigatePageUp,navigatePageDown,navigateTop,navigateBottom,navigateRowStart,navigateRowEnd,gotoCell,getTopPanel,setTopPanelVisibility,getPreHeaderPanel,getPreHeaderPanelLeft:getPreHeaderPanel,getPreHeaderPanelRight,setPreHeaderPanelVisibility,getHeader,getHeaderColumn,setHeaderRowVisibility,getHeaderRow,getHeaderRowColumn,setFooterRowVisibility,getFooterRow,getFooterRowColumn,getGridPosition,flashCell,addCellCssStyles,setCellCssStyles,removeCellCssStyles,getCellCssStyles,getFrozenRowOffset,setColumnHeaderVisibility,init:finishInitialization,destroy,getEditorLock,getEditController,applyColumnWidths,setBaseDocument,getBaseDocument}),init()}function TextEditor(e){var t,n;this.init=function(){t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<INPUT type=text class='editor-text' />").appendTo(e.container).on("keyup",(e=>{const n=e.which;37!==n&&39!==n&&8!==n?this.autoCorrect(t.val()):e.stopImmediatePropagation()}))},this.autoCorrect=function(n){const r=e.grid.getData().getValueSuggestion(n,e.column.field);r&&t.val(r)},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.getValue=function(){return t.val()},this.setValue=function(e){t.val(e)},this.loadValue=function(r){n=r[e.column.field]||"",t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(t,n,r=!0){e.grid.getData().updateValue(n,t.__index__,e.column.field,r)},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(e.column.validator){var n=e.column.validator(t.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()}function Overlays(e){var t,n,r,o,i,a=this,s=new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.EventHandler,l={buttonCssClass:null,buttonImage:"../images/down.gif",decoratorWidth:2};function c(e,t){i.hide(),d()}function f(e,t){d()}function u(e,t){d()}function d(e,n){var r=o.getActiveCell();if(r){var i=o.getColumns()[r.cell];t.toggle(!0),t.$handle.toggle(void 0!==i.editor);var a=o.getCellNodeBox(r.row,r.cell);a.height=a.bottom-a.top,a.width=a.right-a.left,t.$left.css({left:a.left-2,top:a.top,width:2,height:a.height}),t.$right.css({left:a.left+a.width-1,top:a.top,width:2,height:a.height}),t.$top.css({left:a.left-2,top:a.top-2,width:a.width+3,height:2}),t.$bottom.css({left:a.left-2,top:a.top+a.height-1,width:a.width+3,height:2}),t.$handle.css({left:a.left+a.width-4,top:a.top+a.height-4,width:1,height:1})}else t.toggle(!1)}function h(e,t){var a=o.getActiveCell();if(o.canCellBeSelected(a.row,a.cell)&&(r=!0,e.stopImmediatePropagation()),!r)return null;const s=o.getCellEditor();return s&&s.applyValue(o.getDataItem(a.row),s.getValue(),!1),o.focus(),n=a.row,t.range={start:a,end:{}},jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).css({"background-color":"transparent","border-color":"transparent"}),i.show(new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Range(a.row,a.cell))}function p(e,t){if(!r)return;var n=o.getCanvasNode();e.stopImmediatePropagation();var a=o.getCellFromPoint(e.pageX-jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).offset().left,e.pageY-jquery__WEBPACK_IMPORTED_MODULE_1___default()(n).offset().top);if(!o.canCellBeSelected(a.row,a.cell))return;t.range.end=a,i.show(new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Range(t.range.start.row,t.range.start.cell,a.row,t.range.start.cell));const s=o.getViewport();s.bottom===a.row&&o.scrollRowIntoView(a.row+7),s.top===a.row&&o.scrollRowIntoView(s.top-7)}function m(e,t){if(!r)return;r=!1,jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).css({"background-color":"","border-color":""}),i.hideHandle();const s=i.getSelectedRange(),l=n<s.toRow?"+":"-";a.onFillUpDown.notify({dir:l,grid:o,range:s},e,a),i.hide(),e.preventDefault(),e.stopPropagation()}function g(e,t){var n=(t||"")+"cell-overlay";this.$left=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>").addClass(n).addClass("left").appendTo(e),this.$right=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>").addClass(n).addClass("right").appendTo(e),this.$top=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>").addClass(n).addClass("top").appendTo(e),this.$bottom=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>").addClass(n).addClass("bottom").appendTo(e),this.$handle=jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>").addClass("handle-overlay").data("__doc__",o.getBaseDocument()).appendTo(e),this.toggle=function(e){this.$left.toggle(e),this.$right.toggle(e),this.$top.toggle(e),this.$bottom.toggle(e),this.$handle.toggle(e)},this.remove=function(){this.$left.remove(),this.$right.remove(),this.$top.remove(),this.$bottom.remove(),this.$handle.remove()}}function _(t){var n,r;return{hide:function(){n&&(n.toggle(!1),n=null)},hideHandle:function(){n.$handle.hide()},show:function(i){r=i,n||(n=new g(o.getCanvasNode(),"selection-"));var a=t.getCellNodeBox(i.fromRow,i.fromCell),s=t.getCellNodeBox(i.toRow,i.toCell);return n.$left.css({top:a.top-2,left:a.left-2,height:s.bottom-a.top+2,width:e.decoratorWidth}),n.$right.css({top:a.top-2,left:s.right-1,height:s.bottom-a.top+2,width:e.decoratorWidth}),n.$top.css({top:a.top-2,left:s.left-1,height:e.decoratorWidth,width:s.right-a.left+2}),n.$bottom.css({top:s.bottom-1,left:a.left-2,height:e.decoratorWidth,width:s.right-a.left+3}),n.$handle.css({top:s.bottom-3,left:a.right-4,height:1,width:1}),n},getSelectedRange:function(){return r}}}jquery__WEBPACK_IMPORTED_MODULE_1___default().extend(this,{init:function(n){var r;e=jquery__WEBPACK_IMPORTED_MODULE_1___default().extend(!0,{},l,e),i=new _(o=n),(r=new g(o.getCanvasNode())).$handle.bind("dragstart",h).bind("drag",p).bind("dragend",m),t=r,s.subscribe(o.onActiveCellChanged,c).subscribe(o.onColumnsResized,f).subscribe(o.onScroll,u)},destroy:function(){s.unsubscribeAll(),t.$handle.unbind("dragstart",h).unbind("drag",p).unbind("dragend",m),t.remove()},onFillUpDown:new _Slick_js__WEBPACK_IMPORTED_MODULE_0__.v.Event})}!function(e){e.fn.drag=function(t,n,r){var o="string"==typeof t?t:"",i=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==o.indexOf("drag")&&(o="drag"+o),r=(t==i?n:r)||{},i?this.on(o,r,i):this.trigger(o)};var t=e.event,n=t.special,r=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,r.datakey),o=t.data||{};n.related+=1,e.each(r.defaults,(function(e,t){void 0!==o[e]&&(n[e]=o[e])}))},remove:function(){e.data(this,r.datakey).related-=1},setup:function(){if(!e.data(this,r.datakey)){var n=e.extend({related:0},r.defaults);e.data(this,r.datakey,n),t.add(this,"touchstart mousedown",r.init,n),this.attachEvent&&this.attachEvent("ondragstart",r.dontstart)}},teardown:function(){(e.data(this,r.datakey)||{}).related||(e.removeData(this,r.datakey),t.remove(this,"touchstart mousedown",r.init),r.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",r.dontstart))},init:function(o,i){if(r.touched)return;var a,s=o.data;if(0!=o.which&&s.which>0&&o.which!=s.which)return;if(e(o.target).is(s.not))return;if(s.handle&&!e(o.target).closest(s.handle,o.currentTarget).length)return;if(r.touched="touchstart"==o.type?this:null,s.propagates=1,s.mousedown=this,s.interactions=[r.interaction(this,s)],s.target=o.target,s.pageX=o.pageX,s.pageY=o.pageY,s.dragging=null,a=r.hijack(o,"draginit",s),!s.propagates)return;(a=r.flatten(a))&&a.length&&(s.interactions=[],e.each(a,(function(){s.interactions.push(r.interaction(this,s))}))),s.propagates=s.interactions.length,!1!==s.drop&&n.drop&&n.drop.handler(o,s),r.textselect(!1);let l=e(o.currentTarget).data("__doc__")||document;return r.touched?t.add(r.touched,"touchmove touchend",r.handler,s):t.add(l,"mousemove mouseup",r.handler,s),!(!r.touched||s.live)&&void 0},interaction:function(t,n){var o=t&&t.ownerDocument&&e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new r.callback,droppable:[],offset:o}},handler:function(o){var i=o.data;switch(o.type){case!i.dragging&&"touchmove":o.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(o.pageX-i.pageX,2)+Math.pow(o.pageY-i.pageY,2)<Math.pow(i.distance,2))break;o.target=i.target,r.hijack(o,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":o.preventDefault();case"mousemove":if(i.dragging){if(r.hijack(o,"drag",i),i.propagates){!1!==i.drop&&n.drop&&n.drop.handler(o,i);break}o.type="mouseup"}case"touchend":case"mouseup":default:let a=e(i.target).data("__doc__")||o.currentTarget||document;r.touched?t.remove(r.touched,"touchmove touchend",r.handler):t.remove(a,"mousemove mouseup",r.handler),i.dragging&&(!1!==i.drop&&n.drop&&n.drop.handler(o,i),r.hijack(o,"dragend",i)),r.textselect(!0),!1===i.click&&i.dragging&&e.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=r.touched=!1}},hijack:function(n,o,i,a,s){if(i){var l,c,f,u={event:n.originalEvent,type:n.type},d=o.indexOf("drop")?"drag":"drop",h=a||0,p=isNaN(a)?i.interactions.length:a;n.type=o;var m=function(){};n.originalEvent=new jQuery.Event(u.event,{preventDefault:m,stopPropagation:m,stopImmediatePropagation:m}),i.results=[];do{if(c=i.interactions[h]){if("dragend"!==o&&c.cancelled)continue;f=r.properties(n,i,c),c.results=[],e(s||c[d]||i.droppable).each((function(a,s){if(f.target=s,n.isPropagationStopped=function(){return!1},!1===(l=s?t.dispatch.call(s,n,f):null)?("drag"==d&&(c.cancelled=!0,i.propagates-=1),"drop"==o&&(c[d][a]=null)):"dropinit"==o&&c.droppable.push(r.element(l)||s),"dragstart"==o&&(c.proxy=e(r.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==o)return l})),i.results[h]=r.flatten(c.results),"dropinit"==o&&(c.droppable=r.flatten(c.droppable)),"dragstart"!=o||c.cancelled||f.update()}}while(++h<p);return n.type=u.type,n.originalEvent=u.event,r.flatten(i.results)}},properties:function(e,t,n){var o=n.callback;return o.drag=n.drag,o.proxy=n.proxy||n.drag,o.startX=t.pageX,o.startY=t.pageY,o.deltaX=e.pageX-t.pageX,o.deltaY=e.pageY-t.pageY,o.originalX=n.offset.left,o.originalY=n.offset.top,o.offsetX=o.originalX+o.deltaX,o.offsetY=o.originalY+o.deltaY,o.drop=r.flatten((n.drop||[]).slice()),o.available=r.flatten((n.droppable||[]).slice()),o},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,(function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?r.flatten(t):t}))},textselect:function(t){e(document)[t?"off":"on"]("selectstart",r.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};r.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,(function(e){n.drop.locate(this,e)}))}};var o=t.dispatch;t.dispatch=function(t){if(!(e.data(this,"suppress."+t.type)-(new Date).getTime()>0))return o.apply(this,arguments);e.removeData(this,"suppress."+t.type)},n.draginit=n.dragstart=n.dragend=r}(jquery__WEBPACK_IMPORTED_MODULE_1___default())},434:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/GrpCheckboxN.png"},7464:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/GrpCheckboxY.png"},7961:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/collapse.gif"},9402:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/expand.gif"},2106:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/header-columns-bg.gif"},2104:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/header-columns-over-bg.gif"},3613:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/sort-asc.gif"},133:(e,t,n)=>{"use strict";e.exports=n.p+"hyperion_assets/sort-desc.gif"},1445:(e,t,n)=>{"use strict";n.d(t,{Vq:()=>k,ut:()=>_,Eo:()=>y,dl:()=>v,$q:()=>S,n2:()=>w,EA:()=>C,P_:()=>x,Ni:()=>b});var r="undefined"!=typeof window?window:null,o=null===r,i=o?void 0:r.document,a="horizontal",s=function(){return!1},l=o?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=i.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",c=function(e){return"string"==typeof e||e instanceof String},f=function(e){if(c(e)){var t=i.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},u=function(e,t,n){var r=e[t];return void 0!==r?r:n},d=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},h=function(e,t){var n=i.createElement("div");return n.className="gutter gutter-"+t,n},p=function(e,t,n){var r={};return c(t)?r[e]=t:r[e]=l+"("+t+"% - "+n+"px)",r},m=function(e,t){var n;return(n={})[e]=t+"px",n};const g=function(e,t){if(void 0===t&&(t={}),o)return{};var n,l,c,g,_,v,b=e;Array.from&&(b=Array.from(b));var y=f(b[0]).parentNode,w=getComputedStyle?getComputedStyle(y):null,x=w?w.flexDirection:null,C=u(t,"sizes")||b.map((function(){return 100/b.length})),k=u(t,"minSize",100),S=Array.isArray(k)?k:b.map((function(){return k})),E=u(t,"maxSize",1/0),A=Array.isArray(E)?E:b.map((function(){return E})),D=u(t,"expandToMin",!1),M=u(t,"gutterSize",10),R=u(t,"gutterAlign","center"),P=u(t,"snapOffset",30),T=u(t,"dragInterval",1),L=u(t,"direction",a),z=u(t,"cursor",L===a?"col-resize":"row-resize"),O=u(t,"gutter",h),F=u(t,"elementStyle",p),I=u(t,"gutterStyle",m);function B(e,t,r,o){var i=F(n,t,r,o);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}function $(){return v.map((function(e){return e.size}))}function j(e){return"touches"in e?e.touches[0][l]:e[l]}function N(e){var t=v[this.a],n=v[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,B(t.element,t.size,this._b,t.i),B(n.element,n.size,this._c,n.i)}function W(e){var n,r=v[this.a],o=v[this.b];this.dragging&&(n=j(e)-this.start+(this._b-this.dragOffset),T>1&&(n=Math.round(n/T)*T),n<=r.minSize+P+this._b?n=r.minSize+this._b:n>=this.size-(o.minSize+P+this._c)&&(n=this.size-(o.minSize+this._c)),n>=r.maxSize-P+this._b?n=r.maxSize+this._b:n<=this.size-(o.maxSize-P+this._c)&&(n=this.size-(o.maxSize+this._c)),N.call(this,n),u(t,"onDrag",s)($()))}function H(){var e=v[this.a].element,t=v[this.b].element,r=e.getBoundingClientRect(),o=t.getBoundingClientRect();this.size=r[n]+o[n]+this._b+this._c,this.start=r[c],this.end=r[g]}function U(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[_];return 0===n?null:n-=L===a?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(y);if(null===t)return e;if(S.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,r=[],o=e.map((function(o,i){var a=t*o/100,s=d(M,0===i,i===e.length-1,R),l=S[i]+s;return a<l?(n+=l-a,r.push(0),l):(r.push(a-l),a)}));return 0===n?e:o.map((function(e,o){var i=e;if(n>0&&r[o]-n>0){var a=Math.min(n,r[o]-n);n-=a,i=e-a}return i/t*100}))}function q(){var e=this,n=v[e.a].element,o=v[e.b].element;e.dragging&&u(t,"onDragEnd",s)($()),e.dragging=!1,r.removeEventListener("mouseup",e.stop),r.removeEventListener("touchend",e.stop),r.removeEventListener("touchcancel",e.stop),r.removeEventListener("mousemove",e.move),r.removeEventListener("touchmove",e.move),e.stop=null,e.move=null,n.removeEventListener("selectstart",s),n.removeEventListener("dragstart",s),o.removeEventListener("selectstart",s),o.removeEventListener("dragstart",s),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",o.style.userSelect="",o.style.webkitUserSelect="",o.style.MozUserSelect="",o.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",i.body.style.cursor=""}function V(e){if(!("button"in e)||0===e.button){var n=this,o=v[n.a].element,a=v[n.b].element;n.dragging||u(t,"onDragStart",s)($()),e.preventDefault(),n.dragging=!0,n.move=W.bind(n),n.stop=q.bind(n),r.addEventListener("mouseup",n.stop),r.addEventListener("touchend",n.stop),r.addEventListener("touchcancel",n.stop),r.addEventListener("mousemove",n.move),r.addEventListener("touchmove",n.move),o.addEventListener("selectstart",s),o.addEventListener("dragstart",s),a.addEventListener("selectstart",s),a.addEventListener("dragstart",s),o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",n.gutter.style.cursor=z,n.parent.style.cursor=z,i.body.style.cursor=z,H.call(n),n.dragOffset=j(e)-n.end}}L===a?(n="width",l="clientX",c="left",g="right",_="clientWidth"):"vertical"===L&&(n="height",l="clientY",c="top",g="bottom",_="clientHeight"),C=U(C);var K=[];function Z(e){var t=e.i===K.length,n=t?K[e.i-1]:K[e.i];H.call(n);var r=t?n.size-e.minSize-n._c:e.minSize+n._b;N.call(n,r)}return(v=b.map((function(e,t){var r,o={element:f(e),size:C[t],minSize:S[t],maxSize:A[t],i:t};if(t>0&&((r={a:t-1,b:t,dragging:!1,direction:L,parent:y})._b=d(M,t-1==0,!1,R),r._c=d(M,!1,t===b.length-1,R),"row-reverse"===x||"column-reverse"===x)){var i=r.a;r.a=r.b,r.b=i}if(t>0){var a=O(t,L,o.element);!function(e,t,r){var o=I(n,t,r);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}(a,M,t),r._a=V.bind(r),a.addEventListener("mousedown",r._a),a.addEventListener("touchstart",r._a),y.insertBefore(a,o.element),r.gutter=a}return B(o.element,o.size,d(M,0===t,t===b.length-1,R),t),t>0&&K.push(r),o}))).forEach((function(e){var t=e.element.getBoundingClientRect()[n];t<e.minSize&&(D?Z(e):e.minSize=t)})),{setSizes:function(e){var t=U(e);t.forEach((function(e,n){if(n>0){var r=K[n-1],o=v[r.a],i=v[r.b];o.size=t[n-1],i.size=e,B(o.element,o.size,r._b,o.i),B(i.element,i.size,r._c,i.i)}}))},getSizes:$,collapse:function(e){Z(v[e])},destroy:function(e,t){K.forEach((function(r){if(!0!==t?r.parent.removeChild(r.gutter):(r.gutter.removeEventListener("mousedown",r._a),r.gutter.removeEventListener("touchstart",r._a)),!0!==e){var o=F(n,r.a.size,r._b);Object.keys(o).forEach((function(e){v[r.a].element.style[e]="",v[r.b].element.style[e]=""}))}}))},parent:y,pairs:K}};function _(e,t,n){const r=document.createElement(e);return t&&function(e,t){for(var n in t)if("styles"!==n&&"style"!==n||"object"!=typeof t[n])if("text"===n)e.textContent=t[n];else if("classes"===n)for(var r of t[n])e.classList.add(r);else e.setAttribute(n,t[n]);else for(var o in t[n])e.style[o]=t[n][o]}(r,t),n&&n.append(r),r}function v(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(var o in t)if("styles"!==o&&"style"!==o||"object"!=typeof t[o])if("text"===o)r.textContent=t[o];else if("classes"===o)for(var i of t[o])r.classList.add(i);else r.setAttributeNS(null,o,t[o]);else for(var a in t[o])r.style[a]=t[o][a];return n&&n.append(r),r}function b(e,t={}){const n=t.direction||"horizontal",r=t.number||2,o=[],i="horizontal"===n?["split-horizontal"]:["split-vertical"];for(let t=0;t<r;t++)o.push(_("div",{classes:i},e));return g(o,{direction:n,gutterSize:5}),o}function y(e,t,n){const r={},o=t.tooltip;o&&Object.assign(r,{"aria-label":o.text,role:"tooltip","data-microtip-size":o.size||"small","data-microtip-position":o.position||"bottom-left"});const i=_("span",r);return _("i",{classes:["ciview-menu-icon"].concat(e.split(" ")),styles:{fontSize:t.size||"18px"}},i),t.func&&i.addEventListener("click",(e=>t.func(e))),n&&n.append(i),i}function w(e,t={}){if(e.__resizeinfo__)return;const n={resize:e.style.resize,overflow:e.style.overflow};e.style.resize="both",e.style.overflow="hidden",t.onresizeend&&(n.onresize=function(e,n){let r=e.getBoundingClientRect(),o=r.width,i=r.height;const a=n=>{let r=e.getBoundingClientRect();var a,s;r.width===o&&r.height===i||(a=r.width,s=r.height,t.onresizeend(a,s)),o=r.width,i=r.height};return e.addEventListener("mouseup",a),a}(e)),e.__resizeinfo__=n}function x(e){if(!e.__resizeinfo__)return;const t=e.__resizeinfo__;e.style.resize=t.resize,e.style.overflow=t.overflow,t.onresize&&e.removeEventListener("mouseup",t.onresize),delete e.__resizeinfo__}function C(e){const t=e.__draginfo__;t&&(t.handle.style.cursor=t.cursor,e.style.position=t.position,t.handle.onmousedown=null,delete e.__draginfo__)}class k{constructor(e,t){this.el=e,this.max=t.max||100,e.classList.add("mdv-progress-outer"),this.bar=_("div",{classes:["mdv-progress-inner"]},e),this.text=_("div",{classes:["mdv-progress-text"]},e),this.setText(t.text||""),this.setValue(t.value||0)}setText(e){this.text.textContent=e}setValue(e){this.bar.style.width=`${Math.round(e/this.max*100)}%`}}function S(e,t={}){t.doc||(t.doc=document);let n=0,r=0,o=0,i=0,a=t.handle?e.querySelector(t.handle):e,s=null;function l(a){(a=a||window.event).preventDefault(),a.stopPropagation(),n=o-a.clientX,r=i-a.clientY,o=a.clientX,i=a.clientY;let l=e.offsetTop-r,c=e.offsetLeft-n;if(s){if(l<0||l+s.c_bb.height>s.p_bb.height&&"topleft"!==s.dir)return;if(c<0||c+s.c_bb.width>s.p_bb.width&&"topleft"!==s.dir)return}t.y_axis||(e.style.top=l+"px"),e.style.left=c+"px"}function c(){t.ondragend&&t.ondragend(),e.__doc__.onmouseup=null,e.__doc__.onmousemove=null}t.contain&&(s={dir:t.contain}),a.onmousedown=function(n){(n=n||window.event).preventDefault(),o=n.clientX,i=n.clientY,t.ondragstart&&t.ondragstart(e),s&&(s.p_bb=e.parentElement.getBoundingClientRect(),s.c_bb=e.getBoundingClientRect()),e.__doc__.onmouseup=c,e.__doc__.onmousemove=l},e.__draginfo__={handle:a,cursor:a.style.cursor,position:e.style.position},a.style.cursor="move",e.style.position="absolute",e.style.margin="0px 0px 0px 0px",e.__doc__=t.doc}},8503:(e,t,n)=>{"use strict";function r(e=6,t){e||(e=6);let n="",r=0,o="a"==(t=t&&t.toLowerCase())?10:0,i="n"==t?10:62;for(;r++<e;){let e=Math.random()*(i-o)+o<<0;n+=String.fromCharCode(e+=e>9?e<36?55:61:48)}return n}n.d(t,{z:()=>r})},5364:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"},8012:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"},5686:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%280%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"},3481:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E"}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".hyperion.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="ciview2:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var o,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=a[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){o=l;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var c=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var r=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),i&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={179:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(i,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,a,s]=n,l=0;for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);for(s&&s(__webpack_require__),t&&t(n);l<i.length;l++)o=i[l],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[i[l]]=0},n=self.webpackChunkciview2=self.webpackChunkciview2||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(3379),t=__webpack_require__.n(e),n=__webpack_require__(7795),r=__webpack_require__.n(n),o=__webpack_require__(569),a=__webpack_require__.n(o),s=__webpack_require__(3565),l=__webpack_require__.n(s),f=__webpack_require__(9216),u=__webpack_require__.n(f),d=__webpack_require__(4589),h=__webpack_require__.n(d),p=__webpack_require__(6499),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=a().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),t()(p.Z,m),p.Z&&p.Z.locals&&p.Z.locals;var g=__webpack_require__(1171),_={};_.styleTagTransform=h(),_.setAttributes=l(),_.insert=a().bind(null,"head"),_.domAPI=r(),_.insertStyleElement=u(),t()(g.Z,_),g.Z&&g.Z.locals&&g.Z.locals;var v=__webpack_require__(7047),b={};b.styleTagTransform=h(),b.setAttributes=l(),b.insert=a().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u(),t()(v.Z,b),v.Z&&v.Z.locals&&v.Z.locals;var y=__webpack_require__(8520),w={};w.styleTagTransform=h(),w.setAttributes=l(),w.insert=a().bind(null,"head"),w.domAPI=r(),w.insertStyleElement=u(),t()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var x=__webpack_require__(9719),C={};C.styleTagTransform=h(),C.setAttributes=l(),C.insert=a().bind(null,"head"),C.domAPI=r(),C.insertStyleElement=u(),t()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;var k=__webpack_require__(7745),S={};S.styleTagTransform=h(),S.setAttributes=l(),S.insert=a().bind(null,"head"),S.domAPI=r(),S.insertStyleElement=u(),t()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals;var E=__webpack_require__(4582),A={};A.styleTagTransform=h(),A.setAttributes=l(),A.insert=a().bind(null,"head"),A.domAPI=r(),A.insertStyleElement=u(),t()(E.Z,A),E.Z&&E.Z.locals&&E.Z.locals;var D=__webpack_require__(8503);class M{constructor(e){this.setItemFunction=e,this.menus=[]}show(e,t){this.menus.length>0&&this.remove();const n=this.setItemFunction(t);this._addMenu(n,e.pageX,e.pageY),console.log(e.clientY),e.stopPropagation(),this.removeFunc=()=>{this.remove()},this._getDocument().body.addEventListener("click",this.removeFunc)}remove(){for(let e of this.menus)e.remove();this.menus=[],this.removeFunc&&this._getDocument().body.removeEventListener("click",this.removeFunc)}_addMenu(e,t,n){let r=document.createElement("div");const o=this._getDocument();let i=this.menus.length;r.classList.add("ciview-ctm-main");for(let t of e)this._addItem(r,t,i);o.body.append(r);const a=r.getBoundingClientRect();t+a.width>o.body.clientWidth&&(t=o.body.clientWidth-a.width-3),r.style.left=t+"px",r.style.top=n+"px",this.menus.push(r)}_getDocument(){return this.__doc__?this.__doc__:document}_showSubmenu(e,t,n){for(let e=n+1;e<this.menus.length;e++)this.menus[e].remove();this.menus=this.menus.slice(0,n+1);const r=e.getBoundingClientRect();this._addMenu(t,r.left+r.width+1,r.top)}_addItem(e,t,n){const r=document.createElement("div");if(r.classList.add("ciview-ctm-item"),t.ghosted?r.classList.add("ciview-ctm-ghosted"):r.classList.add("ciview-ctm-active"),t.icon){const e=document.createElement("i");for(let n of t.icon.split(" "))e.classList.add(n);e.classList.add("ciview-ctm-left-icon"),r.appendChild(e)}const o=document.createElement("span");if(o.appendChild(document.createTextNode(t.text)),r.append(o),t.subitems){const e=document.createElement("i");e.classList.add("fas","fa-caret-right","ciview-ctm-right-icon"),r.appendChild(e)}r.addEventListener("click",(o=>{if(t.func&&!t.ghosted&&t.func(o),t.subitems){this._showSubmenu(r,t.subitems,n);for(let t of e.children)t.classList.remove("ciview-ctm-selected");r.classList.add("ciview-ctm-selected")}else this.remove();o.stopPropagation()})),e.append(r)}}var R=__webpack_require__(1445);class P{constructor(e={},t){e.doc=e.doc?e.doc:document,this.config=e,this.buttons={};const n=e.width?e.width+"px":"",r=e.height?e.height+"px":"";if(this.outer=(0,R.ut)("div",{classes:["ciview-dlg-outer"],styles:{width:n,height:r}}),this.header=(0,R.ut)("div",{classes:["ciview-dlg-header"]},this.outer),(0,R.ut)("span",{classes:["ciview-dlg-header-text"],text:e.title},this.header),(0,R.ut)("i",{classes:["fas","fa-times","ciview-dlg-close-icon"]},this.header).addEventListener("click",(()=>{this.close()})),this.dialog=(0,R.ut)("div",{classes:["ciview-dlg-content"]},this.outer),(0,R.n2)(this.outer,{onresizeend:(e,t)=>{this.onResize(e,t)}}),(0,R.$q)(this.outer,{doc:e.doc,handle:".ciview-dlg-header"}),e.columns&&this._createColumns(e.columns),e.footer&&this._addFooter(),e.buttons){this.footer||this._addFooter;for(let t of e.buttons)this._addButton(t)}this.init(t),e.doc.body.append(this.outer);const o=e.doc.body.getBoundingClientRect(),i=this.outer.getBoundingClientRect();e.maxHeight&&i.height>e.maxHeight&&(i.height=e.maxHeight,this.outer.style.height=e.maxHeight+"px");let a=this.config.position;if(a||(a=[o.width/2-i.width/2,o.height/2-i.height/2]),a[0]+i.width>o.width){let e=o.width-i.width;a[0]=e<0?0:e}if(a[1]+i.height>o.height){let e=o.height-i.height;a[1]=e<0?0:e}this.outer.style.left=a[0]+"px",this.outer.style.top=a[1]+"px"}_addFooter(){this.footer=(0,R.ut)("div",{styles:{flex:"0 0 auto",padding:"5px",justifyContent:"center",display:"flex"}},this.outer)}_addButton(e){const t=(0,R.ut)("span",{text:e.text,classes:["ciview-button"]},this.footer);t.addEventListener("click",(()=>this[e.method]())),e.id&&(this.buttons[e.id]=t)}disableButton(e,t){t?this.buttons[e].classList.add("ciview-disabled"):this.buttons[e].classList.remove("ciview-disabled")}_createColumns(e){this.dialog.style.display="flex",this.dialog.style.flexDirection="row",this.columns=[];for(let t=0;t<e;t++)this.columns.push((0,R.ut)("div",{styles:{height:"100%",flexBasis:"0",flexGrow:"1",padding:"0px 4px"}},this.dialog))}close(){this.config.onclose&&this.config.onclose(),this.outer.remove()}init(){}onResize(e,t){}}var T=__webpack_require__(4211),L=__webpack_require__.n(T);const z=class extends P{constructor(e,t){super(e,t)}init(e){this.controls=[];for(let t of e){let e=(0,R.ut)("div",{styles:{padding:"5px"}},this.dialog);"button"!==t.type&&(0,R.ut)("label",{text:t.label},e),t.info&&this.addInfoIcon(t.info,e),this.controls[t.label]=this[t.type](t,e)}}spinner(e,t){let n=(0,R.ut)("input",{type:"number",value:e.current_value,max:e.max||null,min:e.min||0,step:e.step||1},t);n.addEventListener("change",(t=>{e.func(parseInt(n.value))}))}radiobuttons(e,t){const n=(0,R.ut)("div",{},t);for(let t of e.choices){(0,R.ut)("span",{text:t[0]},n);const r=(0,R.ut)("input",{type:"radio",name:e.label,value:t[1]},n);r.checked=e.current_value===t[1],r.addEventListener("click",(t=>{e.func(t.currentTarget.value)}))}}button(e,t){(0,R.ut)("span",{classes:["ciview-button"],text:e.label},t).addEventListener("click",(t=>{e.func()}))}slider(e,t){const n=(0,R.ut)("div",{},t);L().create(n,{start:[e.current_value],range:{min:[e.min],max:[e.max]},step:e.step||null,tooltips:!0,documentElement:this.config.doc}),n.noUiSlider.on("end",(t=>{e.func(parseFloat(t[0]))}))}check(e,t){const n=(0,R.ut)("input",{type:"checkbox"},t);n.checked=e.current_value,n.addEventListener("click",(t=>{e.func(n.checked)}))}dropdown(e,t){const n=(0,R.ut)("select",{styles:{maxWidth:"200px"}});(0,R.ut)("br",{},t);for(let t of e.values[0])(0,R.ut)("option",{text:t[e.values[1]],value:t[e.values[2]]},n);return t.append(n),n.value=e.current_value,n.addEventListener("change",(t=>{e.func(n.value),e.onchange&&e.onchange(this.controls,n.value)})),n}doubleslider(e,t){const n=(0,R.ut)("div",{styles:{}},t);L().create(n,{start:[e.current_value[0],e.current_value[1]],range:{min:[e.min],max:[e.max]},documentElement:e.doc}),n.noUiSlider.on("end",(t=>{e.func(parseFloat(t[0]),parseFloat(t[1]))}))}text(e,t){const n=(0,R.ut)("input",{value:e.current_value},t);n.addEventListener("keyup",(()=>{e.func(n.value)}))}textbox(e,t){const n=(0,R.ut)("textarea",{styles:{height:"20px",width:"100%"}},t);n.value=e.current_value,n.addEventListener("keypress",(t=>{13===t.keyCode?n.blur():e.func(n.value)})),n.addEventListener("blur",(t=>{n.style.height="20px",e.func(n.value)})),n.addEventListener("focus",(e=>{n.style.height="80px"}))}addInfoIcon(e,t){const n=(0,R.ut)("span",{"aria-label":e.text,role:"tooltip","data-microtip-size":"medium","data-microtip-position":e.position,styles:{marginLeft:"5px"},classes:["ttt"]},t);return(0,R.ut)("i",{classes:["fas","fa-info"]},n),n}};class O{constructor(e,t,n){n.color_by&&n.color_by.column&&(n.color_by=n.color_by.column.field),this.config=JSON.parse(JSON.stringify(n)),this.config.id||(this.config.id=(0,D.z)()),this.__doc__=document,this.dataStore=e,this.listeners={},this.div="string"==typeof t?document.getElementById(t):t,this.div.classList.add("ciview-chart-panel"),this.titleBar=(0,R.ut)("div",{classes:["ciview-chart-titlebar"]}),this.title=(0,R.ut)("div",{classes:["ciview-chart-title"],text:n.title},this.titleBar),this.menuSpace=(0,R.ut)("div",{classes:["ciview-chart-menuspace"]},this.titleBar),this.contentDiv=(0,R.ut)("div",{classes:["ciview-chart-content"]}),n.title_color&&(this.titleBar.style.backgroundColor=n.title_color),this.resetButton=this.addMenuIcon("fas fa-sync","remove filter"),this.resetButton.style.display="none",this.resetButton.addEventListener("click",(()=>{this.removeFilter(),this.resetButton.style.display="none"})),this.dataStore.addListener(this.config.id,((e,t)=>{"filtered"===e?this.onDataFiltered(t):"data_changed"===e?this.onDataChanged(t):"data_added"===e?this.onDataAdded(t):"data_highlighted"===e&&this.onDataHighlighted&&this.onDataHighlighted(t)})),this.contextMenu=new M((e=>this.getContextMenu(e))),this.addMenuIcon("fas fa-bars","more").addEventListener("click",(e=>this.contextMenu.show(e))),this.addMenuIcon("fas fa-cog","settings").addEventListener("click",(e=>this._openSettingsDialog(e))),this.addMenuIcon("fas fa-info",n.legend||"No description",{size:"medium"}),this.div.append(this.titleBar),this.div.append(this.contentDiv),this.listeners={},this._setDimensions()}_getContentDimensions(){return{top:5,left:5,height:this.height,width:this.width}}getFilter(){}setFilter(){}addListener(e,t){this.listeners[e]=t}removeListener(e){delete this.listeners[e]}_callListeners(e,t){for(let n in this.listeners)this.listeners[n](e,t)}addMenuIcon(e,t,n={}){const r=(0,R.ut)("span",{"aria-label":t,"data-microtip-color":"red",role:"tooltip","data-microtip-size":n.size||"small","data-microtip-position":n.position||"bottom-left",styles:{margin:"0px 1px"}},this.menuSpace);return(0,R.ut)("i",{classes:["ciview-chart-icon"].concat(e.split(" "))},r),n.func&&r.addEventListener("click",(e=>n.func(e))),r}removeFilter(){}onDataFiltered(){}onDataChanged(e){const t=e.columns;if(!e.hasFiltered){let e=this.config.param,n=!1;"string"==typeof this.config.param&&(e=[this.config.param]);for(let r of e)if(-1!==t.indexOf(r)){n=!0;break}n&&this.onDataFiltered()}-1!==t.indexOf(this.config.color_by)&&this.colorByColumn(this.config.color_by)}getColorLegend(){const e={overideValues:{colorLogScale:this.config.log_color_scale}};return this._addTrimmedColor(this.config.color_by,e),this.dataStore.getColorLegend(this.config.color_by,e)}_addTrimmedColor(e,t){const n=this.config.trim_color_scale,r=this.dataStore.columnIndex[e];n&&"none"!==n&&r.quantiles&&"NA"!==r.quantiles&&(t.overideValues.min=r.quantiles[n][0],t.overideValues.max=r.quantiles[n][1])}setColorLegend(){if(!this.config.color_legend.display)return void(this.legend&&(this.config.color_legend.pos=[this.legend.offsetLeft,this.legend.offsetTop],this.legend.remove(),delete this.legend));const e=this._getContentDimensions();let t=0,n=0;if(this.legend)n=this.legend.style.left,t=this.legend.style.top,this.legend.remove();else{const r=this.config.color_legend;r.pos||(r.pos=[e.left,e.top]),n=r.pos[0]+"px",t=r.pos[1]+"px"}this.legend=this.getColorLegend(),this.contentDiv.append(this.legend),this.legend.style.left=n,this.legend.style.top=t,this.legend.__doc__=this.__doc__}getColorFunction(e,t){this.config.color_by=e;const n={asArray:t,overideValues:{colorLogScale:this.config.log_color_scale}};this._addTrimmedColor(e,n);const r=this.dataStore.getColorFunction(e,n);return this.config.color_legend||(this.config.color_legend={display:!0}),this.setColorLegend(),r}onColumnRemoved(e){let t=this.config.param,n=!1;"string"==typeof this.config.param&&(t=[this.config.param]);for(let r of t)if(e===r){n=!0;break}return n?(this.remove(!1),!0):(this.colorByColumn&&this.config.color_by===e&&(delete this.config.color_by,this.colorByDefault()),!1)}onDataAdded(e){this.onDataFiltered()}addToolTip(){this._tooltip=(0,R.ut)("div",{classes:["ciview-tooltip"],stlyles:{display:"none",position:"absolute"}},this.__doc__.body)}showToolTip(e,t){this._tooltip.innerHTML=t,this._tooltip.style.display="inline-block",this._tooltip.style.left=e.clientX+"px",this._tooltip.style.top=e.clientY+"px"}hideToolTip(){this._tooltip.style.display="none"}remove(){this.titleBar.remove(),this.contentDiv.remove(),this.dataStore.removeListener(this.config.id),this._tooltip&&this._tooltip.remove()}getSettings(){const e=this.config;let t=[{type:"text",label:"Chart Name",current_value:e.title,func:e=>{this.setTitle(e)}}];const n=this.getColorOptions();if(n.colorby){const r=this.dataStore.getColumnList(n.colorby);r.push({name:"None",field:"_none"}),t.push({label:"Color By",type:"dropdown",values:[r,"name","field"],current_value:e.color_by||"_none",func:t=>{"_none"===t?(delete e.color_by,this.colorByDefault()):(e.color_by=t,this.colorByColumn(t))}}),t.push({label:"Show Color Legend",type:"check",current_value:!e.color_legend||e.color_legend.display,func:t=>{e.color_by&&(e.color_legend.display=t,this.setColorLegend())}}),t.push({label:"SymLog Color Scale",type:"check",current_value:e.log_color_scale,func:t=>{e.log_color_scale=t,e.color_by&&this.colorByColumn(e.color_by)}}),t.push({type:"radiobuttons",label:"Trim Color Scale to Percentile",current_value:e.trim_color_scale||"none",choices:[["No Trim","none"],["0.001","0.001"],["0.01","0.01"],["0.05","0.05"]],func:t=>{e.trim_color_scale=t,e.color_by&&this.colorByColumn(e.color_by)}})}return t}_addUnpinIcon(){this.unpinIcon=this.addMenuIcon("fas fa-thumbtack","unpin chart"),this.unpinIcon.addEventListener("click",(e=>{this.unpinIcon.remove(),this.unpinChart()}))}_openSettingsDialog(e){this.settingsDialog||(this.settingsDialog=new z({maxHeight:400,doc:this.__doc__||document,width:300,title:"Settings",position:[e.pageX,e.pageY],onclose:()=>this.settingsDialog=null},this.getSettings()))}getContextMenu(e){let t=[];return this.getImage&&(t=t.concat([{text:"create svg image",icon:"far fa-image",func:()=>this.downloadImage("svg")},{text:"create png image",icon:"far fa-image",func:()=>this.downloadImage("png")}])),this.pinChart&&!this.isPinned&&t.push({text:"pin chart",icon:"fas fa-thumbtack",func:()=>{this.pinChart(),this._addUnpinIcon()}}),this.addToContextMenu&&(t=t.concat(this.addToContextMenu())),t}getDiv(){return this.div}changeBaseDocument(e){this.contextMenu.__doc__=e,this.__doc__=e,this.settingsDialog&&this.settingsDialog.close(),this.legend&&(this.legend.__doc__=e),this._tooltip&&(this._tooltip.remove(),this.addToolTip())}_setConfigValue(e,t,n){return void 0===e[t]&&(e[t]=n),e[t]}drawChart(){}getConfig(){return this.legend&&(this.config.color_legend={display:!0,pos:[this.legend.offsetLeft,this.legend.offsetTop]}),JSON.parse(JSON.stringify(this.config))}getColorOptions(){return{}}setSize(e,t){e&&(this.div.style.height=t+"px",this.div.style.width=e+"px"),this._setDimensions()}_setDimensions(){const e=this.div.getBoundingClientRect(),t=Math.round(e.height),n=Math.round(e.width);this.config.size=[n,t];const r=this.contentDiv.getBoundingClientRect();this.height=Math.round(r.height),this.width=n}downloadImage(e){const t=this.contentDiv.style.color;this.contentDiv.style.color="black",this.getImage((n=>{let r=document.createElement("a");if(r.download=this.config.title+"."+e,"svg"===e)r.href=n;else{let e=n.toDataURL("image/png");e=e.replace(/^data:image\/png/,"data:application/octet-stream"),r.href=e}r.click(),r.remove(),this.contentDiv.style.color=t}),e)}setTitle(e){this.title.textContent=e,this.config.title=e}getImageFromSVG(e,t){var n=e.cloneNode(!0);F(n,e);var r=document.createElement("canvas");n.style.top="0px",r.width=e.width.baseVal.value,r.height=e.height.baseVal.value;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height);var i=(new XMLSerializer).serializeToString(n),a=window.URL||window.webkitURL||window,s=new Image,l=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),c=a.createObjectURL(l);s.src=c,s.onload=function(){o.drawImage(s,0,0),t(r,o)}}}function F(e,t){for(var n=["svg","g"],r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];if(-1==n.indexOf(o.tagName)){var i=t.childNodes[r].currentStyle||window.getComputedStyle(t.childNodes[r]);if("undefined"!=i&&null!=i)for(var a=0;a<i.length;a++)o.style.setProperty(i[a],i.getPropertyValue(i[a]))}else F(o,t.childNodes[r])}}O.types={};const I=O;var B=__webpack_require__(4017);function $(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}var j=__webpack_require__(8348);class N extends Map{constructor(e,t=H){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(W(this,e))}has(e){return super.has(W(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}(this,e))}}function W({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function H(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;const U=Symbol("implicit");function q(){var e=new N,t=[],n=[],r=U;function o(o){let i=e.get(o);if(void 0===i){if(r!==U)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new N;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return q(t,n).unknown(r)},j.o.apply(o,arguments),o}function V(){var e,t,n=q().unknown(void 0),r=n.domain,o=n.range,i=0,a=1,s=!1,l=0,c=0,f=.5;function u(){var n=r().length,u=a<i,d=u?a:i,h=u?i:a;e=(h-d)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),d+=(h-d-e*(n-l))*f,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=$(n).map((function(t){return d+e*t}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([i,a]=e,i=+i,a=+a,u()):[i,a]},n.rangeRound=function(e){return[i,a]=e,i=+i,a=+a,s=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,u()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),u()):f},n.copy=function(){return V(r(),[i,a]).round(s).paddingInner(l).paddingOuter(c).align(f)},j.o.apply(u(),arguments)}var K=__webpack_require__(9713),Z=__webpack_require__(4666),G={value:()=>{}};function X(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Y(r)}function Y(e){this._=e}function Q(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function J(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function ee(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=G,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Y.prototype=X.prototype={constructor:Y,on:function(e,t){var n,r=this._,o=Q(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=ee(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ee(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=J(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Y(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const te=X;var ne,re,oe=0,ie=0,ae=0,se=0,le=0,ce=0,fe="object"==typeof performance&&performance.now?performance:Date,ue="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function de(){return le||(ue(he),le=fe.now()+ce)}function he(){le=0}function pe(){this._call=this._time=this._next=null}function me(e,t,n){var r=new pe;return r.restart(e,t,n),r}function ge(){le=(se=fe.now())+ce,oe=ie=0;try{!function(){de(),++oe;for(var e,t=ne;t;)(e=le-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oe}()}finally{oe=0,function(){for(var e,t,n=ne,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ne=t);re=e,ve(r)}(),le=0}}function _e(){var e=fe.now(),t=e-se;t>1e3&&(ce-=t,se=e)}function ve(e){oe||(ie&&(ie=clearTimeout(ie)),e-le>24?(e<1/0&&(ie=setTimeout(ge,e-fe.now()-ce)),ae&&(ae=clearInterval(ae))):(ae||(se=fe.now(),ae=setInterval(_e,1e3)),oe=1,ue(ge)))}function be(e,t,n){var r=new pe;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}pe.prototype=me.prototype={constructor:pe,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?de():+n)+(null==t?0:+t),this._next||re===this||(re?re._next=this:ne=this,re=this),this._call=e,this._time=n,ve()},stop:function(){this._call&&(this._call=null,this._time=1/0,ve())}};var ye=te("start","end","cancel","interrupt"),we=[];function xe(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(l){var c,f,u,d;if(1!==n.state)return s();for(c in o)if((d=o[c]).name===n.name){if(3===d.state)return be(i);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[c])}if(be((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(u=n.tween.length),c=0,f=-1;c<u;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=d);r.length=f+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=me((function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:o,on:ye,tween:we,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Ce(e,t){var n=Se(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ke(e,t){var n=Se(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Se(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ee(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}var Ae,De=__webpack_require__(3626),Me=180/Math.PI,Re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pe(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Me,skewX:Math.atan(l)*Me,scaleX:a,scaleY:s}}function Te(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:(0,De.Z)(e,o)},{i:l-2,x:(0,De.Z)(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:(0,De.Z)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:(0,De.Z)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,De.Z)(e,n)},{i:s-2,x:(0,De.Z)(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Le=Te((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Re:Pe(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ze=Te((function(e){return null==e?Re:(Ae||(Ae=document.createElementNS("http://www.w3.org/2000/svg","g")),Ae.setAttribute("transform",e),(e=Ae.transform.baseVal.consolidate())?Pe((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Re)}),", ",")",")"),Oe=__webpack_require__(3888);function Fe(e,t){var n,r;return function(){var o=ke(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function Ie(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=ke(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function Be(e,t,n){var r=e._id;return e.each((function(){var e=ke(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Se(e,r).value[t]}}var $e=__webpack_require__(2650),je=__webpack_require__(7765),Ne=__webpack_require__(9843);function We(e,t){var n;return("number"==typeof t?De.Z:t instanceof $e.ZP?je.ZP:(n=(0,$e.ZP)(t))?(t=n,je.ZP):Ne.Z)(e,t)}function He(e){return function(){this.removeAttribute(e)}}function Ue(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qe(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Ve(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Ke(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function Ze(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function Ge(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Xe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ye(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Xe(e,o)),n}return o._value=t,o}function Qe(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ge(e,o)),n}return o._value=t,o}function Je(e,t){return function(){Ce(this,e).delay=+t.apply(this,arguments)}}function et(e,t){return t=+t,function(){Ce(this,e).delay=t}}function tt(e,t){return function(){ke(this,e).duration=+t.apply(this,arguments)}}function nt(e,t){return t=+t,function(){ke(this,e).duration=t}}function rt(e,t){if("function"!=typeof t)throw new Error;return function(){ke(this,e).ease=t}}var ot=__webpack_require__(3083);function it(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Ce:ke;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var at=__webpack_require__(2634),st=__webpack_require__(3545),lt=Z.ZP.prototype.constructor,ct=__webpack_require__(9986);function ft(e){return function(){this.style.removeProperty(e)}}function ut(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function dt(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&ut(e,i,n)),r}return i._value=t,i}function ht(e){return function(t){this.textContent=e.call(this,t)}}function pt(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&ht(r)),t}return r._value=e,r}var mt=0;function gt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _t(){return++mt}var vt=Z.ZP.prototype;gt.prototype=function(e){return(0,Z.ZP)().transition(e)}.prototype={constructor:gt,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,at.Z)(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],f=c.length,u=i[a]=new Array(f),d=0;d<f;++d)(s=c[d])&&(l=e.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),u[d]=l,xe(u[d],t,n,d,u,Se(s,n)));return new gt(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,st.Z)(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],f=c.length,u=0;u<f;++u)if(l=c[u]){for(var d,h=e.call(l,l.__data__,u,c),p=Se(l,n),m=0,g=h.length;m<g;++m)(d=h[m])&&xe(d,t,n,m,h,p);i.push(h),a.push(l)}return new gt(i,a,t,n)},selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:function(e){"function"!=typeof e&&(e=(0,ot.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new gt(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],f=n[s],u=c.length,d=a[s]=new Array(u),h=0;h<u;++h)(l=c[h]||f[h])&&(d[h]=l);for(;s<r;++s)a[s]=t[s];return new gt(a,this._parents,this._name,this._id)},selection:function(){return new lt(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=_t(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var f=Se(a,t);xe(a,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new gt(r,this._parents,e,n)},call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:function(e,t){var n=this._id;return arguments.length<2?Se(this.node(),n).on.on(e):this.each(it(n,e,t))},attr:function(e,t){var n=(0,Oe.Z)(e),r="transform"===n?ze:We;return this.attrTween(e,"function"==typeof t?(n.local?Ze:Ke)(n,r,Be(this,"attr."+e,t)):null==t?(n.local?Ue:He)(n):(n.local?Ve:qe)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=(0,Oe.Z)(e);return this.tween(n,(r.local?Ye:Qe)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Le:We;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=(0,ct.S)(this,e),a=(this.style.removeProperty(e),(0,ct.S)(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,ft(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=(0,ct.S)(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=(0,ct.S)(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,Be(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=ke(this,e),c=l.on,f=null==l.value[a]?i||(i=ft(t)):void 0;c===n&&o===f||(r=(n=c).copy()).on(s,o=f),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=(0,ct.S)(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,dt(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Be(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,pt(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=Se(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?Fe:Ie)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Je:et)(t,e)):Se(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?tt:nt)(t,e)):Se(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(rt(t,e)):Se(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;ke(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=ke(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:vt[Symbol.iterator]};var bt={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function yt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Z.ZP.prototype.interrupt=function(e){return this.each((function(){Ee(this,e)}))},Z.ZP.prototype.transition=function(e){var t,n;e instanceof gt?(t=e._id,e=e._name):(t=_t(),(n=bt).time=de(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&xe(a,e,t,c,s,n||yt(a,t));return new gt(r,this._parents,e,t)};const wt=e=>+e;var xt=__webpack_require__(9374);function Ct(e,t){return e.parent===t.parent?1:2}function kt(e,t){return e+t.x}function St(e,t){return Math.max(e,t.y)}function Et(){var e=Ct,t=1,n=1,r=!1;function o(o){var i,a=0;o.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(kt,0)/e.length}(n),t.y=function(e){return 1+e.reduce(St,0)}(n)):(t.x=i?a+=e(t,i):0,t.y=0,i=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(o),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),c=s.x-e(s,l)/2,f=l.x+e(l,s)/2;return o.eachAfter(r?function(e){e.x=(e.x-o.x)*t,e.y=(o.y-e.y)*n}:function(e){e.x=(e.x-c)/(f-c)*t,e.y=(1-(o.y?e.y/o.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o}const At=class extends I{constructor(e,t,n,r){super(e,t,n),this.svg=(0,B.Z)(this.contentDiv).append("svg").attr("width",this.width).attr("height",this.height),this.config.axis=this.config.axis||{};const o=this.config.axis;function i(e,t,n){null==e[t]&&(e[t]=n)}for(let e of[["x",25],["y",40],["ry",25],["tx",25]]){const t=r[e[0]];if(t){o[e[0]]=o[e[0]]||{};const n=o[e[0]];i(n,"textSize",13),i(n,"label",""),i(n,"size",t.size||e[1]),i(n,"tickfont",10)}}this._setMargins(),this.graph_area=this.svg.append("g").attr("transform",`translate(${this.margins.left},${this.margins.top})`),this.ry_axis_svg=this.svg.append("g"),this.tx_axis_svg=this.svg.append("g"),this.x_axis_svg=this.svg.append("g"),this.y_axis_svg=this.svg.append("g");const a=r.x;a&&(a.custom||(this.x_scale="band"===a.type?V():(0,K.Z)(),this.x_axis_call=(0,xt.LL)(this.x_scale)),this.x_axis_label=this.x_axis_svg.append("text").style("text-anchor","middle").style("fill","black").attr("alignment-baseline","auto"));const s=r.y;s&&(s.custom||(this.y_scale="band"===s.type?V():(0,K.Z)(),this.y_axis_call=(0,xt.y4)(this.y_scale)),this.y_axis_label=this.y_axis_svg.append("text").attr("text-anchor","middle").style("fill","black").attr("alignment-baseline","auto"));const l=r.ry;l&&l.label&&(this.ry_axis_label=this.ry_axis_svg.append("text").attr("text-anchor","middle").style("fill","black").attr("alignment-baseline","text-top"))}_setMargins(){const e=this.config.axis;this.margins={top:e.tx?e.tx.size:10,right:e.ry?e.ry.size:10,bottom:e.x?e.x.size:10,left:e.y?e.y.size:10}}_getContentDimensions(){return{top:this.margins.top,left:this.margins.left,height:this.height-this.margins.bottom-this.margins.top,width:this.width-this.margins.left-this.margins.right}}setAxisSize(e,t){switch(e){case"tx":this.margins.top=t;break;case"y":this.config.axis.y.size=t,this.margins.left=t;break;case"x":this.config.axis.x.size=t,this.margins.bottom=t}this.graph_area.attr("transform",`translate(${this.margins.left},${this.margins.top})`)}updateAxis(){const e=this._getContentDimensions(),t=this.config.axis;this.ry_axis_svg.attr("transform",`translate(${e.left+e.width},${e.top})`),this.tx_axis_svg.attr("transform",`translate(${e.left},0)`),this.x_axis_svg.attr("transform",`translate(${e.left},${this.height-this.margins.bottom})`),this.y_axis_svg.attr("transform",`translate(${e.left},${e.top})`),t.x&&(this.x_scale&&(this.x_scale.range([0,e.width]),this.x_axis_svg.selectAll(".tick text"),this.x_axis_svg.transition().call(this.x_axis_call),t.x.rotate_labels?this.x_axis_svg.selectAll(".tick text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".10em").attr("transform","rotate(-45)"):this.x_axis_svg.selectAll(".tick text").style("text-anchor",null).attr("dx",null).attr("dy",".71em").attr("transform",null),this.x_axis_svg.selectAll(".tick text").attr("font-size",t.x.tickfont)),this.x_axis_label.attr("x",e.width/2).attr("y",this.margins.bottom-4).text(this.config.axis.x.label).attr("font-size",this.config.axis.x.textsize+"px")),t.y&&(this.y_scale&&(this.y_scale.range([0,e.height]),this.y_axis_svg.transition().call(this.y_axis_call),t.y.rotate_labels?this.y_axis_svg.selectAll(".tick text").style("text-anchor","end").attr("dy","1em").attr("transform","rotate(+45)"):this.y_axis_svg.selectAll(".tick text").style("text-anchor",null).attr("dx",null).attr("dy","0.32em").attr("transform",null),this.y_axis_svg.selectAll(".tick text").attr("font-size",t.y.tickfont)),this.y_axis_label.attr("x",-e.height/2).attr("y",10-e.left).attr("transform","rotate(-90)").text(this.config.axis.y.label).attr("font-size",this.config.axis.y.textsize+"px")),this.ry_axis_label&&this.ry_axis_label.attr("x",e.height/2).attr("y",15-this.margins.right).attr("transform","rotate(90)").text(this.config.axis.ry.label).attr("font-size",this.config.axis.ry.textsize+"px")}setSize(e,t){super.setSize(e,t),this.svg&&this.svg.attr("width",this.width).attr("height",this.height)}drawXTree(e,t,n,r){(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt);const o=this._getContentDimensions(),i=Et().size([o.width,n])(e).descendants(),a=o.width/t;for(let e of i)e.children||(e.x=a/2+a*e.data.order);for(let e of i)if(!e.children){let t=e.parent;for(;t;)t.x=t.children[0].x+(t.children[1].x-t.children[0].x)/2,t=t.parent}this.tx_axis_svg.selectAll(".tree-link").data(i.slice(1)).join("path").attr("class","tree-link").style("stroke","currentColor").style("fill","none").style("stroke-width","1px").transition("trans").attr("d",(e=>{let t=e.x;return e.children||(t=a/2+a*e.data.order),`M ${t} ${e.y+r} L${t} ${e.parent.y+r} L${e.parent.x} ${e.parent.y+r}`}))}drawYTree(e,t){(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt);const n=this._getContentDimensions(),r=this.margins.right,o=Et().size([n.height,r])(e).descendants(),i=n.height/t;for(let e of o)e.children||(e.x=i/2+i*e.data.order);for(let e of o)if(!e.children){let t=e.parent;for(;t;)t.x=t.children[0].x+(t.children[1].x-t.children[0].x)/2,t=t.parent}this.ry_axis_svg.selectAll(".tree-link").data(o.slice(1)).join("path").attr("class","tree-link").style("stroke","currentColor").style("fill","none").style("stroke-width","1px").transition("trans").attr("d",(e=>{let t=e.x;return e.children||(t=i/2+i*e.data.order),`M ${r-e.y} ${t} L${r-e.parent.y} ${t} L${r-e.parent.y} ${e.parent.x}`}))}getSettings(){const e=super.getSettings(),t=this.config;let n=[];return this.config.axis.y&&(n=n.concat([{type:"check",current_value:t.axis.y.rotate_labels,label:"Rotate Y axis labels",func:e=>{t.axis.y.rotate_labels=e,this.setSize()}},{type:"slider",max:20,min:4,step:1,doc:this.__doc__,current_value:t.axis.y.tickfont,label:"Y axis text size",func:e=>{t.axis.y.tickfont=e,this.setSize()}},{type:"slider",max:200,min:20,step:1,doc:this.__doc__,current_value:t.axis.y.size,label:"Y axis width",func:e=>{this.setAxisSize("y",e),this.setSize()}}])),this.config.axis.x&&(n=n.concat([{type:"check",current_value:t.axis.x.rotate_labels,label:"Rotate X axis labels",func:e=>{t.axis.x.rotate_labels=e,this.updateAxis()}},{type:"slider",max:20,min:4,step:1,doc:this.__doc__,current_value:t.axis.x.tickfont,label:"X axis text size",func:e=>{t.axis.x.tickfont=e,this.setSize()}},{type:"slider",max:200,min:20,step:1,doc:this.__doc__,current_value:t.axis.x.size,label:"X axis Height",func:e=>{this.setAxisSize("x",e),this.setSize()}}])),e.concat(n)}getImage(e,t){this.addToImage&&this.addToImage();const n=this.config.color_legend;let r=null,o=null;this.legend&&(o=this.legend.querySelector("g"),r=(0,B.Z)(o).attr("transform",`translate(${n.pos[0]},${n.pos[1]})`),this.svg.node().append(r.node()));const i=(new XMLSerializer).serializeToString(this.svg.node());"png"===t?this.getImageFromSVG(this.svg.node(),(t=>{e(t),this.removeFromImage&&this.removeFromImage(),r&&(r.attr("transform","translate(0,0)"),this.legend.querySelector("svg").append(o))})):(e("data:image/svg+xml,"+encodeURIComponent(i)),this.removeFromImage&&this.removeFromImage(),r&&(r.attr("transform","translate(0,0)"),this.legend.querySelector("svg").append(o)))}};I.types.custom_box_plot={name:"Custom Box Plot",allow_user_add:!1,class:class extends At{constructor(e,t,n){super(e,t,n,{x:{type:"band"},y:{}});const r=this.config.param,o=this.dataStore.getColumnValues(r[0]);this.x_scale.domain(o.slice(0)),this.config,this.addToolTip(),this.dim=this.dataStore.getDimension("category_dimension"),this.addDenominators(),this.onDataFiltered()}onDataFiltered(){const e=this.config.param;let t=null;3===e.length&&(t=this.dataStore.getColumnValues(this.config.param[2]).indexOf(this.config.category)),this.dim.getSankeyData((e=>{this.data=e,this.drawChart()}),e,{method:"proportion",category:t,denominators:this.denom})}remove(e=!0){this.dim.destroy(e),super.remove()}setSize(e,t){super.setSize(e,t),this.drawChart()}addDenominators(){const e=this.config.denominators;if(this.denom=null,e){this.denom=[];const t=this.dataStore.getColumnValues(this.config.param[1]);for(let n=0;n<t.length;n++)this.denom.push(e[t[n]]||100)}}drawChart(){const e=(0,B.Z)(this.contentDiv).transition().duration(200).ease(wt),t=this.config.param;this.y_scale.domain([this.data.max+this.data.max/10,0]),this.updateAxis();const n=this.dataStore.getColumnColors(t[0]),r=this.dataStore.getColumnValues(t[0]),o=this.dataStore.getColumnValues(t[1]),i=this._getContentDimensions().width/r.length,a=this,s=i/5,l=i/10,c=i/4,f=i/5;this.graph_area.selectAll(".cbp-col").data(this.data).join("g").attr("transform",((e,t)=>`translate(${t*i},0)`)).attr("class","cbp-col").selectAll(".cbp-circle").data((e=>e)).join("circle").attr("class","cbp-circle").on("mouseover mousemove",((e,t)=>{const n=`${r[t[1]]}<br>${o[t[2]]}`;a.showToolTip(e,n)})).on("mouseleave",(()=>{a.hideToolTip()})).transition(e).attr("cy",((e,t)=>a.y_scale(e[0]))).attr("fill",((e,t)=>n[e[1]])).attr("r",5).attr("cx",(e=>s+l*e[3])),this.graph_area.selectAll(".cbp-rect").data(this.data).join("path").attr("d",((e,t)=>{const n=t*i+i/2,r=a.y_scale(e.av);let o=e.av+e.std;o=a.y_scale(o>e.max?e.max:o);let s=e.av-e.std;return s=a.y_scale(s<e.min?e.min:s),`M${n} ${o} L${n} ${s}\n                    M${n-c} ${r} L${n+c} ${r} \n                    M${n-f} ${o} L${n+f} ${o}     \n                    M${n-f} ${s} L${n+f} ${s}      `})).style("fill","none").style("stroke","currentColor").attr("stroke-width",1).attr("class","cbp-rect")}}};var Dt=__webpack_require__(5892);I.types.multi_box_plot={name:"Multi BoxPlot",class:class extends At{constructor(e,t,n){super(e,t,n,{x:{type:"band"},y:{}});const r=this.config;r.type="multi_box_plot";const o=[];this.dim=this.dataStore.getDimension("catrange_dimension");for(let e=1;e<r.param.length;e++)o.push(this.dataStore.getColumnName(r.param[e]));this.x_scale.domain(o),this.names=o,this.y_scale.domain([1,0]),this.addToolTip(),this.onDataFiltered()}onDataFiltered(e){const t={analysis:"multi",scaleVals:[],category:this.config.category},n=this.config.param;let r=this.config.percentile_trim;for(let e=1;e<n.length;e++){const o=this.dataStore.columnIndex[n[e]];t.scaleVals.push([r?o.quantiles[r][0]:o.minMax[0],r?o.quantiles[r][1]:o.minMax[1]])}this.dim.getMultiBoxPlotData((e=>{this.data=e,this.drawChart()}),this.config.param,t)}setSize(e,t){super.setSize(e,t),this.drawChart()}remove(e=!0){this.dim.destroy(e),super.remove()}getSettings(){const e=super.getSettings(),t=this.config;return e.push({type:"radiobuttons",label:"Trim  to Percentile",current_value:t.percentile_trim||"none",choices:[["No Trim","none"],["0.001","0.001"],["0.01","0.01"],["0.05","0.05"]],func:e=>{"none"===e?delete t.percentile_trim:t.percentile_trim=e,this.onDataFiltered()}}),e}drawChart(){this.y_scale.domain([this.data.max,this.data.min]),this.updateAxis();const e=this,t=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),n=this.y_scale,r=this._getContentDimensions().width/(this.config.param.length-1),o=Dt.HT;this.graph_area.selectAll(".boxplot-rect").data(this.data).join("rect").attr("class","boxplot-rect").on("mouseover mousemove",((t,n)=>{const r=`${e.names[n.id]}`;e.showToolTip(t,r)})).on("mouseleave",(()=>{e.hideToolTip()})).transition(t).attr("x",((e,t)=>t*(r-3)+3*(t+1))).attr("y",(e=>n(e.Q3))).attr("width",r-6>1?r-6:1).attr("height",(e=>{const t=n(e.Q1)-n(e.Q3);return isNaN(t)?0:t})).attr("fill","none").attr("stroke",((e,t)=>o[t])).attr("stroke-width",3),this.graph_area.selectAll(".boxplot-whisker").data(this.data).join("path").attr("class","boxplot-whisker").transition(t).attr("stroke",((e,t)=>o[t])).attr("fill","none").attr("stroke-width",3).attr("d",((e,t)=>{if(isNaN(e.med))return"";const o=t*(r-6)+6*(t+1),i=t*(r-3)+3*(t+1),a=t*r+.5*r,s=n(e.max),l=n(e.min);return null==s||null==l?"":`\n             M${o} ${s} L${o+r-12} ${s}\n             M${a} ${s} L${a} ${n(e.Q3)}\n             M${i} ${n(e.med)} L${i+r-6} ${n(e.med)}\n             M${a} ${l} L${a} ${n(e.Q1)}\n             M${o} ${l} L${o+r-12} ${l}`}))}},allow_user_add:!1,params:[{type:"_multi_column:number",name:"Fields"}]};class Mt{constructor(e,t={}){this.dataStore=e,this.data=new Int32Array(0);for(let e=0;e<0;e++)this.data[e]=e;this.size=0,null!=t.autoupdate&&!0!==t.autoupdate||e.addListener("sss",(e=>{"filtered"===e&&this.updateModel()})),this.listeners={}}getLength(){return this.size}addListener(e,t){this.listeners[e]=t}setColumns(e){this.columns=e}sort(e,t){const n=this.dataStore.getRawColumn(e),r=this.dataStore.columnIndex[e];if("unique"===r.datatype){const e={},o=new TextDecoder,i=r.stringLength,a="desc"===t?1:-1;for(let t=0;t<this.data.length;t++){const r=this.data[t];e[r]=o.decode(n.slice(r*i,r*i+i))}this.data.sort(((t,n)=>e[t].localeCompare(e[n])*a))}else"desc"===t?this.data.sort(((e,t)=>{let r=n[e],o=n[t];return r=isNaN(r)?Number.MAX_VALUE:r,o=isNaN(o)?Number.MAX_VALUE:o,r-o})):this.data.sort(((e,t)=>{let r=n[e],o=n[t];return r=isNaN(r)?Number.MIN_VALUE:r,o=isNaN(o)?Number.MIN_VALUE:o,o-r}))}createColumn(e,t){const n={name:e,field:e,datatype:"text",values:[""]},r=new SharedArrayBuffer(this.dataStore.size);if(t){const e=this.dataStore.getRawColumn(t);new Uint8Array(r).set(e),n.values=this.dataStore.getColumnValues(t).slice(0)}this.dataStore.addColumn(n,r,!0)}removeColumn(e){this.dataStore.removeColumn(e,!0,!0)}getDataAsBlob(e="\t",t="\n"){return this.dataStore.getDataAsBlob(this.columns,this.data,e,t)}getValueSuggestion(e,t){const n=this.dataStore.getColumnValues(t);for(let t of n){if(t===e)return t;if(t.startsWith(e))return t}return null}_getValueIndex(e,t){let n=t.values.indexOf(e);return-1===n&&(t.values.push(e),n=t.values.length-1),n}updateValue(e,t,n,r=!0){const o=this.dataStore.columnIndex[n];let i=this._getValueIndex(e,o);o.data[t]=i,r&&this.dataStore.dataChanged([n])}updateRange(e,t,n,r){const o=this.dataStore.getRawColumn(e),i="+"===r?o[this.data[t]]:o[this.data[n]];let a="+"===r?t:n,s="+"===r?1:-1,l="+"===r?n+1:t-1;for(;a!==l;a+=s)o[this.data[a]]=i;this.dataStore.dataChanged([e])}replaceValues(e,t,n,r=!0){const o=this.dataStore.columnIndex[n];let i=this._getValueIndex(e,o);if("_all_"===t)for(let e=0;e<this.data.length;e++)o.data[this.data[e]]=i;else if("_blank_"===t){let t=o.values.indexOf(e);if(-1===t)return;for(let e=0;e<this.data.length;e++){const n=this.data[e];o.data[n]===t&&(o.data[this.data[e]]=i)}}else{if("_delete_"==t)return void this.dataStore.cleanColumnData(n);{let e=this._getValueIndex(t,o);for(let t=0;t<this.data.length;t++){const n=this.data[t];o.data[n]===i&&(o.data[this.data[t]]=e)}}}r&&this.dataStore.dataChanged([n])}updateModel(){const e=this.dataStore.filterArray;this.data=new Int32Array(this.dataStore.filterSize);const t=this.data,n=this.dataStore.size;let r=0;for(let o=0;o<n;o++)0===e[o]&&(t[r++]=o);this.size=this.dataStore.filterSize;for(let e in this.listeners)this.listeners[e]()}getId(e){return this.data[e]}getItemField(e,t){return this.dataStore.getRowAsObject(this.data[e],[t])[t]}getItem(e){return this.dataStore.getRowAsObject(this.data[e],this.columns)}}I.types.image_table_chart={class:class extends I{constructor(e,t,n){super(e,t,n),this.dataModel=new Mt(e,{autoupdate:!1}),this.dataModel.setColumns(this.config.param),this.dataModel.updateModel();const r=this.config;this.grid=new class{constructor(e,t,n){"string"==typeof e&&(e=document.getElementById("#"+e)),n||(n={}),this.domId=this._getRandomString(),this.row_first=0,this.row_last=139,this.tile_height=205,this.tile_width=205;let r=this;this.__doc__=document,this.display_columns=[],this.selection_mode=!0,this.imageFunc=n.imageFunc,n.background_color=n.background_color?n.background_color:"lightgray",this.base_url=n.base_url,this.parent=e,this.selected_tiles={},this.margin=n.margin_size?n.margin_size:10,this.cache_size=5;const o=this.parent.getBoundingClientRect();this.config=n;const i=n.background_color;this.view_port=(0,R.ut)("div",{styles:{height:o.height+"px",width:o.width+"px",overflow:"auto",backgroundColor:i}},this.parent),this.canvas=(0,R.ut)("div",{styles:{position:"relative",backgroundColor:i}},this.view_port),this.canvas.addEventListener("click",(e=>{this.imageClicked(e,e.srcElement)})),this.canvas.addEventListener("mouseover",(e=>{this.mouseOver(e,e.srcElement)})),this.canvas.addEventListener("keydown",(e=>{this.keyPresses(e)})),this.data_view=t,this._setCanvasHeight(),this.view_port.addEventListener("scroll",(e=>this._hasScrolled(e))),this.parent.append(this.view_port),this.resize_timeout=null,this.resize_timeout_length=50,this.listeners={image_clicked:new Map,image_over:new Map,image_out:new Map,data_changed:new Map,image_selected:new Map},this.highlightcolors=null,this.tag_color_palletes={},this.image_suffix=n.image_suffix?n.image_suffix:".png",n.columns&&this.setColumns(n.columns);let a=new Image;a.onload=function(e){r.originalDimensions=[a.width,a.height],r.preferred_width=r.img_width=a.width,r.preferred_height=r.img_height=a.height,n.initial_image_width&&(r.preferred_width=n.initial_image_width,r.preferred_height=Math.round(r.preferred_width/r.img_width*r.img_height)),r._resize()};const s=this.config.base_url,l=this.config.image_type,c=this.data_view.getItemField(1,this.config.image_key);a.src=`${s}${c}.${l}`}mouseOver(e,t){if(t.id){let n=t.id.split("-"),r=parseInt(n[1]),o=this.data_view.getItem(r);if(!o)return;if(this.image_over){if(o.id===this.image_over.id)return;this.listeners.image_out.forEach((t=>{t(e,this.image_over[0],self.image_over[1])}))}this.listeners.image_over.forEach((n=>{n(e,o,t)})),this.image_over=t}else this.image_over&&this.listeners.image_out.forEach((t=>{t(e,self.image_over[0],self.image_over[1])})),this.image_over=null}imageClicked(e,t){let n=t.id;if(n||(n=t.parentElement.id),!n)return;let r=n.split("-");if("mlvtile"===r[0]){let n=null,o=null,i=parseInt(r[2]);if(e.shiftKey&&null!=self.last_img_clicked){const e=this.last_img_clicked.index;n=[],o=[];let t=e+1,r=i+1;-1==(i-e<0?-1:1)&&(t=i,r=e);for(let e=t;e<r;e++){let t=this.data_view.getId(e);o.push(t)}o.push(this.data_view.getId(e))}const a=this.data_view.getId(i);this.listeners.image_clicked.forEach((n=>{n(e,a,t)})),this.last_index_clicked=i,this.selection_mode&&this.setSelectedTiles([i],e.ctrlKey,!0)}}keyPressed(e){if(39===e.which||40===e.which){if(this.last_index_clicked===this.data_view.getFilteredItems().length-1)return;(this.last_index_clicked||0===this.last_index_clicked)&&(this.last_index_clicked++,this.setSelectedTiles([this.data_view.getItem(this.last_index_clicked).id],!1,!0),this.last_index_clicked>this.getLastTileInView()&&this.show(this.last_index_clicked))}else if(37===e.which||38===e.which){if(0===this.last_index_clicked)return;this.last_index_clicked&&(this.last_index_clicked--,this.setSelectedTiles([this.data_view.getItem(this.last_index_clicked).id],!1,!0),this.last_index_clicked<this.getFirstTileInView()&&this.show(this.last_index_clicked))}}addListener(e,t,n){let r=this.listeners[e];return r?(n||(n=this._getRandomString()),r.set(n,t),n):null}removeListener(e,t){let n=this.listeners[e];return!!n&&n.delete(t)}setImageWidth(e,t){this.setImageDimensions([e,Math.round(e/this.img_width*this.img_height)],t)}setImageDimensions(e,t){let n=this.getFirstTileInView();e?(this.preferred_width=e[0],this.preferred_height=e[1]):e=[this.preferred_width,this.preferred_height],this.width<this.preferred_width+2*this.margin&&0!==this.width?(e[0]=this.width-3*this.margin,this.num_per_row=1):(this.num_per_row=Math.ceil((this.width-this.margin)/(this.preferred_width+this.margin)),e[0]=Math.floor((this.width-2*this.margin)/this.num_per_row)-this.margin),e[1]=Math.round(e[0]/this.preferred_width*this.preferred_height),this.tile_width=parseInt(e[0])+this.margin,this.tile_height=parseInt(e[1])+this.margin,this.t_width=parseInt(e[0]),this.t_height=parseInt(e[1]);let r=Math.floor((this.height+this.cache_size*this.tile_height)/this.tile_height);this.max_difference=r+this.cache_size,t&&this.show(n)}resize(){let e=this;clearTimeout(this.resize_timeout),e.resize_timeout=setTimeout((()=>{e._resize()}),e.resize_timeout_length)}getFirstTileInView(){let e=this.view_port.scrollTop;return Math.floor(e/this.tile_height)*this.num_per_row}getLastTileInView(){let e=this.view_port.scrollTop+this.view_port.height();return Math.floor(e/this.tile_height)*this.num_per_row}setColumns(e){this.columns=e}setColorBy(e){this.color_by=e}_setCanvasHeight(){let e=Math.ceil(this.data_view.getLength()/this.num_per_row)*this.tile_height+this.margin;this.canvas.style.height=e+"px"}_hasScrolled(){clearTimeout(this.scroll_timeout);let e=this.view_port.scrollTop,t=Math.floor((e-this.cache_size*this.tile_height)/this.tile_height),n=Math.floor((e+this.height+this.cache_size*this.tile_height)/this.tile_height);t<0&&(t=0);let r=10;Math.abs(t-this.row_displayed_first)>this.max_difference&&(r=50),this.scroll_timeout=setTimeout((()=>{Math.abs(t-this.row_displayed_first)>this.max_difference?this.render(t,n,!0):this.render(t,n)}),r)}_removeByClass(e){document.querySelectorAll(e).forEach((e=>e.remove()))}render(e,t,n){if(n){this.canvas.innerHTML="";for(let n=e;n<t;n++)this._addRow(n)}else{if(e===this.row_displayed_first&&0!==e)return;if(e<this.row_displayed_first){for(let t=e;t<this.row_displayed_first;t++)this._addRow(t);for(let e=t;e<this.row_displayed_last;e++)this._removeByClass(`.mlv-tile-${this.domId}-${e}`)}else{for(let e=this.row_displayed_last;e<t;e++)this._addRow(e);for(let t=this.row_displayed_first;t<e;t++)this._removeByClass(`.mlv-tile-${this.domId}-${t}`)}}this.row_displayed_first=e,this.row_displayed_last=t}_resize(e){e||(e=this.getFirstTileInView());const t=this.parent.getBoundingClientRect();this.width=Math.round(t.width),this.height=Math.round(t.height),this.view_port.style.height=this.height+"px",this.view_port.style.width=this.width+"px",this.setImageDimensions(),this.show(e)}_calculateTopBottomRow(e){e||(e=0);let t=0;t=e||0===e?Math.floor(e/this.num_per_row)*this.tile_height:this.view_port.scrollTop;let n=this.view_port.getBoundingClientRect().height,r=Math.floor((t-this.cache_size*this.tile_height)/this.tile_height);return r<0&&(r=0),{top:r,bottom:Math.floor((t+n+this.cache_size*this.tile_height)/this.tile_height),scroll_top:t}}setSelectedTiles(e,t,n){if(!t){for(let e in this.selected_tiles){let t=this.__doc__.getElementById(`mlvtile-${this.domId}-${e}`);t&&(t.style.border=this.selected_tiles[e])}this.selected_tiles={}}for(let t of e){let e=this.__doc__.getElementById(`mlvtile-${this.domId}-${t}`);e&&(this.selected_tiles[t]=e.style.border,e.style.border="4px solid goldenrod",console.log(e.style.border))}n&&this.listeners.image_selected.forEach((t=>{t(e)}))}scrollToTile(e,t){const n=this.data_view.data.indexOf(e);let r=this._calculateTopBottomRow(n);Math.abs(r.top-this.row_displayed_first)>this.max_difference?this.render(r.top,r.bottom,!0):this.render(r.top,r.bottom),this.view_port.scrollTop=r.scroll_top,t&&this.setSelectedTiles([n])}_getRandomString(e,t){e||(e=6);let n="",r=0,o="a"==(t=t&&t.toLowerCase())?10:0,i="n"==t?10:62;for(;r++<e;){let e=Math.random()*(i-o)+o<<0;n+=String.fromCharCode(e+=e>9?e<36?55:61:48)}return n}show(e){e||(e=0),this._setCanvasHeight();let t=this._calculateTopBottomRow(e);this.render(t.top,t.bottom,!0),this.view_port.scrollTop=t.scroll_top}_addRow(e){let t=e*this.num_per_row,n=t+this.num_per_row,r=e*this.tile_height+this.margin,o=0;const i=this.t_width+"px",a=this.t_height+"px",s=this.config.base_url,l=this.config.image_type;for(let c=t;c<n;c++){const t=this.data_view.getId(c);if(null==t)return;const n=this.data_view.getItemField(c,this.config.image_key);let f=o*this.tile_width+this.margin;o++;let u="";this.color_by&&(u="4px solid "+this.color_by(t));let d=[];this.selected_tiles[t]&&(u="4px solid goldenrod"),(0,R.ut)("img",{src:`${s}${n}.${l}`,id:`mlvtile-${this.domId}-${c}`,styles:{border:u,height:a,width:i,left:f+"px",top:r+"px"},classes:["mlv-tile",`mlv-tile-${this.domId}`,`mlv-tile-${this.domId}-${e}`].concat(d)},this.canvas)}}}(this.contentDiv,this.dataModel,{base_url:r.images.base_url,image_type:r.images.type,image_key:r.param[0],initial_image_width:r.image_width}),this.grid.addListener("image_clicked",((e,t)=>{this.dataStore.dataHighlighted([t],this)}),r.id)}setSize(e,t){super.setSize(e,t),this.grid.resize()}onDataFiltered(){this.dataModel.updateModel(),this.grid.show()}getColorOptions(){return{colorby:"all"}}onDataHighlighted(e){if(e.source===this)return;const t=e.indexes[0];this.grid.scrollToTile(t,!0)}colorByColumn(e){this.grid.setColorBy(this.getColorFunction(e,!1));const t=this.grid.getFirstTileInView();this.grid.show(t)}getSettings(){const e=this.grid.originalDimensions,t=this.config;return super.getSettings().concat([{type:"slider",max:2*e[1],min:10,doc:this.__doc__,label:"Image Size",current_value:t.image_width||e[0],func:e=>{t.image_width=e,this.grid.setImageWidth(e,!0)}}])}changeBaseDocument(e){super.changeBaseDocument(e),this.grid.__doc__=e}},name:"Image Table",required:"images",init:(e,t)=>{const n=t.images;e.param=n.key,e.images={base_url:n.base_url,type:n.type}}};function Rt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Pt(e){return function(){return e}}function Tt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Lt(e){return e}I.types.single_heat_map={name:"Single Heat Map",allow_user_add:!1,class:class extends At{constructor(e,t,n){super(e,t,n,{x:{type:"band"},y:{type:"band"}}),n.title||this._setTitle();const r=this.config.param;let o=this.dataStore.getColumnValues(r[0]);this.y_scale.domain(o.slice(0)),o=this.dataStore.getColumnValues(r[1]),this.x_scale.domain(o.slice(0));const i=this.config;5===i.param.length&&(this.stat_cutoff=i.param[4]),i.color_scale=i.color_scale||{log:!1},i.color_legend||(i.color_legend={display:!0}),this.setColorFunction(),this.initialSetUp(),this.drawChart()}remove(e=!0){super.remove()}onDataHighlighted(e){const t=e.indexes[0],n=this.graph_area.selectAll("rect");n.attr("stroke","white").style("stroke-width","0px"),n.filter((e=>!(!e||e[3]!==t))).attr("stroke","black").style("stroke-width","4px"),this.highlight=t}_setTitle(){const e=this.config.category,t=this.dataStore.getColumnName(this.config.param[2]);this.setTitle(`${e}-${t}`)}changeCategory(e){this.config.category=e,this.initialSetUp(),this.drawChart(),this._setTitle()}changeValues(e){this.config.param[2]=e,this.setColorFunction(),this.initialSetUp(),this.drawChart(),this._setTitle()}initialSetUp(){const e=this.config,t=e.param,n=this.dataStore.columnIndex[t[0]],r=n.data,o=this.dataStore.columnIndex[t[1]],i=o.data;let a=null,s=null,l=n.values.length,c=o.values.length;const f=e.specific_only;f&&(a=f[0].map((e=>n.values.indexOf(e))),s=f[1].map((e=>o.values.indexOf(e))),l=f[0].length,c=f[1].length,this.y_scale.domain(f[0].slice(0)),this.x_scale.domain(f[1].slice(0)));const u=this.dataStore.columnIndex,d=u[t[3]].data,h=u[t[2]].data;let p=null;this.stat_cutoff&&(p=u[this.stat_cutoff].data);const m=this.dataStore.size,g=new Array;for(let e=0;e<l;e++)g[e]=new Array(c);const _=this.dataStore.columnIndex[t[3]].values.indexOf(e.category);for(let e=0;e<m;e++)if(d[e]===_){let t=r[e],n=i[e];if(f&&(n=a.indexOf(n),t=s.indexOf(t),-1===n||-1===t))continue;let o=g[n][t];o?(o[2]+=h[e],o[4]++):(g[n][t]=[r[e],i[e],h[e],e,1],p&&g[n][t].push(p[e]))}for(let e=0;e<l;e++)for(let t=0;t<c;t++){const n=g[e][t];n[2]/=n[4]}this.data=g}drawChart(e=300){const t=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt),n=this.stat_cutoff?this.config.cutoff:null,r=this.dataStore.getColumnValues(this.config.param[0]),o=this.dataStore.getColumnValues(this.config.param[1]),i=this.config.specific_only,a=i?i[0].length:r.length,s=i?i[1].length:o.length,l=this._getContentDimensions(),c=l.width/s,f=this,u=l.height/a;this.graph_area.selectAll(".heatmap-row").data(this.data).join("g").attr("transform",((e,t)=>`translate(0,${t*u})`)).attr("class","heatmap-row").selectAll(".heatmap-rect").data((e=>e)).join("rect").attr("class","heatmap-rect").attr("x",((e,t)=>t*c+1)).attr("height",u-2).attr("width",c-2).on("click",((e,t)=>{f.dataStore.dataHighlighted([t[3]],f)})).transition(t).attr("fill",((e,t)=>e?isNaN(e[2])||n&&e[5]>n?"#f4f0ec":f.colorFunction(e[2]):"#f4f0ec")),this.updateAxis()}setSize(e,t){super.setSize(e,t),this.drawChart()}getColorLegend(){const e={overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]},name:"Scale"},t=this.config.color_scale.min_max;return t&&(e.overideValues.min=t[0],e.overideValues.max=t[1]),this.dataStore.getColorLegend(this.config.param[2],e)}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getColumnValues(t.param[3]).map((e=>({t:e,v:e})));this.stat_cutoff&&e.push({type:"slider",max:1,min:0,step:.01,doc:this.__doc__,current_value:t.cutoff,label:"significance cut off",func:e=>{t.cutoff=e,this.drawChart()}}),e.push({label:"Change Category",type:"dropdown",values:[n,"t","v"],current_value:t.category,func:e=>{this.changeCategory(e)}});const r=this.dataStore.getColumnList("number");return e.push({label:"Change Values",type:"dropdown",values:[r,"name","field"],current_value:t.param[2],func:e=>{this.changeValues(e)}}),e}setColorFunction(){const e=this.config.param,t={useValue:!0,overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]}},n=this.config.color_scale.min_max;n&&(t.overideValues.min=n[0],t.overideValues.max=n[1]),this.colorFunction=this.dataStore.getColorFunction(e[2],t),this.setColorLegend()}},params:[{type:"text",name:"Categories on y-axis"},{type:"text",name:"categories on x-axis"},{type:"number",name:"Value to display"},{type:"text",name:"column to filter"}]},Array.prototype.slice;var zt=Math.abs,Ot=Math.atan2,Ft=Math.cos,It=Math.max,Bt=Math.min,$t=Math.sin,jt=Math.sqrt,Nt=1e-12,Wt=Math.PI,Ht=Wt/2,Ut=2*Wt;function qt(e){return e>1?0:e<-1?Wt:Math.acos(e)}function Vt(e){return e>=1?Ht:e<=-1?-Ht:Math.asin(e)}function Kt(){var e=Lt,t=Tt,n=null,r=Pt(0),o=Pt(Ut),i=Pt(0);function a(a){var s,l,c,f,u,d=(a=Rt(a)).length,h=0,p=new Array(d),m=new Array(d),g=+r.apply(this,arguments),_=Math.min(Ut,Math.max(-Ut,o.apply(this,arguments)-g)),v=Math.min(Math.abs(_)/d,i.apply(this,arguments)),b=v*(_<0?-1:1);for(s=0;s<d;++s)(u=m[p[s]=s]=+e(a[s],s,a))>0&&(h+=u);for(null!=t?p.sort((function(e,n){return t(m[e],m[n])})):null!=n&&p.sort((function(e,t){return n(a[e],a[t])})),s=0,c=h?(_-d*b)/h:0;s<d;++s,g=f)l=p[s],f=g+((u=m[l])>0?u*c:0)+b,m[l]={data:a[l],index:s,value:u,startAngle:g,endAngle:f,padAngle:v};return m}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:Pt(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Pt(+e),a):r},a.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Pt(+e),a):o},a.padAngle=function(e){return arguments.length?(i="function"==typeof e?e:Pt(+e),a):i},a}const Zt=Math.PI,Gt=2*Zt,Xt=1e-6,Yt=Gt-Xt;function Qt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jt(){return new Qt}Qt.prototype=Jt.prototype={constructor:Qt,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,f=a-t,u=c*c+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(u>Xt)if(Math.abs(f*s-l*c)>Xt&&o){var d=n-i,h=r-a,p=s*s+l*l,m=d*d+h*h,g=Math.sqrt(p),_=Math.sqrt(u),v=o*Math.tan((Zt-Math.acos((p+u-m)/(2*g*_)))/2),b=v/_,y=v/g;Math.abs(b-1)>Xt&&(this._+="L"+(e+b*c)+","+(t+b*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>c*h)+","+(this._x1=e+y*s)+","+(this._y1=t+y*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,f=1^i,u=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Xt||Math.abs(this._y1-c)>Xt)&&(this._+="L"+l+","+c),n&&(u<0&&(u=u%Gt+Gt),u>Yt?this._+="A"+n+","+n+",0,1,"+f+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=c):u>Xt&&(this._+="A"+n+","+n+",0,"+ +(u>=Zt)+","+f+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const en=Jt;function tn(e){return e.innerRadius}function nn(e){return e.outerRadius}function rn(e){return e.startAngle}function on(e){return e.endAngle}function an(e){return e&&e.padAngle}function sn(e,t,n,r,o,i,a,s){var l=n-e,c=r-t,f=a-o,u=s-i,d=u*l-f*c;if(!(d*d<Nt))return[e+(d=(f*(t-i)-u*(e-o))/d)*l,t+d*c]}function ln(e,t,n,r,o,i,a){var s=e-n,l=t-r,c=(a?i:-i)/jt(s*s+l*l),f=c*l,u=-c*s,d=e+f,h=t+u,p=n+f,m=r+u,g=(d+p)/2,_=(h+m)/2,v=p-d,b=m-h,y=v*v+b*b,w=o-i,x=d*m-p*h,C=(b<0?-1:1)*jt(It(0,w*w*y-x*x)),k=(x*b-v*C)/y,S=(-x*v-b*C)/y,E=(x*b+v*C)/y,A=(-x*v+b*C)/y,D=k-g,M=S-_,R=E-g,P=A-_;return D*D+M*M>R*R+P*P&&(k=E,S=A),{cx:k,cy:S,x01:-f,y01:-u,x11:k*(o/w-1),y11:S*(o/w-1)}}function cn(){var e=tn,t=nn,n=Pt(0),r=null,o=rn,i=on,a=an,s=null;function l(){var l,c,f=+e.apply(this,arguments),u=+t.apply(this,arguments),d=o.apply(this,arguments)-Ht,h=i.apply(this,arguments)-Ht,p=zt(h-d),m=h>d;if(s||(s=l=en()),u<f&&(c=u,u=f,f=c),u>Nt)if(p>Ut-Nt)s.moveTo(u*Ft(d),u*$t(d)),s.arc(0,0,u,d,h,!m),f>Nt&&(s.moveTo(f*Ft(h),f*$t(h)),s.arc(0,0,f,h,d,m));else{var g,_,v=d,b=h,y=d,w=h,x=p,C=p,k=a.apply(this,arguments)/2,S=k>Nt&&(r?+r.apply(this,arguments):jt(f*f+u*u)),E=Bt(zt(u-f)/2,+n.apply(this,arguments)),A=E,D=E;if(S>Nt){var M=Vt(S/f*$t(k)),R=Vt(S/u*$t(k));(x-=2*M)>Nt?(y+=M*=m?1:-1,w-=M):(x=0,y=w=(d+h)/2),(C-=2*R)>Nt?(v+=R*=m?1:-1,b-=R):(C=0,v=b=(d+h)/2)}var P=u*Ft(v),T=u*$t(v),L=f*Ft(w),z=f*$t(w);if(E>Nt){var O,F=u*Ft(b),I=u*$t(b),B=f*Ft(y),$=f*$t(y);if(p<Wt&&(O=sn(P,T,B,$,F,I,L,z))){var j=P-O[0],N=T-O[1],W=F-O[0],H=I-O[1],U=1/$t(qt((j*W+N*H)/(jt(j*j+N*N)*jt(W*W+H*H)))/2),q=jt(O[0]*O[0]+O[1]*O[1]);A=Bt(E,(f-q)/(U-1)),D=Bt(E,(u-q)/(U+1))}}C>Nt?D>Nt?(g=ln(B,$,P,T,u,D,m),_=ln(F,I,L,z,u,D,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),D<E?s.arc(g.cx,g.cy,D,Ot(g.y01,g.x01),Ot(_.y01,_.x01),!m):(s.arc(g.cx,g.cy,D,Ot(g.y01,g.x01),Ot(g.y11,g.x11),!m),s.arc(0,0,u,Ot(g.cy+g.y11,g.cx+g.x11),Ot(_.cy+_.y11,_.cx+_.x11),!m),s.arc(_.cx,_.cy,D,Ot(_.y11,_.x11),Ot(_.y01,_.x01),!m))):(s.moveTo(P,T),s.arc(0,0,u,v,b,!m)):s.moveTo(P,T),f>Nt&&x>Nt?A>Nt?(g=ln(L,z,F,I,f,-A,m),_=ln(P,T,B,$,f,-A,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),A<E?s.arc(g.cx,g.cy,A,Ot(g.y01,g.x01),Ot(_.y01,_.x01),!m):(s.arc(g.cx,g.cy,A,Ot(g.y01,g.x01),Ot(g.y11,g.x11),!m),s.arc(0,0,f,Ot(g.cy+g.y11,g.cx+g.x11),Ot(_.cy+_.y11,_.cx+_.x11),m),s.arc(_.cx,_.cy,A,Ot(_.y11,_.x11),Ot(_.y01,_.x01),!m))):s.arc(0,0,f,w,y,m):s.lineTo(L,z)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Wt/2;return[Ft(r)*n,$t(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Pt(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Pt(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Pt(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Pt(+e),l):r},l.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:Pt(+e),l):o},l.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Pt(+e),l):i},l.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Pt(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}I.types.multi_pie_chart={name:"Multi Pie Chart",allow_user_add:!1,class:class extends At{constructor(e,t,n){super(e,t,n,{}),this.config.type="multi_pie_chart",this.pie=Kt().sort(null).value((e=>e[2])),this.arc=cn(),this.initialSetUp(),this.drawChart(),this.addToolTip()}initialSetUp(){const e=this.config.param,t=this.config.specific_only,n=this.dataStore.columnIndex[e[0]],r=n.data,o=this.dataStore.columnIndex[e[1]],i=o.data,a=n.values,s=this.dataStore.columnIndex[e[3]].data,l=this.dataStore.columnIndex[e[2]].data,c=this.dataStore.size;let f=new Array(a.length);for(let e=0;e<n.values.length;e++)f[e]={data:new Array(o.values.length),name:a[e],index:e};const u=this.dataStore.columnIndex[e[3]].values.indexOf(this.config.category);for(let e=0;e<c;e++)if(s[e]===u){const t=f[r[e]].data;let n=t[i[e]];null==n?t[i[e]]=[r[e],i[e],l[e],e,1]:(n[2]+=l[e],n[4]++)}for(let e=0;e<n.values.length;e++){let t=f[e].data;this.config.hide_self_interaction&&t.splice(e,1);let n=0;for(let e of t)isNaN(e[2])?e[2]=0:e[2]=e[2]/e[4],n+=e[2];f[e].sum=n}if(t){f=f.filter((e=>-1!==t[0].indexOf(e.name)));const e=new Set(t[1].map((e=>o.values.indexOf(e))));for(let t=0;t<f.length;t++)f[t].data=f[t].data.filter((t=>e.has(t[1]))),f[t].sum=f[t].data.reduce(((e,t)=>e+t[2]),0)}this.data=f}setSize(e,t){super.setSize(e,t),this.drawChart()}onDataHighlighted(e){const t=e.indexes[0],n=this.graph_area.selectAll("path");n.attr("stroke","white").style("stroke-width","2px"),n.filter((e=>e.data[3]===t)).attr("stroke","black").style("stroke-width","4px"),this.highlight=t}drawChart(e=1e3){(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt);const t=this._getContentDimensions(),n=(t.width,t.height,Math.ceil(Math.sqrt(this.data.length))),r=t.width/n,o=t.height/n;let i=r;o/1.2<r&&(i=o/1.2),i/=2,this.arc.innerRadius(.5*i).outerRadius(.9*i);let a=Math.floor(r/10);a=a>12?12:a;const s=this.dataStore.getColumnValues(this.config.param[0]),l=this.dataStore.getColumnColors(this.config.param[0]),c=this.dataStore.getColumnValues(this.config.param[1]),f=this.dataStore.getColumnColors(this.config.param[1]),u=this,d=this.graph_area.selectAll(".pie-area").data(this.data).join("g").attr("transform",((e,t)=>{const i=Math.floor(t/n)*o;return`translate(${t%n*r+r/2},${i+o/2})`})).attr("class","pie-area");d.selectAll(".pie-inner").data(((e,t)=>[e.index])).join("circle").attr("class","pie-inner").attr("r",.4*i).style("fill",((e,t)=>l[e])),d.selectAll(".pie-text-header").data(((e,t)=>[e.name])).join("text").attr("text-anchor","middle").attr("class","pie-text-header").attr("y",-o/2+o/10).attr("font-size",a+"px").attr("dominant-baseline","bottom").text((e=>e)),d.selectAll(".pie-outer").data((e=>{const t=u.pie(e.data.filter((e=>e[2]>0)));for(let n of t)n.sum=e.sum;return t})).join("path").attr("class","pie-outer").attr("stroke",(e=>e.data[3]===u.highlight?"black":"white")).attr("d",this.arc).on("click",((e,t)=>{u.dataStore.dataHighlighted([t.data[3]],u)})).on("mouseover mousemove",((e,t)=>{const n=s[t.data[0]],r=c[t.data[1]],o=(t.data[2]/t.sum*100).toFixed(2);u.showToolTip(e,`${n}<br>${r}<br>${t.data[2].toFixed(2)}<br>${o}%`)})).on("mouseleave",(()=>{u.hideToolTip()})).style("stroke-width",(e=>e.data[3]===u.highlight?"4px":"2px")).style("fill",((e,t)=>f[e.data[1]]))}getSettings(){const e=super.getSettings(),t=this.config;return e.concat({type:"check",label:"Hide self intearction",current_value:t.hide_self_interaction,func:e=>{t.hide_self_interaction=e,this.initialSetUp(),this.drawChart()}})}},params:[{type:"text",name:"first cat"},{type:"text",name:"second cat"},{type:"number",name:"Value to display in each chart"},{type:"text",name:"column to filter"}]};I.types.single_series_chart={name:"Single Series Chart",allow_user_add:!1,class:class extends At{constructor(e,t,n){super(e,t,n,{x:{type:"band"},y:{}}),n.title||this._setTitle();const r=this.config.param;this.config;let o=this.dataStore.getColumnValues(r[0]);this.x_scale.domain(o.slice(0)),this.initialSetUp(),this.drawChart(),this.addToolTip()}remove(e=!0){super.remove()}onDataHighlighted(e){const t=e.indexes[0],n=this.graph_area.selectAll("rect");n.attr("stroke","white").style("stroke-width","0px"),n.filter((e=>!(!e||e[3]!==t))).attr("stroke","black").style("stroke-width","4px"),this.highlight=t}_setTitle(){const e=this.config.categories;this.setTitle(`${e[0]} x ${e[1]}`)}changeCategory(e){this.config.category=e,this.initialSetUp(),this.drawChart(),this._setTitle()}changeValues(e){this.config.param[2]=e,this.setColorFunction(),this.initialSetUp(),this.drawChart(),this._setTitle()}initialSetUp(){const e=this.config.param,t=this.dataStore.columnIndex[e[1]].data,n=this.dataStore.columnIndex[e[2]].data,r=this.dataStore.columnIndex[e[0]].data,o=this.dataStore.columnIndex[e[3]].data,i=this.dataStore.columnIndex[e[0]].values.map((e=>({values:[],totals:0}))),a=this.dataStore.columnIndex[e[4]].data,s=this.dataStore.size,l=[],c=this.config.scale[1],f=this.dataStore.columnIndex[e[1]].values.indexOf(this.config.categories[0]),u=this.dataStore.columnIndex[e[2]].values.indexOf(this.config.categories[1]);for(let e=0;e<s;e++)if(t[e]===f&&n[e]===u){l.push([a[e],r[e],o[e],e,Math.floor(6*Math.random())+1]);const t=i[r[e]];a[e]>c||a[e],t.values.push(a[e]),t.totals+=a[e]}for(let e of i){e.mean=e.totals/e.values.length;let t=e.values.length-1;t=0===t?1:t,e.std=e.values.reduce(((t,n)=>t+Math.pow(n-e.mean,2)),0),e.std=Math.sqrt(e.std/t),delete e.values}this.errorBars=i,this.data=l}drawChart(e=300){const t=this.config.param;this.y_scale.domain([this.config.scale[1],this.config.scale[0]]).clamp(!0),this.updateAxis();const n=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt),r=this.dataStore.getColumnValues(t[0]),o=this.dataStore.getColumnValues(t[3]),i=this._getContentDimensions().width/r.length,a=this,s=this.dataStore.getColumnColors(t[0]),l=i/4,c=i/5;this.graph_area.selectAll("circle").data(this.data).join("circle").on("mouseover mousemove",((e,t)=>{const n=r[t[1]],i=o[t[2]];a.showToolTip(e,`${n}<br>${i}<br>${t[0]}`)})).on("mouseleave",(()=>{a.hideToolTip()})).on("click",((e,t)=>{a.dataStore.dataHighlighted([t[3]],a)})).transition(n).attr("cx",(e=>i/8+i*(e[4]/8)+e[1]*i)).attr("cy",(e=>a.y_scale(e[0]))).attr("r",5).attr("fill",(e=>s[e[1]])),this.graph_area.selectAll(".cbp-rect").data(this.errorBars).join("path").attr("d",((e,t)=>{const n=t*i+i/2,r=a.y_scale(e.mean);let o=a.y_scale(e.mean+e.std),s=a.y_scale(e.mean-e.std);return`M${n} ${o} L${n} ${s}\n                  M${n-l} ${r} L${n+l} ${r} \n                  M${n-c} ${o} L${n+c} ${o}     \n                  M${n-c} ${s} L${n+c} ${s}      `})).style("fill","none").style("stroke","black").attr("stroke-width",1).attr("class","cbp-rect")}setSize(e,t){super.setSize(e,t),this.drawChart()}getColorLegend(){const e={overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]},name:"Scale"},t=this.config.color_scale.min_max;return t&&(e.overideValues.min=t[0],e.overideValues.max=t[1]),this.dataStore.getColorLegend(this.config.param[2],e)}setColorFunction(){const e=this.config.param,t={useValue:!0,overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]}},n=this.config.color_scale.min_max;n&&(t.overideValues.min=n[0],t.overideValues.max=n[1]),this.colorFunction=this.dataStore.getColorFunction(e[2],t),this.setColorLegend()}},params:[{type:"text",name:"Categories on y-axis"},{type:"text",name:"categories on x-axis"},{type:"number",name:"Value to display"},{type:"text",name:"column to filter"}]};const fn={passive:!1},un={capture:!0,passive:!1};function dn(e){e.stopImmediatePropagation()}function hn(e){e.preventDefault(),e.stopImmediatePropagation()}function pn(e){var t=e.document.documentElement,n=(0,B.Z)(e).on("dragstart.drag",hn,un);"onselectstart"in t?n.on("selectstart.drag",hn,un):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function mn(e,t){var n=e.document.documentElement,r=(0,B.Z)(e).on("dragstart.drag",null);t&&(r.on("click.drag",hn,un),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var gn=__webpack_require__(3172);function _n(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const vn=e=>()=>e;function bn(e,{sourceEvent:t,target:n,selection:r,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function yn(e){e.stopImmediatePropagation()}function wn(e){e.preventDefault(),e.stopImmediatePropagation()}var xn={name:"drag"},Cn={name:"space"},kn={name:"handle"},Sn={name:"center"};const{abs:En,max:An,min:Dn}=Math;function Mn(e){return[+e[0],+e[1]]}function Rn(e){return[Mn(e[0]),Mn(e[1])]}var Pn={name:"x",handles:["w","e"].map(Bn),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Tn={name:"y",handles:["n","s"].map(Bn),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ln=(["n","w","e","s","nw","ne","sw","se"].map(Bn),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),zn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},On={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fn={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},In={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Bn(e){return{type:e}}function $n(e){return!e.ctrlKey&&!e.button}function jn(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Nn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wn(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Hn(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}const Un=e=>()=>e;function qn(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function Vn(e){return!e.ctrlKey&&!e.button}function Kn(){return this.parentNode}function Zn(e,t){return null==t?{x:e.x,y:e.y}:t}function Gn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xn(e,t){var n,r=1;function o(){var o,i,a=n.length,s=0,l=0;for(o=0;o<a;++o)s+=(i=n[o]).x,l+=i.y;for(s=(s/a-e)*r,l=(l/a-t)*r,o=0;o<a;++o)(i=n[o]).x-=s,i.y-=l}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(e){n=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.strength=function(e){return arguments.length?(r=+e,o):r},o}function Yn(e){return function(){return e}}function Qn(e){return 1e-6*(e()-.5)}function Jn(e){return e.index}function er(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function tr(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,f,u,d,h=e._root,p={data:r},m=e._x0,g=e._y0,_=e._x1,v=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(m+_)/2))?m=i:_=i,(f=n>=(a=(g+v)/2))?g=a:v=a,o=h,!(h=h[u=f<<1|c]))return o[u]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,o?o[u]=p:e._root=p,e;do{o=o?o[u]=new Array(4):e._root=new Array(4),(c=t>=(i=(m+_)/2))?m=i:_=i,(f=n>=(a=(g+v)/2))?g=a:v=a}while((u=f<<1|c)==(d=(l>=a)<<1|s>=i));return o[d]=h,o[u]=p,e}function nr(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function rr(e){return e[0]}function or(e){return e[1]}function ir(e,t,n){var r=new ar(null==t?rr:t,null==n?or:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ar(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function sr(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}qn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var lr=ir.prototype=ar.prototype;lr.copy=function(){var e,t,n=new ar(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=sr(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=sr(t));return n},lr.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return tr(this.cover(t,n),t,n,e)},lr.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,f=-1/0,u=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>f&&(f=r),o<c&&(c=o),o>u&&(u=o));if(l>f||c>u)return this;for(this.cover(l,c).cover(f,u),n=0;n<i;++n)tr(this,a[n],s[n],e[n]);return this},lr.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,l=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},lr.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},lr.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lr.find=function(e,t,n){var r,o,i,a,s,l,c,f=this._x0,u=this._y0,d=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new nr(m,f,u,d,h)),null==n?n=1/0:(f=e-n,u=t-n,d=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(o=l.x0)>d||(i=l.y0)>h||(a=l.x1)<f||(s=l.y1)<u))if(m.length){var g=(o+a)/2,_=(i+s)/2;p.push(new nr(m[3],g,_,a,s),new nr(m[2],o,_,g,s),new nr(m[1],g,i,a,_),new nr(m[0],o,i,g,_)),(c=(t>=_)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),y=v*v+b*b;if(y<n){var w=Math.sqrt(n=y);f=e-w,u=t-w,d=e+w,h=t+w,r=m.data}}return r},lr.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,f,u,d,h=this._root,p=this._x0,m=this._y0,g=this._x1,_=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(s=(p+g)/2))?p=s:g=s,(f=a>=(l=(m+_)/2))?m=l:_=l,t=h,!(h=h[u=f<<1|c]))return this;if(!h.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,d=u)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[u]=o:delete t[u],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)},lr.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},lr.root=function(){return this._root},lr.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},lr.visit=function(e){var t,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new nr(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var c=(r+i)/2,f=(o+a)/2;(n=l[3])&&s.push(new nr(n,c,f,i,a)),(n=l[2])&&s.push(new nr(n,r,f,c,a)),(n=l[1])&&s.push(new nr(n,c,o,i,f)),(n=l[0])&&s.push(new nr(n,r,o,c,f))}return this},lr.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new nr(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,c=t.y1,f=(a+l)/2,u=(s+c)/2;(i=o[0])&&n.push(new nr(i,a,s,f,u)),(i=o[1])&&n.push(new nr(i,f,s,l,u)),(i=o[2])&&n.push(new nr(i,a,u,f,c)),(i=o[3])&&n.push(new nr(i,f,u,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},lr.x=function(e){return arguments.length?(this._x=e,this):this._x},lr.y=function(e){return arguments.length?(this._y=e,this):this._y};const cr=4294967296;function fr(e){return e.x}function ur(e){return e.y}var dr=Math.PI*(3-Math.sqrt(5));function hr(e,t,n){this.k=e,this.x=t,this.y=n}hr.prototype={constructor:hr,scale:function(e){return 1===e?this:new hr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new hr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new hr(1,0,0),hr.prototype;I.types.image_box={class:class extends I{constructor(e,t,n){super(e,t,n);const r=this.config;this.contentDiv.style.overflowY="auto",r.images_per_row=r.images_per_row||2,r.images=r.images||[],this.refreshImages()}refreshImages(){this.contentDiv.innerHTML="",this.divs=[],this.images=[];for(let e=0;e<this.config.images.length;e++){const t=this.config.images[e],n=(0,R.ut)("div",{style:{display:"inline-block"}},this.contentDiv);(0,R.ut)("div",{style:{height:"20px",fontSize:"14px"},text:t[1]||""},n);const r=(0,R.ut)("img",{src:t[0]},n);this.divs.push(n),this.images.push(r),e===this.config.images.length-1&&(r.onload=()=>{this.ratio=r.width/r.height,this.setImageSizes()})}}setSingleImage(e,t){this.divs=[],this.images=[],this.contentDiv.innerHTML="",this.config.images_per_row=1,this.config.images=[[e,t]],this._createImages(),this.images[0].onload=()=>{const e=this.images[0];this.ratio=e.width/e.height,this.setImageSizes()}}setImageSizes(){const e=Math.round(this.width/this.config.images_per_row-20),t=Math.round(e/this.ratio);for(let n of this.divs)n.style.height=t+"px",n.style.width=e+"px";for(let n of this.images)n.style.height=t-10+"px",n.style.width=e+"px"}setSize(e,t){super.setSize(e,t),this.setImageSizes()}},name:"Image Box",params:[],allow_user_add:!1};I.types.selection_dialog={name:"Selection Dialog",class:class extends I{constructor(e,t,n){super(e,t,n);const r=this.config,o=r.param;this.dims={},this.textFilters={},this.numberFilters={},r.filters=r.filters||{},this.hasFiltred=!1;for(let t of o){const n=e.columnIndex[t],r=(0,R.ut)("div",{styles:{padding:"5px"}},this.contentDiv);(0,R.ut)("div",{text:n.name,styles:{fontWeight:"bold"}},r),"text"===n.datatype?this.addTextFilter(n,r):"integer"!==n.datatype&&"double"!==n.datatype||this.addNumberFilter(n,r)}this.hasFiltered&&this.dataStore.triggerFilter()}removeFilter(){const e=this.config.filters;for(let t in this.textFilters){const n=this.textFilters[t];n[0].value="__none__",n[1].checked=!1,e[t].category="__none__",e[t].excluse=!1}for(let t in this.numberFilters){const n=this.dataStore.getMinMaxForColumn(t);this.numberFilters[t].noUiSlider.set([n[0],n[1]]),e[t]=null}this.resetButton.style.display="none";for(let e in this.dims)this.dims[e].removeFilter(!1);this.dataStore.triggerFilter()}onDataFiltered(e){}addNumberFilter(e,t){const n=(0,R.ut)("div",{styles:{margin:"0px 10px"}},t),r=this.config,o=this.dataStore.getDimension("range_dimension");o.noclear=!0,this.dims[e.field]=o;const i=this.dataStore.getMinMaxForColumn(e.field),a=r.filters[e.field];let s=[i[0],i[1]];a&&(s=[a[0],a[1]]),L().create(n,{start:[s[0],s[1]],range:{min:i[0],max:i[1]},tooltips:!0,documentElement:this.__doc__}),n.noUiSlider.on("end",(t=>{const n=parseFloat(t[0]),o=parseFloat(t[1]);n<=i[0]&&o>=i[1]?r.filters[e.field]=null:r.filters[e.field]=[n,o],this.filterCategories(e.field)})),a&&(this.filterCategories(e.field,!1),this.hasFiltered=!0),this.numberFilters[e.field]=n}filterCategories(e,t=!0){const n=this.config.filters[e];if("text"===this.dataStore.columnIndex[e].datatype)if("__none__"===n.category)this.dims[e].removeFilter();else{let r=[n.category];n.exclude&&(r=this.dataStore.getColumnValues(e).filter((e=>e!==n.category))),this.resetButton.style.display="inline",this.dims[e].filter("filterCategories",[e],r,t)}else n?(this.resetButton.style.display="inline",this.dims[e].filter("filterRange",[e],{min:n[0],max:n[1]},t)):this.dims[e].removeFilter()}addTextFilter(e,t){t.style.whiteSpace="nowrap";const n=this.config,r=this.dataStore.getDimension("category_dimension");r.noclear=!0,this.dims[e.field]=r,n.filters[e.field]?(this.filterCategories(e.field,!1),this.hasFiltered=!0):n.filters[e.field]={exclude:!1,category:"__none__"};const o=n.filters[e.field],i=(0,R.ut)("select",{classes:["mdv-select"],styles:{maxWidth:"200px"}});(0,R.ut)("option",{text:"None",value:"__none__"},i);for(let t of e.values)(0,R.ut)("option",{text:t,value:t},i);t.append(i),i.value=o.category,i.addEventListener("change",(t=>{o.category=i.value,this.filterCategories(e.field)}));const a=(0,R.ut)("input",{classes:["mdv-checkbox"],type:"checkbox"},t);a.checked=o.exclude,a.addEventListener("click",(t=>{o.exclude=a.checked,this.filterCategories(e.field)})),(0,R.ut)("span",{text:"exclude",style:{fontSize:"11px",verticalAlign:"middle"}},t),this.textFilters[e.field]=[i,a]}remove(e=!0){for(let e in this.dims)this.dims[e].destroy(!1);e&&this.dataStore.triggerFilter(),super.remove()}},params:[{type:"_multi_column:all",name:"Columns To filter"}]};I.types.single_heat_map_group={name:"Single Heat Map",allow_user_add:!1,class:class extends At{constructor(e,t,n){super(e,t,n,{x:{type:"band"},y:{type:"band"},tx:{size:50}}),n.title||this._setTitle();const r=this.config;r.color_scale=r.color_scale||{log:!1},r.color_legend||(r.color_legend={display:!0}),this.setColorFunction(),this.initialSetUp(),this.drawChart()}remove(e=!0){super.remove()}onDataHighlighted(e){const t=e.indexes[0],n=this.graph_area.selectAll("rect");n.attr("stroke","white").style("stroke-width","0px"),n.filter((e=>!(!e||e[3]!==t))).attr("stroke","black").style("stroke-width","4px"),this.highlight=t}_setTitle(){const e=this.config.category,t=this.dataStore.getColumnName(this.config.param[2]);this.setTitle(`${e}-${t}`)}changeCategory(e){this.config.category=e,this.initialSetUp(),this.drawChart(),this._setTitle()}changeValues(e){this.config.param[2]=e,this.setColorFunction(),this.initialSetUp(),this.drawChart(),this._setTitle()}initialSetUp(){const e=this.config,t=e.param,n=this.dataStore.columnIndex[t[0]],r=n.data,o=this.dataStore.columnIndex[t[1]],i=o.data,a=this.dataStore.columnIndex[t[3]];let s=null,l=null,c=n.values.length,f=o.values.length,u=a.values.length;const d=e.specific_only;d&&(s=d[0].map((e=>n.values.indexOf(e))),l=d[1].map((e=>o.values.indexOf(e))),c=d[0].length,f=d[1].length),this.y_scale.domain(d?d[0].slice(0):n.values.slice(0)),this.x_scale.domain(d?d[1].slice(0):o.values.slice(0));const h=a.data,p=this.dataStore.columnIndex[t[2]].data,m=this.dataStore.size,g=new Array(c);for(let e=0;e<c;e++){g[e]=new Array(f);for(let t=0;t<f;t++)g[e][t]=new Array(u)}for(let e=0;e<m;e++){let t=r[e],n=i[e];if(d&&(n=s.indexOf(n),t=l.indexOf(t),-1===n||-1===t))continue;let o=g[n][t][h[e]];o?(o[2]+=p[e],o[4]++):g[n][t][h[e]]=[r[e],i[e],p[e],e,1,h[e]]}for(let e=0;e<c;e++){const t=[];for(let n=0;n<f;n++)for(let r=0;r<u;r++){let o=g[e][n][r];o?o[2]/=o[4]:o=[0,0,0,0,0,0],t.push(o)}g[e]=t}this.data=g}drawChart(e=300){const t=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt),n=this.dataStore.getColumnValues(this.config.param[0]),r=this.dataStore.getColumnValues(this.config.param[1]),o=this.dataStore.getColumnValues(this.config.param[3]),i=this.config.specific_only,a=i?i[0].length:n.length,s=o.length,l=i?i[1].length:r.length,c=l*o.length,f=this._getContentDimensions(),u=f.width/c,d=f.width/l,h=(d-4)/s,p=this,m=f.height/a;this.graph_area.selectAll(".heatmap-row").data(this.data).join("g").attr("transform",((e,t)=>`translate(0,${t*m})`)).attr("class","heatmap-row").selectAll(".heatmap-rect").data((e=>e)).join("rect").attr("class","heatmap-rect").attr("x",((e,t)=>{let n=Math.floor(t/s)*d+2;return n+=t%s*h,n})).attr("height",m).attr("width",h).on("click",((e,t)=>{p.dataStore.dataHighlighted([t[3]],p)})).transition(t).attr("fill",((e,t)=>e?isNaN(e[2])?"#f4f0ec":p.colorFunction(e[2]):"#f4f0ec")),this.updateAxis(),this.tx_axis_svg.selectAll(".tx-text").data(this.data[0]).join("text").attr("class","tx-text").attr("font-size","10px").text(((e,t)=>o[t%o.length])).style("text-anchor","end").attr("transform",((e,t)=>` translate(${t*u+u/2},${f.top}) rotate(60)`))}setSize(e,t){super.setSize(e,t),this.drawChart()}getColorLegend(){const e={overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]},name:"Scale"},t=this.config.color_scale.min_max;return t&&(e.overideValues.min=t[0],e.overideValues.max=t[1]),this.dataStore.getColorLegend(this.config.param[2],e)}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getColumnValues(t.param[3]).map((e=>({t:e,v:e})));e.push({label:"Change Category",type:"dropdown",values:[n,"t","v"],current_value:t.category,func:e=>{this.changeCategory(e)}});const r=this.dataStore.getColumnList("number");return e.push({label:"Change Values",type:"dropdown",values:[r,"name","field"],current_value:t.param[2],func:e=>{this.changeValues(e)}}),e}setColorFunction(){const e=this.config.param,t={useValue:!0,overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]}},n=this.config.color_scale.min_max;n&&(t.overideValues.min=n[0],t.overideValues.max=n[1]),this.colorFunction=this.dataStore.getColorFunction(e[2],t),this.setColorLegend()}},params:[{type:"text",name:"Categories on y-axis"},{type:"text",name:"categories on x-axis"},{type:"number",name:"Value to display"},{type:"text",name:"column to filter"}]};var pr=__webpack_require__(1550),mr=__webpack_require__.n(pr),gr=__webpack_require__(5975);function _r(e){var t=.9*e;return Math.abs(t)<.1?0:t}function vr(e,t,n){return Math.min(Math.max(e,t),n)}class br{constructor(e={}){this.cameraState={view:gr.yR(new Float32Array(16)),projection:gr.yR(new Float32Array(16)),center:[0,0,0],theta:e.theta||0,phi:e.phi||0,distance:Math.log(e.distance||1e3),eye:new Float32Array(3),up:new Float32Array(e.up||[0,1,0])},this.right=new Float32Array([1,0,0]),this.front=new Float32Array([0,0,1]),this.minDistance=Math.log("minDistance"in e?e.minDistance:.5),this.maxDistance=Math.log("maxDistance"in e?e.maxDistance:1e5),this.dtheta=0,this.dphi=0,this.ddistance=0,this.updateCamera()}mouseChange(e,t){var n=Math.max(this.cameraState.distance,.5);this.dtheta+=n*e,this.dphi+=n*t,this.updateCamera()}getProjection(){return{projection:this.cameraState.projection,view:this.cameraState.view,distance:this.cameraState.distance,eye:this.cameraState.eye}}mouseWheel(e,t){this.ddistance+=t/window.innerHeight,this.updateCamera()}updateCamera(){var e=this.cameraState.center,t=this.cameraState.eye,n=this.cameraState.up;this.cameraState.theta+=this.dtheta,this.cameraState.phi=vr(this.cameraState.phi+this.dphi,-Math.PI/2,Math.PI/2),this.cameraState.distance=vr(this.cameraState.distance+this.ddistance,this.minDistance,this.maxDistance),this.dtheta=_r(this.dtheta),this.dphi=_r(this.dphi),this.ddistance=_r(this.ddistance);for(var r=this.cameraState.theta,o=this.cameraState.phi,i=Math.exp(this.cameraState.distance),a=i*Math.sin(r)*Math.cos(o),s=i*Math.cos(r)*Math.cos(o),l=i*Math.sin(o),c=0;c<3;++c)t[c]=e[c]+a*this.front[c]+s*this.right[c]+l*n[c];Math.cos(.01),Math.sin(.01),gr.zB(this.cameraState.view,t,e,n)}}class yr{constructor(e,t){var n=this;for(var r in t||(t={}),this.config=t,t.offset||(t.offset=[0,0,0,0]),this.mode=t.mode||"2d",this.movingImage=0,this.__doc__=document,this.config.brush=this.config.brush||"default",this.draw_options=t.draw_options?t.draw_options:{depth:{enable:!1},blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}}},this.regl=null,this.pick_buffer=null,this.hideOnFilter=!0,this.pointOpacity=.8,this.pointRadius=10,this.isFiltered=!1,this.x_scale=1,this.y_scale=1,this.offset=[0,0],this.div_container="string"==typeof e?document.getElementById(e):e,this._setUpDocument(t.width,t.height),this.handlers={object_clicked:{},object_over:{},object_out:{},brush_stopped:{},zoom_stopped:{},panning_stopped:{},pan_or_zoom:{}},this.draw_labels=!1,this.object_types=[],this.pointScale=0,this.circle_properties={x_pos:1,y_pos:1,color:1,pick_color:1,localFilter:1,globalFilter:1},this.circles={},this.circle_properties)this.circles[r]=[];for(var r in this.circles.count=0,this.object_types.push({data:this.circles,properties:this.circle_properties,vertices:1,primitive:"points"}),this.line_properties={position:2,color:2,opacity:2},this.lines={},this.line_properties)this.lines[r]=[];for(var r in this.lines.count=0,this.object_types.push({data:this.lines,properties:this.line_properties,vertices:2,primitive:"lines"}),this.image_properties={position:2,color:2,opacity:2},this.images={},this.image_properties)this.images[r]=[];for(var r in this.images.count=0,this.images.props={x_y:[],w_h:[],text:[]},this.object_types.push({data:this.images,properties:this.image_properties,vertices:6,primitive:"triangles"}),"3d"===this.mode&&(this.circle_properties.z_pos=1,this.camera=new br({distance:t.cameraDistance||500,theta:.75,phi:.5}),this.axisScales=[1,1,1]),this.square_properties={x_pos:1,y_pos:1,color:1,pick_color:1,localFilter:1,globalFilter:1},this.squares={},this.square_properties)this.squares[r]=[];this.squares.count=0,this.object_types.push({data:this.squares,properties:this.square_properties,vertices:1,primitive:"points"}),this.mouse_position=null,this.object_clicked=null,this.dragging=!1,this.object_mouse_over=null,this.zoom_amount=0,this.draw_order=(this.mode,[2,0,1,3]),mr()({onDone:function(e,t){n.regl=t,t._refresh(),n.pickbuffer=t.framebuffer({colorFormat:"rgba",height:n.height,width:n.width}),n._initDrawMethods(),"3d"===n.mode&&(n.object_types[0].method=n.__draw3DCircles,n.object_types[1].method=n.__draw3DLines),n._addHandlers()},canvas:n.canvas,attributes:{antialias:!1}})}_setUpDocument(e,t){if(this.config.brush&&(this.div_container.style.cursor="crosshair"),t)this.height=t,this.width=e,this.div_container.style.height=t+"px",this.div_container.style.width=e+"px";else{const n=this.div_container.getBoundingClientRect();this.height=t=Math.round(n.height),this.width=e=Math.round(n.width)}const n={height:t,width:e,styles:{position:"absolute",left:"0px",top:"0px"}};this.canvas=(0,R.ut)("canvas",n),this.label_canvas=(0,R.ut)("canvas",n),this.label_context=this.label_canvas.getContext("2d"),this.div_container.append(this.canvas),this.div_container.append(this.label_canvas)}colorPoints(e){const t=this.circles.count,n=this.circles.color;for(let r=0;r<t;r++){const t=e(r),o=3*r;n[o]=t[0],n[o+1]=t[1],n[o+2]=t[2]}if(this.highlightPoints){const e=this.highlightPoints;for(let t=0;t<e.length;t++){const n=3*e.indexes[t],r=3*t;e.color[r]=this.circles.color[n],e.color[r+1]=this.circles.color[n+1],e.color[r+2]=this.circles.color[n+2]}}}remove(){this.pickbuffer.destroy(),this.regl.destroy(),this.canvas.remove(),this.label_canvas.remove()}setSize(e,t,n=null){if(this.height===t&&this.width===e)return;let r=this;if(e=Math.round(e),t=Math.round(t),n){const r=n(e,t);this.x_scale=r[0],this.y_scale=r[1]}else{let n=e/this.width,r=t/this.height;this.x_scale=this.x_scale*n,this.y_scale=this.y_scale*r}this.height=t,this.width=e,this.div_container.style.height=t+"px",this.div_container.style.width=e+"px",this.canvas.setAttribute("height",t),this.canvas.setAttribute("width",e),this.label_canvas.setAttribute("height",t),this.label_canvas.setAttribute("width",e),this.pickbuffer.destroy(),this.pickbuffer=this.regl.framebuffer({colorFormat:"rgba",height:t,width:e});let o=this.regl.frame((function(){}));setTimeout((()=>{r.refresh(),o.cancel()}),200)}_getMousePosition(e){var t=this.canvas.getBoundingClientRect();return[e.clientX-t.left,e.clientY-t.top]}_getActualPosition(e){return[e[0]/this.x_scale-this.offset[0],e[1]/this.y_scale-this.offset[1]]}_getCanvasCoords(e){return[(e[0]+this.offset[0])*this.x_scale,(e[1]+this.offset[1])*this.y_scale]}getRange(){let e=this._getActualPosition([0,0]),t=this._getActualPosition([this.width,this.height]);return{x_range:[e[0],t[0]],y_range:[e[1],t[1]],offset:[this.offset[0],this.offset[1]],scale:[this.x_scale,this.y_scale]}}setHighlightPoints(e){if(null==e)return void(this.highlightPoints=null);const t={x_pos:[],y_pos:[],color:[],length:e.length,indexes:e};"3d"===this.mode&&(t.z_pos=[]);for(let n of e){t.x_pos.push(this.circles.x_pos[n]),t.y_pos.push(this.circles.y_pos[n]),"3d"===this.mode&&t.z_pos.push(this.circles.z_pos[n]);const e=3*n;t.color.push(this.circles.color[e]),t.color.push(this.circles.color[e+1]),t.color.push(this.circles.color[e+2])}this.highlightPoints=t}setOffsets(e,t,n){this.offsets={arr:e,value:t,offsets:n};const r=this.circles.x_pos,o=this.circles.y_pos,i=this.circles.localFilter;for(let a=0;a<e.length;a++)e[a]===t&&2!==i[a]&&(r[a]+=n[0],o[a]+=n[1])}alterOffsets(e,t){this.offsets.offsets[0]+=e,this.offsets.offsets[1]-=t;const n=this.offsets.arr,r=this.offsets.value,o=this.circles.x_pos,i=this.circles.y_pos,a=this.circles.localFilter;for(let s=0;s<n.length;s++)n[s]===r&&2!==a[s]&&(o[s]+=e,i[s]-=t)}setPointRadius(e){e&&!isNaN(e)||(e=0),this.pointRadius=e}setFilter(e){this.isFiltered=e}setHideOnFilter(e){this.hideOnFilter=e}setPointOpacity(e){e=(e=e>1?1:e)<0?0:e,this.pointOpacity=e}getPointOpacity(){return this.pointOpacity}getPointRadius(){return this.pointRadius}addLine(e,t,n=[0,0,0],r=1){return this.lines.position=this.lines.position.concat(e,t),this.lines.color=this.lines.color.concat(n,n),this.lines.opacity=this.lines.opacity.concat([r,r]),this.lines.count++,this.lines.count-1}changeImage(e,t,n){this.images.props.text[n]=this.regl.texture({data:e,min:"linear"}),this.resizeImage([t.width,t.height],n),this.setImagePosition(t.position[0],t.position[1],n)}changeImageOpacity(e,t){const n=6*e,r=n+6;for(let e=n;e<r;e++)this.images.opacity[e]=t}moveImage(e,t){const n=6*this.movingImage,r=n+6;for(let o=n;o<r;o++){const n=this.images.position[o];n[0]+=e,n[1]+=t}const o=this.images.props.x_y[this.movingImage];o[0]+=e,o[1]+=t}setImagePosition(e,t,n){const r=this.images.position,o=6*n,i=this.images.props.w_h[n][0],a=this.images.props.w_h[n][1];t=-t-a,this.images.props.x_y[n]=[e,t],r[o]=[e,t],r[o+1]=[e,t+a],r[o+2]=[e+i,t+a],r[o+3]=[e+i,t+a],r[o+4]=[e+i,t],r[o+5]=[e,t]}getImageDetails(e){const t=this.images.props.w_h[e],n=this.images.props.x_y[e];return{width:t[0],height:t[1],position:[n[0],n[1]],index:e}}resizeImage(e,t){const n=this.images.props.w_h[t],r=this.images.props.x_y[t];let o,i=null;Array.isArray(e)?(o=e[0],i=e[1],n[0]=o,n[1]=i):(o=n[0]*=e,i=n[1]*=e);const a=r[0],s=r[1];this.images.position[1]=[a,s+i],this.images.position[2]=[a+o,s+i],this.images.position[3]=[a+o,s+i],this.images.position[4]=[a+o,s]}addImage(e,t){const n=t;let r=n.position[0],o=-n.position[1];const i=n.height,a=n.width;o-=i,this.images.position.length,this.images.position.push([r,o]),this.images.position.push([r,o+i]),this.images.position.push([r+a,o+i]),this.images.position.push([r+a,o+i]),this.images.position.push([r+a,o]),this.images.position.push([r,o]),this.image_position=[[-1,1],[-1,0],[0,0],[0,0],[0,1],[-1]];const s=null==n.opacity?1:n.opacity;for(var l=0;l<6;l++)this.images.color.push([1,1,1]),this.images.opacity.push(s);return this.images.count++,this.images.props.x_y.push([r,o]),this.images.props.w_h.push([a,i]),this.images.props.text.push(this.regl.texture({data:e,min:"linear"})),this.images.count-1}removeImages(){this.images.position=[],this.images.color=[],this.images.opacity=[],this.images.props.x_y=[],this.images.props.w_h=[],this.images.props.text=[],this.images.count=0}addSquares(e){this.squares.x_pos=e.x,this.squares.y_pos=e.y;const t=e.x.length;this.squares.localFilter=e.localFilter,this.squares.globalFilter=e.globalFilter,this.squares.pick_color=new Uint8Array(3*t),this.squares.color=new Uint8Array(3*t);for(let n=0;n<t;n++){let t=3*n;const r=e.colorFunc(n);this.squares.color[t]=r[0],this.squares.color[t+1]=r[1],this.squares.color[t+2]=r[2];let o=this._getRGBFromIndex(n+1);this.squares.pick_color[t]=o[0],this.squares.pick_color[t+1]=o[1],this.squares.pick_color[t+2]=o[2]}this.squares.count=t}addCircles(e){this.circles.x_pos=e.x,this.circles.y_pos=e.y,"3d"===this.mode&&(this.circles.z_pos=e.z);const t=e.x.length;this.circles.localFilter=e.localFilter,this.circles.globalFilter=e.globalFilter,this.circles.pick_color=new Uint8Array(3*t),this.circles.color=new Uint8Array(3*t);for(let n=0;n<t;n++){let t=3*n;const r=e.colorFunc(n);this.circles.color[t]=r[0],this.circles.color[t+1]=r[1],this.circles.color[t+2]=r[2];let o=this._getRGBFromIndex(n+1);this.circles.pick_color[t]=o[0],this.circles.pick_color[t+1]=o[1],this.circles.pick_color[t+2]=o[2]}this.circles.count=t}updateSize(e,t){this.circles.x_pos=t.x,this.circles.y_pos=t.y,"3d"===this.mode&&(this.circles.z_pos=t.z),this.circles.localFilter=t.localFilter,this.circles.globalFilter=t.globalFilter;let n=new Uint8Array(3*e),r=new Uint8Array(3*e);r.set(this.circles.color),n.set(this.circles.pick_color),this.circles.color=r,this.circles.pick_color=n;for(let n=this.circles.count;n<e;n++){let e=3*n;const r=t.colorFunc(n);this.circles.color[e]=r[0],this.circles.color[e+1]=r[1],this.circles.color[e+2]=r[2];let o=this._getRGBFromIndex(n+1);this.circles.pick_color[e]=o[0],this.circles.pick_color[e+1]=o[1],this.circles.pick_color[e+2]=o[2]}this.circles.count=e}_getRGBFromIndex(e){var t=Math.floor(e/65536),n=e%65536;return[n%256,Math.floor(n/256),t]}_getIndexFromRGB(e){return 65536*e[2]+256*e[1]+e[0]}_drawPickBuffer(){this.regl.clear({color:[0,0,0,0],depth:1,framebuffer:this.pickbuffer}),this._drawObjects(!0)}refresh(){this.regl.clear({color:[0,0,0,0],depth:1}),this._drawObjects(!1),this._drawPickBuffer(),this.label_context.font="30px Arial"}setCamera(e,t,n){if("3d"!==this.mode)return;const r=this.camera.cameraState;r.distance=Math.log(e),r.theta=t,r.phi=n,this.camera.updateCamera()}getCameraSettings(){if("3d"!==this.mode)return;const e=this.camera.cameraState;return{distance:Math.pow(Math.E,e.distance),theta:e.theta,phi:e.phi}}zoom(e){this.x_scale*=e,this.y_scale*=e,this._drawObjects(!1)}setFilterAction(e){this.hideOnFilter="grey"!==e}_drawObjects(e){let t=null;if("3d"===this.mode){const e=this.camera.getProjection();t={cameraProjection:e.projection,cameraView:e.view,cameraDistance:e.distance,axisScales:this.axisScales,cameraEye:e.eye}}else t={x_scale:this.x_scale,y_scale:this.y_scale,offset:this.offset};t.point_scale=this.pointScale?(this.x_scale+this.y_scale)/2/this.pointScale:1,t.point_radius=this.pointRadius,t.is_filtered=this.isFiltered?1:0,t.point_opacity=this.pointOpacity,t.hide_on_filter=this.hideOnFilter?1:0;for(let o of this.draw_order){var n=this.object_types[o];if(n.data.count){if(e){if(!n.properties.pick_color)continue;e=this.pickbuffer}else e=null;if(t.buffer=e,t.count=n.data.count*n.vertices,t.primitive=n.primitive,t.is_buffer=e?1:0,2!==o){if(3===o){if(e)continue;this.x_scale>=this.y_scale?(t.side_length=20*this.x_scale,t.bottom_clip=this.y_scale/this.x_scale,t.right_clip=1):(t.side_length=20*this.y_scale,t.right_clip=this.x_scale/this.y_scale,t.bottom_clip=1)}for(var r in n.properties)if(e){if("pick_color"===r){t.color=n.data[r];continue}if("color"===r)continue;t[r]=n.data[r]}else{if("pick_color"===r)continue;t[r]=n.data[r]}n.method(t)}else for(let e=0;e<n.data.count;e++){for(let r in n.properties)t[r]=n.data[r].slice(6*e,6*e+6);for(let n in this.images.props)t[n]=this.images.props[n][e];n.method(t)}}}this.highlightPoints&&!e&&(t.x_pos=this.highlightPoints.x_pos,t.y_pos=this.highlightPoints.y_pos,t.color=this.highlightPoints.color,t.primitive="points",t.count=this.highlightPoints.length,"3d"===this.mode?(t.z_pos=this.highlightPoints.z_pos,this.__draw3DHighlights(t)):this.__drawHighlights(t))}getObjectsInRange(e,t,n,r){console.log(`${e},${t},${n},${r}`);const o=n*r*4;var i=this.regl.read({x:e,y:this.height-t-r,width:n,height:r,framebuffer:this.pickbuffer});const a=new Set;for(let e=0;e<o;e+=4){const t=this._getIndexFromRGB([i[e],i[e+1],i[e+2]]);null!==t&&a.add(t-1)}return a}_getObjectAtPosition(e){if(!(e[1]<=0||e[0]<=0)){try{var t=this.regl.read({x:e[0],y:this.height-e[1],width:1,height:1,framebuffer:this.pickbuffer})}catch(t){console.log(e)}if(0===t[0]&&0===t[1]&&0===t[2])return null;var n=this._getIndexFromRGB(t);return n>0?n-1:null}}addHandler(e,t,n){var r=this.handlers[e];if(!r)throw"Handler Not Supported";return n||(n=Object.keys(r).length),r[n]=t,n}removeHandler(e,t){var n=this.handlers[e];if(!n)throw"Handler Not Supported";delete n.name}_setUpBrush(e){let t=(0,R.ut)("div",{classes:["wgl2di-brush"],styles:{top:e[1]+"px",left:e[0]+"px"}},this.div_container);(0,R.$q)(t,{contain:!0,ondragstart:()=>this.brush_moving=!0,ondragend:()=>this._brushingStopped(),doc:this.__doc__}),this.brush={origin:e,div:t,resizing:!0}}_setUpPolyBrush(e){this.poly_brush={points:[e],active:!0};let t=this.label_context;t.beginPath(),t.moveTo(e[0],e[1])}_extendPolyBrush(e,t){let n=this.label_context;if(n.lineTo(e[0],e[1]),n.stroke(),this.poly_brush.points.push(e),t){n.closePath(),n.fillStyle="lightgray",n.globalAlpha=.4,n.fill();let e=[];for(let t of this.poly_brush.points)e.push(this._getActualPosition(t));for(var r in this.handlers.brush_stopped)this.handlers.brush_stopped[r](e,!0)}}_finishPolyBrush(e){if(this.poly_brush.points.length<4)return void this.clearBrush();let t=this.label_context;t.closePath(),t.fillStyle="lightgray",t.globalAlpha=.2,t.fill(),t.globalAlpha=1;let n=[];this.poly_brush.active=!1;for(let e of this.poly_brush.points)n.push(this._getActualPosition(e));for(var r in this.handlers.brush_stopped)this.handlers.brush_stopped[r](n,!0)}clearBrush(){this.brush&&(this.brush.div.remove(),this.brush=null),this.poly_brush&&(this.label_context.clearRect(0,0,this.width,this.height),this.poly_brush=null)}_brushingStopped(){this.brush.resizing=!1;const e=this.brush.div,t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,o=e.offsetHeight;if(r<2)this.clearBrush();else if("3d"===this.mode){const e=this.getObjectsInRange(n,t,r,o);for(var i in this.handlers.brush_stopped)this.handlers.brush_stopped[i](e)}else{let e=this._getActualPosition([n,t]),a=this._getActualPosition([n+r,t+o]),s={x_min:e[0],x_max:a[0],y_max:-e[1],y_min:-a[1]};for(var i in this.handlers.brush_stopped)this.handlers.brush_stopped[i](s)}}setGlobalFilter(e){this.circles.globalFilter=e}_addHandlers(){var e=this;this.div_container.addEventListener("mousemove",(function(t){if(e.brush){if(e.brush.resizing){let n=e.brush.origin,r=e._getMousePosition(t),o=Math.round(n[0]<r[0]?n[0]:r[0])+"px",i=Math.round(n[1]<r[1]?n[1]:r[1])+"px",a=Math.abs(n[0]-r[0])+"px",s=Math.abs(n[1]-r[1])+"px";return e.brush.div.style.top=i,e.brush.div.style.left=o,e.brush.div.style.width=a,void(e.brush.div.style.height=s)}if(e.brush.moving)return void(e.dragging=!1)}if(e.poly_brush&&e.poly_brush.active){clearTimeout(e.poly_brush_tidmout);let n=e._getMousePosition(t);e.poly_brush_timeout=setTimeout((function(){e._extendPolyBrush(n)}),150)}if(e.mouse_position&&!e.dragging){var n=t.pageX-e.mouse_position[0],r=t.pageY-e.mouse_position[1];(Math.abs(n)>3||Math.abs(r)>3)&&(e.dragging=!0)}if(e.dragging){const n=t.pageX-e.mouse_position[0],r=t.pageY-e.mouse_position[1];if("3d"===e.mode)e.camera.mouseChange(n/e.width,r/e.height);else{const i=n/e.x_scale,a=r/e.y_scale;if(null!=e.movingImage&&t.ctrlKey&&e.images.count>0)e.moveImage(i,a),e.imageMoved=e.getImageDetails(e.movingImage);else if(e.offsets&&t.ctrlKey)e.alterOffsets(i,a);else for(var o in e.config.lock_x_axis||(e.offset[0]+=i),e.offset[1]+=a,e.handlers.pan_or_zoom)e.handlers.pan_or_zoom[o](e.offset,e.x_scale,e.y_scale)}e.loop||(e.loop=e.regl.frame((()=>{e.regl.clear({color:[0,0,0,0],depth:1}),e._drawObjects(!1)}))),e.mouse_position[1]=t.pageY,e.mouse_position[0]=t.pageX}else{var i=e._getMousePosition(t),a=e._getObjectAtPosition(i);if(null!=a&&null==e.object_mouse_over){for(var o in e.handlers.object_over)e.handlers.object_over[o](t,a);e.object_mouse_over=a}else if(null==a&&e.object_mouse_over){for(var o in e.handlers.object_out)e.handlers.object_out[o](t,e.object_mouse_over);e.object_mouse_over=null}else if(null!=a&&a!==e.object_mouse_over){for(var o in e.handlers.object_over)e.handlers.object_over[o](t,a);e.object_mouse_over=a}}})),this.div_container.addEventListener("mouseleave",(function(t){if(e.object_mouse_over){for(var n in e.handlers.object_out)e.handlers.object_out[n](e.object_mouse_over[2]);e.object_mouse_over=null}e.brush&&e.brush.resizing&&e._brushingStopped()})),this.div_container.addEventListener("mouseup",(function(t){if(e.config.brush&&(e.div_container.style.cursor="crosshair"),e.brush&&e.brush.resizing&&e._brushingStopped(),e.poly_brush&&e.poly_brush.active&&e._finishPolyBrush(),e.dragging||e.brush||e.poly_brush){if(e.object_clicked)e.object_clicked=null,e.refresh(!0);else{let t=e.getRange();for(var n in e.loop&&(e.loop.cancel(),e.loop=null),e.refresh(),t.imageMoved=e.imageMoved,e.imageMoved=null,e.handlers.panning_stopped)e.handlers.panning_stopped[n](t);e.brush}e.dragging=!1}else{var r=e._getMousePosition(t),o=e._getObjectAtPosition(r);if(o)for(var n in e.handlers.object_clicked)e.handlers.object_clicked[n](o)}e.object_clicked=null,e.mouse_position=null})),this.div_container.addEventListener("wheel",(function(t){t.preventDefault();var n=e._getActualPosition(e._getMousePosition(t));let r=0;if(t.wheelDelta>0||t.detail<0?(e.zoom_amount+=.01,r=-30):(e.zoom_amount-=.01,r=30),"3d"===e.mode)e.camera.mouseWheel(0,r);else if(null!=e.movingImage&&t.ctrlKey){e.resizeImage(1+e.zoom_amount,e.movingImage);const r=e._getActualPosition(e._getMousePosition(t));e.moveImage(r[0]-n[0],r[1]-n[1]),e.imageMoved=e.getImageDetails(e.movingImage)}else{e.config.lock_x_axis||(e.x_scale*=1+e.zoom_amount),e.config.lock_y_axis||(e.y_scale*=1+e.zoom_amount);const r=e._getActualPosition(e._getMousePosition(t));for(var o in e.offset[0]+=r[0]-n[0],e.offset[1]+=r[1]-n[1],e.handlers.pan_or_zoom)e.handlers.pan_or_zoom[o](e.offset,e.x_scale,e.y_scale)}e.loop||(e.label_context.clearRect(0,0,e.width,e.height),e.loop=e.regl.frame((function(){e.regl.clear({color:[0,0,0,0],depth:1}),e._drawObjects(!1)}))),clearTimeout(e._timer),e._timer=setTimeout((function(){e.zoom_amount=0,e.loop.cancel(),e.loop=null,e._drawPickBuffer(!1),e.brush;let t=e.getRange();t.imageMoved=e.imageMoved,e.imageMoved=null;for(let n in e.handlers.zoom_stopped)e.handlers.zoom_stopped[n](t);e.refresh()}),350)})),this.div_container.addEventListener("mousedown",(function(t){t.which;let n=t.shiftKey||t.ctrlKey||2==t.which;if(e.config.brush&&!n||!e.config.brush&&n){let n=e._getMousePosition(t);if("default"==e.config.brush){if(t.target.classList.contains("wgl2di-brush"))return;e.brush&&e.clearBrush();let n=e._getMousePosition(t);return void e._setUpBrush(n)}if("poly"===e.config.brush)return e.poly_brush&&e.clearBrush(),void e._setUpPolyBrush(n)}t.otherKey&&(e.div_container.style.cursor="move"),e._getMousePosition(t),e.mouse_position=[t.pageX,t.pageY],e.clearBrush(),t.preventDefault()}))}_initDrawMethods(){var e=this;this.__drawCircles=this.regl({depth:e.draw_options.depth,blend:e.draw_options.blend,frag:"precision mediump float;\n\t\t\tvarying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float has_border;\n\t\t\tvarying float grey_out;\n\t\t\tuniform float is_buffer;\n\t\t\t\n\t\t\tvoid main(){\n\t\t\t\n\t\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n                \n\t\t\t\tfloat r = dot(cxy, cxy);\n\t\t\t\tif (r > 1.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t\telse{\t\t\t\t\t\n\t\t\t\t\tif(r>0.60 && has_border==-1.0 && is_buffer==0.0 && grey_out==0.0){\n\t\t\t\t\t    gl_FragColor=vec4(0.1,0.1,0.1,1.0);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif (grey_out==1.0 && is_buffer==0.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(0.2,0.2,0.2,0.4);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,is_buffer==1.0?1.0:op);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}",vert:"attribute float x_pos;\n            attribute float y_pos;\n\t\t\tattribute vec3 color;\n\t\t\tattribute float lFilter;\n\t\t\tattribute float gFilter;\n\t\t\tvarying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float has_border;\n\t\t\tvarying float grey_out;\n\t\t\tuniform float x_scale;\n\t\t\tuniform float y_scale;\n\t\t\tuniform vec2 offset;\n\t\t\tuniform float stage_height;\n\t\t\tuniform float stage_width;\n\t\t\tuniform float point_radius;\n\t\t\tuniform float is_filtered;\n\t\t\tuniform float point_opacity;\n\t\t\tuniform float hide_on_filter;\n\t\t\tuniform float point_scale;\n\t\t\t\n\t\t\tvec2 normalizeCoords(float posX, float posY){\n\t\t\t\tfloat x = (posX+offset[0])*x_scale;\n\t\t\t\tfloat y = (posY+offset[1])*y_scale;\n\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t}\n\t\n\t\t\tvoid main() {\n\t\t\t\tfloat dd = 0.0;\n\t\t\t\tgrey_out=0.0;\n\t\t\t\tif (lFilter==2.0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t    if (gFilter>0.0 && gFilter != lFilter) {\n\t\t\t\t\tif(hide_on_filter==1.0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgrey_out=1.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\n\t\t\t\tfloat r=point_radius;\n\t\t\t\n\t\t\t\tgl_PointSize = r*point_scale;\n\t\t\t\tvec3 c = vec3(255.0,255.0,255.0);\n\t\t\t\tif (color==c){\n\t\t\t\t\top=0.1;\n\t\t\t\t\tfragColor=vec3(0.1,0.1,0.1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\top=point_opacity;\n\t\t\t\t\tfragColor = color/255.0;\n\t\t\t\t}\n\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\thas_border=lFilter-is_filtered;\n\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 real_position = normalizeCoords(x_pos,-y_pos);\n\t\t\t\tgl_Position = vec4(real_position, 0.0, 1.0);\n\t\t\t}\n\t\t\t",attributes:{x_pos:e.regl.prop("x_pos"),y_pos:e.regl.prop("y_pos"),color:e.regl.prop("color"),lFilter:e.regl.prop("localFilter"),gFilter:e.regl.prop("globalFilter")},uniforms:{x_scale:e.regl.prop("x_scale"),y_scale:e.regl.prop("y_scale"),stage_width:e.regl.context("viewportWidth"),stage_height:e.regl.context("viewportHeight"),offset:e.regl.prop("offset"),point_radius:e.regl.prop("point_radius"),point_opacity:e.regl.prop("point_opacity"),is_filtered:e.regl.prop("is_filtered"),is_buffer:e.regl.prop("is_buffer"),hide_on_filter:e.regl.prop("hide_on_filter"),point_scale:e.regl.prop("point_scale")},count:e.regl.prop("count"),primitive:e.regl.prop("primitive"),framebuffer:e.regl.prop("buffer")}),this.__drawHighlights=this.regl({depth:e.draw_options.depth,blend:e.draw_options.blend,depth:e.draw_options.depth,blend:e.draw_options.blend,frag:"precision highp float;\n\t\t\tvarying vec3 fragColor;\n\t\t\t\n\t\t\tvoid main(){\n\n\t\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n                \n\t\t\t\tfloat r = dot(cxy, cxy);\n\t\t\t\tif (r > 1.0) {\n\t\t\t\t\tdiscard;\n\t\t\t\t}\n\t\t\t\telse{\t\t\t\t\t\n\t\t\t\t\tif(r>0.50) {\n\t\t\t\t\t    gl_FragColor=vec4(0.1,0.1,0.1,1.0);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgl_FragColor = vec4(fragColor,1);\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}",vert:"attribute float x_pos;\n            attribute float y_pos;\n\t\t\tattribute vec3 color;\n\t\t\tuniform float point_radius;\n\t\t\t\n\t\t\tvarying vec3 fragColor;\n\t\t\n\t\t\tuniform float x_scale;\n\t\t\tuniform float y_scale;\n\t\t\tuniform vec2 offset;\n\t\t\tuniform float stage_height;\n\t\t\tuniform float stage_width;\n\t\t\tuniform float point_scale;\n\t\t\t\n\t\t\tvec2 normalizeCoords(float posX, float posY){\n\t\t\t\tfloat x = (posX+offset[0])*x_scale;\n\t\t\t\tfloat y = (posY+offset[1])*y_scale;\n\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t}\n\t\n\t\t\tvoid main() {\n\t\t\t\n\t\t\t\tfloat pr = point_radius*point_scale;\n\t\t\t\tpr = pr<10.0?10.0:pr;\n\t\t\t\tgl_PointSize = pr;\n\t\t\t\tfragColor = color/255.0;\n\t\t\t\t\t\n\t\t\t\tvec2 real_position = normalizeCoords(x_pos,-y_pos);\n\t\t\t\tgl_Position = vec4(real_position, 0.0, 1.0);\n\t\t\t}\n\t\t\t",attributes:{x_pos:e.regl.prop("x_pos"),y_pos:e.regl.prop("y_pos"),color:e.regl.prop("color")},uniforms:{x_scale:e.regl.prop("x_scale"),y_scale:e.regl.prop("y_scale"),stage_width:e.regl.context("viewportWidth"),stage_height:e.regl.context("viewportHeight"),offset:e.regl.prop("offset"),point_radius:e.regl.prop("point_radius"),point_scale:e.regl.prop("point_scale")},count:e.regl.prop("count"),primitive:e.regl.prop("primitive")}),this.object_types[0].method=this.__drawCircles,this.__drawLines=this.regl({frag:"precision highp float;\n\t\t\t\t\t\tvarying vec3 fragColor;\n\t\t\t\t\t\tvoid main () {\n\t\t\t\t\t\t\t gl_FragColor = vec4(fragColor,1);\n\t\t\t\t\t\t}",vert:"\n\t\t\t\t\t\tattribute vec2 position;\n\t\t\t\t\t\tattribute vec3 color;\n\t\t\t\t\t\tattribute float opacity;\n\t\t\t\t\t\tuniform float x_scale;\n\t\t\t\t\t\tuniform float y_scale;\n\t\t\t\t\t\tuniform vec2 offset;\n\t\t\t\t\t\tuniform float stage_height;\n\t\t\t\t\t\tuniform float stage_width;\n\t\t\t\t\t\tvarying vec3 fragColor;\n\t\t\t\t\t\t//varying float op;\n\t\t\t\t\t\tvec2 normalizeCoords(vec2 position){\t    \n\t\t\t\t\t\t\tfloat x = (position[0]+offset[0])*x_scale;\n\t\t\t\t\t\t\tfloat y = (position[1]+offset[1])*y_scale;\n\t\t\t\t            return vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvoid main () {\n\t\t\t\t\t\t\tif (opacity==0.0){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfragColor=color/255.0;\n\t\t\t\t\t\t\tvec2 norm_pos =normalizeCoords(position*vec2(1,-1));\n\t\t\t\t\t\t\tgl_Position = vec4(norm_pos, 0.0, 1.0);\n\t\t\t\t\t\t}",attributes:{position:e.regl.prop("position"),color:e.regl.prop("color"),opacity:e.regl.prop("opacity")},uniforms:{x_scale:e.regl.prop("x_scale"),y_scale:e.regl.prop("y_scale"),stage_height:e.regl.context("viewportHeight"),stage_width:e.regl.context("viewportWidth"),offset:e.regl.prop("offset")},primitive:e.regl.prop("primitive"),count:e.regl.prop("count")}),this.object_types[1].method=this.__drawLines,this.__drawImages=this.regl({frag:"\n\t\t\t\tprecision mediump float;\n\t\t\t\tuniform sampler2D text;\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float op;\n\t\t\t\tvoid main () {\n\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text, uv);\t\t\t\t\t\t\t\n\t\t\t\t}",vert:"\n\t\t\t\tprecision mediump float;\n\n\t\t\t\tattribute vec2 position;\n\t\t\t\tattribute vec3 color;\n\t\t\t\tattribute float opacity;\n\n\t\t\t\tuniform vec2 x_y;\n\t\t\t\tuniform vec2 w_h;\n\t\t\t\tuniform float stage_height;\n\t\t\t\tuniform float stage_width;\n\t\t\t\tuniform float x_scale;\n\t\t\t\tuniform float y_scale;\n\t\t\t\tuniform vec2 offset;\n\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float op;\n\t\t\n\t\t\t\t\n\t\t\t\tvec2 normalizeCoords(vec2 pos){\n\t\t\t\t\tfloat x = (pos[0]+offset[0])*x_scale;\n\t\t\t\t\tfloat y = (pos[1]+offset[1])*y_scale;\n\t\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t}\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tif (opacity==0.0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\top=opacity;\n\t\t\t\t\t\n\t\t\t\t\tvec2 new_pos=normalizeCoords(position);\n\t\t\t\t\tfragColor = color;\n\t\t\t\t\n\t\t\t\t\tfloat x_factor = 1.0/(((w_h[0]*x_scale)/stage_width)*2.0);\n\t\t\t\t\tfloat y_factor = 1.0/(((w_h[1]*y_scale)/stage_height)*2.0);\n\t\t\t\t\t\n\n\t\t\t\t\tfloat x_offset=(((x_y[0]+offset[0])*x_scale)/stage_width)*2.0*x_factor;\n\t\t\t\t\tfloat y_offset=(((x_y[1]+offset[1])*y_scale)/stage_height)*2.0*y_factor;\n\t\t\t\t\tuv = vec2((new_pos[0]*x_factor)+x_factor-x_offset,-(new_pos[1]*y_factor)+y_factor-y_offset);\n\t\t\t\t\tgl_Position = vec4(new_pos, 0.0, 1.0);\n\n\t\t\t\t}",attributes:{position:e.regl.prop("position"),color:e.regl.prop("color"),opacity:e.regl.prop("opacity")},uniforms:{stage_height:e.regl.context("viewportHeight"),stage_width:e.regl.context("viewportWidth"),w_h:e.regl.prop("w_h"),x_y:e.regl.prop("x_y"),text:e.regl.prop("text"),x_scale:e.regl.prop("x_scale"),y_scale:e.regl.prop("y_scale"),offset:e.regl.prop("offset")},count:e.regl.prop("count"),depth:e.draw_options.depth,blend:e.draw_options.blend}),this.object_types[2].method=this.__drawImages,this.__drawSquares=this.regl({frag:"\n\t\t\t\tprecision highp float;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float r_clip;\n\t\t\t\tvarying float b_clip;\n\t\t\t\tuniform int is_buffer;\n\t\t\t\tvoid main(){\n\t\t\t\t\tif (gl_PointCoord[1]<1.0-b_clip){\n\t\t\t\t\t\tdiscard;\n\t\t\t\t\t}\n\t\t\t\t\tif (gl_PointCoord[0]> r_clip){\n\t\t\t\t\t\tdiscard;\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\tgl_FragColor = vec4(fragColor,1);\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t",vert:" \n\t\t\t\tattribute float x_pos;\n\t\t\t\tattribute float y_pos;\t\t\t\n\t\t\t\tattribute vec3 color;\n\t\t\t\n\t\t\t\tvarying float r_clip;\n\t\t\t\tvarying float b_clip;\n\t\t\t\tvarying vec3 fragColor;\n\n\t\t\t\tuniform float x_scale;\n\t\t\t\tuniform float y_scale;\n\t\t\t\tuniform vec2 offset;\n\t\t\t\tuniform float stage_height;\n\t\t\t\tuniform float stage_width;\n\t\t\t\tuniform float right_clip;\n\t\t\t\tuniform float bottom_clip;\n\t\t\t\tuniform float side_length;\n\t\t\t\t\n\t\t\t\tvec2 normalizeCoords(float posX,float posY){\n\t\t\t\t\tfloat x = (posX+offset[0])*x_scale;\n\t\t\t\t\tfloat y = (posY+offset[1])*y_scale;\n\t\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_PointSize = side_length;\n\t\t\t\t\tfragColor = color/255.0;\n\t\t\t\t\tr_clip=right_clip;\n\t\t\t\t\tb_clip= bottom_clip;\n\t\t\t\t\tfloat y = y_pos;\n\t\t\t\t\tfloat x = x_pos;\n\t\t\t\t\tif (bottom_clip!=1.0){\n\t\t\t\t\t\ty-=10.0*(1.0/b_clip)-10.0;\n\t\t\t\t\t}\n\t\t\t\t\tif (r_clip!=1.0){\n\t\t\t\t\t\tx+=10.0*(1.0/r_clip)-10.0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvec2 real_position = normalizeCoords(x,y);\n\t\t\t\t\n\t\t\t\t\tgl_Position = vec4(real_position, 0.0, 1.0);\n\t\t\t\t}\n\t\t\t",attributes:{x_pos:e.regl.prop("x_pos"),y_pos:e.regl.prop("y_pos"),color:e.regl.prop("color")},uniforms:{x_scale:e.regl.prop("x_scale"),y_scale:e.regl.prop("y_scale"),stage_height:e.regl.context("viewportHeight"),stage_width:e.regl.context("viewportWidth"),offset:e.regl.prop("offset"),is_buffer:e.regl.prop("is_buffer"),right_clip:e.regl.prop("right_clip"),bottom_clip:e.regl.prop("bottom_clip"),side_length:e.regl.prop("side_length")},count:e.regl.prop("count"),primitive:e.regl.prop("primitive"),framebuffer:e.regl.prop("buffer")}),this.object_types[3].method=this.__drawSquares,this.__draw3DCircles=this.regl({frag:"\n            precision mediump float;\n            varying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float has_border;\n\t\t\tuniform float is_buffer;\n\t\t\tvarying float grey_out;\n            void main () {\n\t\t\t  float r = length(gl_PointCoord.xy - 0.4) ;\n              if (r> 0.4) {\n                discard;\n              }\n\t\t\t  else{\n\t\t\t\tif(r>0.3 && has_border==-1.0 && is_buffer==0.0 && grey_out==0.0){\n\t\t\t\t\tgl_FragColor=vec4(0.1,0.1,0.1,1.0);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif (grey_out==1.0 && is_buffer==0.0){\n\t\t\t\t\t\tgl_FragColor = vec4(0.2,0.2,0.2,0.4);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgl_FragColor = vec4(fragColor,is_buffer==1.0?1.0:op);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t  }\n             \n            }\n            ",vert:"\n            precision mediump float;\n\n            attribute float x_pos;\n            attribute float y_pos;\n            attribute float z_pos;\n            attribute vec3 color;\n            attribute float lFilter;\n            attribute float gFilter;\n\t\t\t\n\t\t\tuniform float time;\n            uniform float cdistance;\n            uniform mat4 view, projection;\n\t\t\tuniform vec3 eye;\n\t\t\tuniform float point_radius;\n\t\t\tuniform float point_opacity;\n\t\t\tuniform float is_buffer;\n\t\t\tuniform float is_filtered;\n\t\t\tuniform float hide_on_filter;\n\t\t\tuniform vec3 axis_scales;\n\n\n            varying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float has_border;\n\t\t\tvarying float grey_out;\n\n            void main () {\n\t\t\t\tgrey_out=0.0; \n\t\t\t    if (gFilter>0.0 && gFilter != lFilter) {\n\t\t\t\t\tif(hide_on_filter==1.0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgrey_out=1.0;\n\t\t\t\t\t}\n\t\t\t\t}\n                vec3 position = vec3(-x_pos *axis_scales.x,y_pos*axis_scales.y,-z_pos*axis_scales.z);\n                fragColor=color/255.0;\n\t\t\t\top = is_buffer==1.0?1.0:point_opacity;\n\t\t\t\thas_border=lFilter-is_filtered;\n               \n\t\t\t\tgl_PointSize = point_radius; //(distance(eye, position.xyz) /30.0);\n                gl_Position = projection * view * vec4(2.0 * position, 1.0);\n            }\n            ",attributes:{x_pos:e.regl.prop("x_pos"),y_pos:e.regl.prop("y_pos"),z_pos:e.regl.prop("z_pos"),color:e.regl.prop("color"),lFilter:e.regl.prop("localFilter"),gFilter:e.regl.prop("globalFilter")},uniforms:{point_radius:e.regl.prop("point_radius"),point_opacity:e.regl.prop("point_opacity"),is_buffer:e.regl.prop("is_buffer"),view:e.regl.prop("cameraView"),cdistance:e.regl.prop("cameraDistance"),eye:e.regl.prop("cameraEye"),is_filtered:e.regl.prop("is_filtered"),hide_on_filter:e.regl.prop("hide_on_filter"),axis_scales:e.regl.prop("axisScales"),projection:(e,t)=>gr.G3(t.cameraProjection,Math.PI/4,e.viewportWidth/e.viewportHeight,.01,1e4)},count:e.regl.prop("count"),framebuffer:e.regl.prop("buffer"),blend:e.draw_options.blend,primitive:"points"}),this.__draw3DHighlights=this.regl({frag:"\n            precision mediump float;\n            varying vec3 fragColor;\n\t\t\n            void main () {\n\t\t\t  float r = length(gl_PointCoord.xy - 0.4) ;\n              if (r> 0.4) {\n                discard;\n              }\n\t\t\t  else{\n\t\t\t\tif(r>0.3){\n\t\t\t\t\tgl_FragColor=vec4(0.1,0.1,0.1,1.0);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(fragColor,1.0);\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t  }\n             \n            }\n            ",vert:"\n            precision mediump float;\n\n            attribute float x_pos;\n            attribute float y_pos;\n            attribute float z_pos;\n            attribute vec3 color;\n\t\t\t\n\t\t\tuniform float time;\n    \n            uniform mat4 view, projection;\n\t\t\tuniform vec3 eye;\n\t\t\tuniform float point_radius;\n\t\t\tuniform vec3 axis_scales;\n\t\t\n\n\n            varying vec3 fragColor;\n\t\t\n\n            void main () {\n\t\t\t\n                vec3 position = vec3(-x_pos*axis_scales.x,y_pos*axis_scales.y,-z_pos*axis_scales.z);\n                fragColor=color/255.0;\n               \n\t\t\t\tgl_PointSize = point_radius*2.0; //(distance(eye, position.xyz) /30.0);\n                gl_Position = projection * view * vec4(2.0 * position, 1.0);\n            }\n            ",attributes:{x_pos:e.regl.prop("x_pos"),y_pos:e.regl.prop("y_pos"),z_pos:e.regl.prop("z_pos"),color:e.regl.prop("color")},uniforms:{point_radius:e.regl.prop("point_radius"),view:e.regl.prop("cameraView"),cdistance:e.regl.prop("cameraDistance"),eye:e.regl.prop("cameraEye"),axis_scales:e.regl.prop("axisScales"),projection:(e,t)=>gr.G3(t.cameraProjection,Math.PI/4,e.viewportWidth/e.viewportHeight,.01,1e4)},count:e.regl.prop("count"),blend:e.draw_options.blend,primitive:"points"}),this.__draw3DLines=this.regl({frag:" precision highp float;\n                    varying vec3 fragColor;\n                    void main () {\n                         gl_FragColor = vec4(fragColor,1);\n                    }\n",vert:"\n                    attribute vec3 position;\n                    attribute vec3 color;\n                    uniform mat4 view, projection;\n\t\t\t\t\tuniform vec3 axis_scales;\n    \n                    varying vec3 fragColor;\n                  \n                    \n                    void main () {\n                     \n                        fragColor=color;\n                        gl_Position = projection * view * vec4(2.0 * position*axis_scales*vec3(-1.0,1.0,-1.0), 1.0);\n                       \n                       \n                    }",attributes:{position:e.regl.prop("position"),color:e.regl.prop("color")},uniforms:{view:e.regl.prop("cameraView"),axis_scales:e.regl.prop("axisScales"),projection:(e,t)=>gr.G3(t.cameraProjection,Math.PI/4,e.viewportWidth/e.viewportHeight,.01,1e4)},primitive:e.regl.prop("primitive"),framebuffer:e.regl.prop("buffer"),count:e.regl.prop("count"),depth:{enable:!1}})}}const wr=class extends At{constructor(e,t,n,r){super(e,t,n,r);const o=this.config;o.tooltip||(o.tooltip={show:!1}),o.default_color=o.default_color||"#377eb8";const i=this._getContentDimensions();this.graphDiv=(0,R.ut)("div",{styles:{position:"absolute",left:i.left+"px",top:i.top+"px",width:i.width+"px",height:i.height+"px"}},this.contentDiv),this.tooltip=(0,R.ut)("div",{styles:{position:"absolute",zIndex:100,display:"none","background-color":"lightgray"}},this.graphDiv)}onDataHighlighted(e){this.app.setHighlightPoints(e.indexes),this.app.refresh()}afterAppCreation(){const e=this,t=this.config;this.app.addHandler("object_over",(function(n,r){t.tooltip.show&&e.showTooltip(n,r)})),this.app.addHandler("object_out",(function(t,n){e.tooltip.style.display="none"})),t.default_color=t.default_color||"#377eb8",t.on_filter=null==t.on_filter?"hide":t.on_filter,this.app.setFilterAction(t.on_filter);const n=(0,Dt.$W)(t.default_color);let r=()=>n;if(t.color_by){const e={asArray:!0,overideValues:{colorLogScale:this.config.log_color_scale}};this._addTrimmedColor(t.color_by,e),r=this.dataStore.getColorFunction(t.color_by,e),t.color_legend||(t.color_legend={display:!0}),this.setColorLegend()}return this.app.addHandler("object_clicked",(e=>{this.dataStore.dataHighlighted([e],this)})),r}setToolTipColumn(e){this.config.tooltip.column=e}showTooltip(e,t){var n=this.graphDiv.getBoundingClientRect();const r=this.dataStore.getRowAsObject(t),o=e.clientX-n.left,i=e.clientY-n.top;this.tooltip.style.display="block",this.tooltip.style.left=o+"px",this.tooltip.style.top=i+"px",this.tooltip.textContent=r[this.config.tooltip.column]}getSetupConfig(){const e=this.config,t=(0,Dt.$W)(e.default_color);let n=()=>t;return e.color_by&&(n=this.dataStore.getColorFunction(e.color_by,{asArray:!0})),{localFilter:this.dim.getLocalFilter(),globalFilter:this.dataStore.getFilter(),colorFunc:n}}setSize(e,t){super.setSize(e,t);const n=this._getContentDimensions();this.app.setSize(n.width,n.height),this.graphDiv.style.left=n.left+"px",this.graphDiv.style.top=n.top+"px",this.updateAxis()}onDataFiltered(e){"all_removed"===e&&(this.app.clearBrush(),this.app.setFilter(!1),this.resetButton.style.display="none"),this.app.setHighlightPoints(null),this.app.refresh()}remove(e=!0){this.dim.destroy(e),this.app.remove(),super.remove()}removeFilter(){null!==this.filter&&(this.dim.removeFilter(),this.app.clearBrush(),this.app.setFilter(!1),this.app.refresh())}colorByColumn(e){this.config.color_by=e;const t=this.getColorFunction(e,!0),n=performance.now();this.app.colorPoints(t),console.log("color time:"+(performance.now()-n)),setTimeout((()=>{this.app.refresh()}),50)}colorByDefault(){this.legend&&this.legend.remove();const e=(0,Dt.$W)(this.config.default_color);this.app.colorPoints((()=>e)),setTimeout((()=>{this.app.refresh()}),50)}changeBaseDocument(e){this.app.clearBrush(),this.app.__doc__=e,super.changeBaseDocument(e)}getColorOptions(){return{colorby:"all",has_default_color:!0}}pinChart(){this.isPinned=!0,this.pinnedFilter=this.dataStore.getFilter().slice(0),this.app.setGlobalFilter(this.pinnedFilter)}unpinChart(){this.isPinned=!1,this.pinnedFilter=null,this.app.setGlobalFilter(this.dataStore.getFilter()),this.app.refresh()}addToImage(){this.app.refresh();let e=this.app.canvas.toDataURL("image/png");e=e.replace(/^data:image\/png/,"data:application/octet-stream");const t=this._getContentDimensions();this.svg.append("image").attr("xlink:href",e).attr("width",t.width).attr("height",t.height).attr("x",t.left).attr("y",t.top)}removeFromImage(){this.svg.select("image").remove()}getSettings(e){e||(e={pointMax:50,pointMin:1});const t=super.getSettings(),n=this.config,r=this.dataStore.getColumnList();return t.splice(2,0,{type:"slider",max:1,min:0,doc:this.__doc__,current_value:n.opacity,label:"Point Opacity",func:e=>{n.opacity=e,this.app.setPointOpacity(e),this.app.refresh()}},{type:"slider",max:10,min:0,doc:this.__doc__,current_value:n.radius,label:"Point Size",func:e=>{n.radius=e,this.app.setPointRadius(e),this.app.refresh(),console.log(e)}}),t.concat([{type:"check",label:"Show Tooltip",current_value:n.tooltip.show,func:e=>{n.tooltip.show=e;let t=n.tooltip.column||r[0].field;this.setToolTipColumn(t)}},{type:"dropdown",label:"Tooltip value",current_value:n.tooltip.column||r[0].field,values:[r,"name","field"],func:e=>{this.setToolTipColumn(e)}},{type:"button",label:"Centre Plot",func:e=>{this.centerGraph(),this.app.refresh()}},{type:"radiobuttons",label:"Action on Filter",choices:[["Hide Points","hide"],["Gray Out Points","grey"]],current_value:n.on_filter,func:e=>{n.on_filter=e,this.app.setFilterAction(e),this.app.refresh()}}])}};class xr extends wr{constructor(e,t,n){const r=e.getColumnName(n.param[0]),o=e.getColumnName(n.param[1]);n.axis||(n.axis={x:{size:30,label:r,textsize:13},y:{size:45,label:o,textsize:13}}),n.title||(n.title=r+" x "+o),super(e,t,n,{x:{},y:{}}),this.x=this.config.param[0],this.y=this.config.param[1],this.dim=this.getDimension();const i=n.background_filter;i&&this.dim.setBackgroundFilter(i.column,i.category),this.minMaxX=this.dataStore.getMinMaxForColumn(this.x),this.minMaxY=this.dataStore.getMinMaxForColumn(this.y),this.type="wgl_scatter_plot";let a=this;const s=this.config;s.brush=s.brush||"poly";let l={brush:s.brush};this.app=new yr(this.graphDiv,l),this.app.addHandler("zoom_stopped",(e=>this.handlePanZoom(e))),this.app.addHandler("panning_stopped",(e=>this.handlePanZoom(e))),this.centerGraph();const c=this.afterAppCreation();if(this.app.addHandler("brush_stopped",(function(e,t){a.resetButton.style.display="inline",a.app.setFilter(!0),t?a._createPolyFilter(e):a._createFilter(e)})),s.background_image&&(s.image_opacity=null==s.image_opacity?1:s.image_opacity,this.addBackgroundImage(s.background_image)),this.app.addCircles({x:this.dataStore.getRawColumn(this.x),y:this.dataStore.getRawColumn(this.y),localFilter:this.dim.getLocalFilter(),globalFilter:this.dataStore.getFilter(),colorFunc:c}),s.offsets){const e=this.dataStore.columnIndex[s.offsets.param],t=e.values.indexOf(s.offsets.value);this.app.setOffsets(e.data,t,s.offsets.offsets)}this.defaultRadius=this._calculateRadius(),console.log(this.defaultRadius),s.radius=s.radius||2,s.opacity=null==s.opacity?.8:s.opacity,this.app.setPointRadius(this.config.radius),this.app.setPointOpacity(this.config.opacity),this.onDataFiltered()}getDimension(){return this.dataStore.getDimension("range_dimension")}handlePanZoom(e){if(e.imageMoved){const t=e.imageMoved,n=this.config,r=n.background_image.name,o=n.image_choices.find((e=>e[0]===r));t.position[1]=-(t.position[1]+t.height),n.background_image.height=t.height,n.background_image.width=t.width,n.background_image.position=t.position,o[2]=t.width,o[3]=t.height,o[4]=t.position[0],o[5]=t.position[1]}else this._updateScale(e),this.updateAxis()}onDataAdded(e){const t=this.getSetupConfig();t.x=this.dataStore.getRawColumn(this.x),t.y=this.dataStore.getRawColumn(this.y),this.app.updateSize(e,t),super.onDataAdded(e)}addBackgroundImage(e,t=!1){const n=new Image,r=this.config;n.src=e.url,n.onload=()=>{t?this.app.changeImage(n,e,0):(this.app.addImage(n,e),this.app.changeImageOpacity(0,r.image_opacity)),this.app.refresh()}}linkToOtherChart(e){this.app.addHandler("pan_or_zoom",((t,n,r)=>{e.app.offset=[t[0],t[1]],e.app.x_scale=n,e.app.y_scale=r,e.app.refresh(),e._updateScale(this.app.getRange()),e.updateAxis()}),this.config.id)}highlightDataItem(e){this.app.highlightPoint(e)}getFilter(){if(!this.range||!0===this.range)return null;const e={};return e[this.config.param[0]]=[this.range.x_min,this.range.x_max],e[this.config.param[1]]=[this.range.y_min,this.range.y_max],e}_updateScale(e){this.x_scale.domain([e.x_range[0],e.x_range[1]]),this.y_scale.domain([-e.y_range[0],-e.y_range[1]])}_calculateRadius(){this.width&&this.width;let e=this.config.max_x||0==this.config.max_x?this.config.max_x:this.minMaxX[1],t=this.config.min_x||0==this.config.min_x?this.config.min_x:this.minMaxX[0];this.config.axis.x_log_scale&&(e=this._getLogValue(e),t=this._getLogValue(t));let n=e-t;return Math.pow(n,1.5)/(Math.pow(this.dataStore.size,.8)+n)*5}_createFilter(e){if(this.range=e,null==e)this.dim.removeFilter();else{let t=e.y_max,n=e.y_min,r=e.x_max,o=e.x_min;this.config.axis.y_log_scale&&(t=this._getInverseLogValue(t),n=this._getInverseLogValue(n)),this.config.axis.x_log_scale&&(r=this._getInverseLogValue(r),o=this._getInverseLogValue(o)),this.filter=[[o,r],[n,t]],this.dim.filter("filterSquare",this.config.param,{range1:this.filter[0],range2:this.filter[1]})}}_createPolyFilter(e){this.range=!0;for(let t of e)t[1]=-t[1],this.config.axis.x_log_scale&&(t[0]=this._getInverseLogValue(t[0])),this.config.axis.y_log_scale&&(t[1]=this._getInverseLogValue(t[1]));this.filter=e,this.dim.filter("filterPoly",this.config.param,e)}centerGraph(){const e=this.config.roi||{};let t=e.max_x||this.minMaxX[1],n=e.max_y||this.minMaxY[1],r=e.min_x||this.minMaxX[0],o=e.min_y||this.minMaxY[0];this.config.axis.y_log_scale&&(n=this._getLogValue(n),o=this._getLogValue(o)),this.config.axis.x_log_scale&&(t=this._getLogValue(t),r=this._getLogValue(r));let i=(t-r)/20,a=(n-o)/20,s=t-r+2*i,l=n-o+2*a;const c=this._getContentDimensions();this.app.x_scale=c.width/s,this.app.y_scale=c.height/l,this.app.pointScale=(this.app.x_scale+this.app.y_scale)/2,this.app.offset[0]=-(r-i),this.app.offset[1]=n+a,this._updateScale(this.app.getRange()),this.updateAxis()}_addSliderToSettings(e,t,n){e.splice(1,0,{type:"slider",current_value:t.opacity,min:0,max:1,func:e=>{t.opacity=e,this.app.changeImageOpacity(n,e),this.app.refresh()}})}remove(){if(this.config.offsets){const e=this.dataStore.getRawColumn(this.x),t=this.dataStore.getRawColumn(this.y),n=this.dim.getLocalFilter(),r=this.app.offsets.offsets,o=this.app.offsets.arr,i=this.app.offsets.value;if(0!==r[0]&&0!==r[1])for(let a=0;a<n.length;a++)o[a]===i&&2!==n[a]&&(e[a]-=r[0],t[a]-=r[1])}super.remove()}getConfig(){const e=super.getConfig();return e.offsets&&(e.offsets.offsets=this.app.offsets.offsets),e}getSettings(){const e=super.getSettings({pointMax:30,pointMin:0}),t=this.config;if(t.image_choices){const n=t.image_choices.slice(0);n.unshift(["None","__none__"]);let r="__none__";t.background_image&&(r=t.background_image.url),e.splice(1,0,{type:"dropdown",current_value:r,values:[n,0,1],label:"Change Image",func:e=>{if("__none__"===e)return delete t.background_image,this.app.removeImages(),void this.app.refresh();let n=!0;t.background_image||(t.background_image={},n=!1),t.background_image.url=e;let r=t.title.split("-")[0];const o=t.image_choices.find((t=>t[1]===e));t.background_image.name=o[0],o[2]&&(t.background_image.width=o[2],t.background_image.height=o[3],t.background_image.position=[o[4],o[5]]),this.setTitle(r+"-"+o[0]),this.addBackgroundImage(t.background_image,n)}})}return t.background_image&&e.splice(2,0,{label:"Image Opacity",type:"slider",current_value:t.image_opacity,max:1,min:0,func:e=>{t.image_opacity=e,this.app.changeImageOpacity(0,e),this.app.refresh()}}),e.concat([{type:"radiobuttons",label:"Brush Type",choices:[["Free Draw","poly"],["Rectangle","default"]],current_value:t.brush,func:e=>{this.app.clearBrush(),this.app.config.brush=e,t.brush=e}}])}}I.types.wgl_scatter_plot={name:"2D Scatter Plot",class:xr,params:[{type:"number",name:"X axis"},{type:"number",name:"Y axis"}]};const Cr=xr,kr=e=>e;function Sr(e,t){e&&Ar.hasOwnProperty(e.type)&&Ar[e.type](e,t)}var Er={Feature:function(e,t){Sr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)Sr(n[r].geometry,t)}},Ar={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Dr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)Dr(n[r],t,0)},Polygon:function(e,t){Mr(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)Mr(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)Sr(n[r],t)}};function Dr(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function Mr(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Dr(e[n],t,1);t.polygonEnd()}function Rr(e,t){e&&Er.hasOwnProperty(e.type)?Er[e.type](e,t):Sr(e,t)}class Pr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],i=e+o,a=Math.abs(e)<Math.abs(o)?e-(i-o):o-(i-e);a&&(t[n++]=a),e=i}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,o=this._n,i=0;if(o>0){for(i=e[--o];o>0&&(t=i,n=e[--o],i=t+n,r=n-(i-t),!r););o>0&&(r<0&&e[o-1]<0||r>0&&e[o-1]>0)&&(n=2*r,t=i+n,n==t-i&&(i=t))}return i}}var Tr=2*Math.PI,Lr=Math.abs,zr=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);function Or(){}Math.tan;var Fr,Ir,Br,$r,jr=new Pr,Nr=new Pr,Wr={point:Or,lineStart:Or,lineEnd:Or,polygonStart:function(){Wr.lineStart=Hr,Wr.lineEnd=Vr},polygonEnd:function(){Wr.lineStart=Wr.lineEnd=Wr.point=Or,jr.add(Lr(Nr)),Nr=new Pr},result:function(){var e=jr/2;return jr=new Pr,e}};function Hr(){Wr.point=Ur}function Ur(e,t){Wr.point=qr,Fr=Br=e,Ir=$r=t}function qr(e,t){Nr.add($r*e-Br*t),Br=e,$r=t}function Vr(){qr(Fr,Ir)}const Kr=Wr;var Zr=1/0,Gr=Zr,Xr=-Zr,Yr=Xr;const Qr={point:function(e,t){e<Zr&&(Zr=e),e>Xr&&(Xr=e),t<Gr&&(Gr=t),t>Yr&&(Yr=t)},lineStart:Or,lineEnd:Or,polygonStart:Or,polygonEnd:Or,result:function(){var e=[[Zr,Gr],[Xr,Yr]];return Xr=Yr=-(Gr=Zr=1/0),e}};var Jr,eo,to,no,ro=0,oo=0,io=0,ao=0,so=0,lo=0,co=0,fo=0,uo=0,ho={point:po,lineStart:mo,lineEnd:vo,polygonStart:function(){ho.lineStart=bo,ho.lineEnd=yo},polygonEnd:function(){ho.point=po,ho.lineStart=mo,ho.lineEnd=vo},result:function(){var e=uo?[co/uo,fo/uo]:lo?[ao/lo,so/lo]:io?[ro/io,oo/io]:[NaN,NaN];return ro=oo=io=ao=so=lo=co=fo=uo=0,e}};function po(e,t){ro+=e,oo+=t,++io}function mo(){ho.point=go}function go(e,t){ho.point=_o,po(to=e,no=t)}function _o(e,t){var n=e-to,r=t-no,o=zr(n*n+r*r);ao+=o*(to+e)/2,so+=o*(no+t)/2,lo+=o,po(to=e,no=t)}function vo(){ho.point=po}function bo(){ho.point=wo}function yo(){xo(Jr,eo)}function wo(e,t){ho.point=xo,po(Jr=to=e,eo=no=t)}function xo(e,t){var n=e-to,r=t-no,o=zr(n*n+r*r);ao+=o*(to+e)/2,so+=o*(no+t)/2,lo+=o,co+=(o=no*e-to*t)*(to+e),fo+=o*(no+t),uo+=3*o,po(to=e,no=t)}const Co=ho;function ko(e){this._context=e}ko.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Tr)}},result:Or};var So,Eo,Ao,Do,Mo,Ro=new Pr,Po={point:Or,lineStart:function(){Po.point=To},lineEnd:function(){So&&Lo(Eo,Ao),Po.point=Or},polygonStart:function(){So=!0},polygonEnd:function(){So=null},result:function(){var e=+Ro;return Ro=new Pr,e}};function To(e,t){Po.point=Lo,Eo=Do=e,Ao=Mo=t}function Lo(e,t){Do-=e,Mo-=t,Ro.add(zr(Do*Do+Mo*Mo)),Do=e,Mo=t}const zo=Po;function Oo(){this._string=[]}function Fo(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Oo.prototype={_radius:4.5,_circle:Fo(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Fo(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},__webpack_require__(8796);class Io extends Cr{afterAppCreation(){this.contentDiv.prepend(this.app.div_container),this.svg.style("position","absolute").style("pointer-events","none");const e=this.config;e.contour_bandwidth=e.contour_bandwidth||5,e.contour_intensity=e.contour_intensity||.7,e.contour_opacity=e.contour_opacity||1;const t=e.param,n=this.dataStore.getMinMaxForColumn(t[0]),r=this.dataStore.getMinMaxForColumn(t[1]),o=n[1]-n[0],i=r[1]-r[0];return this.whRatio=o/i,this.catKeys=[-1,-1],this.data=[null,null],this.orig_y_scale=this.y_scale.domain(),this.orig_x_scale=this.x_scale.domain(),this.or_y_scale=[0,400/this.whRatio],this.or_x_scale=[0,400],this.app.addHandler("pan_or_zoom",((e,t,n)=>{this._updateScale(this.app.getRange()),this._rescaleSVG()}),e.id),super.afterAppCreation()}getDimension(){return this.dataStore.getDimension("density_dimension")}onDataFiltered(e){const t=this.config,n=t.param;super.onDataFiltered(e);const r=this.dataStore.getColumnValues(t.param[2]);if(this.catKeys=[r.indexOf(t.category1),r.indexOf(t.category2)],-1===this.catKeys[0]&&-1===this.catKeys[1])return void(this.data=[null,null]);const o={categories:this.catKeys,yscale:[this.orig_y_scale,this.or_y_scale],xscale:[this.orig_x_scale,this.or_x_scale],bandwidth:this.config.contour_bandwidth};this.dim.getDensityContours((e=>{this.data=e,this.drawChart(),this._rescaleSVG()}),n,o)}setSize(e,t){super.setSize(e,t),this._rescaleSVG()}_drawContours(e,t,n){const r=`dp-poly-${n}`,o=this.config;this.graph_area.selectAll("."+r).data(this.data[n]).join("path").attr("class",r).attr("stroke",o.contour_fill?"none":e).style("opacity",o.contour_opacity).attr("stroke-linejoin","round").attr("d",function(e,t){var n,r,o=4.5;function i(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Rr(e,n(r))),r.result()}return i.area=function(e){return Rr(e,n(Kr)),Kr.result()},i.measure=function(e){return Rr(e,n(zo)),zo.result()},i.bounds=function(e){return Rr(e,n(Qr)),Qr.result()},i.centroid=function(e){return Rr(e,n(Co)),Co.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,kr):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new Oo):new ko(t=e),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)}()).attr("fill",(e=>o.contour_fill?t(e.value):"none"))}removeCategory(e){delete this.config["category"+e],this.data[e-1]=null,this.catKeys[e-1]=-1,this.graph_area.selectAll(".dp-poly-"+(e-1)).remove()}changeContourParameter(e){this.config.param[2]=e,this.removeCategory(1),this.removeCategory(2),this.drawChart()}drawChart(e=400){const t=this.config;for(let e in this.catKeys){let n=this.catKeys[e];if(-1===n)this.graph_area.selectAll(`.dp-poly-${e}`).remove();else{let r=this.dataStore.getColumnColors(t.param[2])[n],o=(0,K.Z)([0,1-t.contour_intensity],["white",r]);this._drawContours(r,o,e)}}}_rescaleSVG(){const e=this.x_scale.domain(),t=e[1]-e[0],n=this.x_scale.range()[1]/this.or_x_scale[1],r=(this.orig_x_scale[1]-this.orig_x_scale[0])/t*n,o=(0,K.Z)().domain(e).range(this.or_x_scale),i=o(e[0])-o(this.orig_x_scale[0])*n,a=this.y_scale.domain(),s=a[0]-a[1],l=this.y_scale.range()[1]/this.or_y_scale[1],c=(this.orig_y_scale[0]-this.orig_y_scale[1])/s*l,f=(0,K.Z)().domain(a).range(this.or_y_scale),u=f(a[0])-f(this.orig_y_scale[0])*l,d=this.margins.left,h=this.margins.top;this.graph_area.attr("transform",`translate(${d-i},${h-u}) scale(${r},${c})  `)}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getColumnList("text");let r=this.dataStore.getColumnValues(t.param[2]);return r=r.map((e=>({t:e}))),r.push({t:"None"}),e.push({type:"dropdown",label:"Contour Parameter",current_value:this.dataStore.getColumnName(t.param[2]),values:[n,"name","field"],func:e=>{this.changeContourParameter(e)},onchange:(e,t)=>{const n=this.dataStore.getColumnValues(t).slice(0);n.push("None");for(let t of["Contour Category 1","Contour Category 2"]){e[t].innerHTML="";for(let r of n)(0,R.ut)("option",{text:r,value:r},e[t]);e[t].value="None"}}},{type:"dropdown",label:"Contour Category 1",current_value:t.category1||"None",values:[r,"t","t"],func:e=>{"None"===e?this.removeCategory(1):t.category1=e,this.onDataFiltered()}},{type:"dropdown",label:"Contour Category 2",current_value:t.category2||"None",values:[r,"t","t"],func:e=>{"None"===e?this.removeCategory(2):t.category2=e,this.onDataFiltered()}},{type:"slider",max:25,min:1,doc:this.__doc__,current_value:t.contour_bandwidth,label:"KDE Bandwidth",func:e=>{t.contour_bandwidth=e,this.onDataFiltered()}},{label:"Fill Contours",type:"check",current_value:t.contour_fill,func:e=>{t.contour_fill=e,this.drawChart()}},{type:"slider",max:1,min:0,doc:this.__doc__,current_value:t.contour_intensity,label:"Fill Intensity",func:e=>{t.contour_intensity=e,this.drawChart()}},{type:"slider",max:1,min:0,doc:this.__doc__,current_value:t.contour_opacity,label:"Contour opacity",func:e=>{t.contour_opacity=e,this.drawChart()}}),e}}I.types.density_scatter_plot={name:"Density Scatter Plot",class:Io,params:[{type:"number",name:"X axis"},{type:"number",name:"Y axis"},{type:"text",name:"Category Column"}]};const Bo=Io;class $o extends P{constructor(e){super({width:500,title:"Channels",doc:e.__doc__},e)}init(e){this.viv=e,this.mainDiv=(0,R.ut)("div",{},this.dialog);const t=this.viv.getChannels();for(let e of t)this.addSlider(e);const n=(0,R.ut)("div",{styles:{padding:"4px"}},this.dialog),r=(0,R.ut)("select",{},n),o=e.getAllChannels();for(let e=0;e<o.length;e++)(0,R.ut)("option",{text:o[e].Name,value:e},r);const i=(0,R.ut)("input",{styles:{width:"25px",height:"20px",padding:"0px",margin:"0px 4px"},type:"color",value:"#ff0000"},n);(0,R.ut)("span",{classes:["ciview-button-sm"],text:"Add Channel"},n).addEventListener("click",(()=>{const e=this.viv.addChannel({index:parseInt(r.value),color:i.value});this.addSlider(e)}))}addSlider(e){const t=(0,R.ut)("div",{styles:{display:"flex",padding:"4px"}},this.mainDiv);(0,R.ut)("span",{text:e.name,classes:["mdv-flex-dynamic"],styles:{flexBasis:"30%"}},t);const n=(0,R.ut)("div",{classes:["mdv-flex-dynamic"],styles:{padding:"0px 10px",flexBasis:"70%",overflow:"visible"}},t);L().create(n,{start:[e.contrastLimits[0],e.contrastLimits[1]],range:{min:0,max:300},step:1,document:this.config.doc,tooltips:!0},t),n.noUiSlider.on("end",(t=>{e.contrastLimits=[parseFloat(t[0]),parseFloat(t[1])],this.viv.setChannel(e)}));const r=(0,R.ut)("input",{classes:["mdv-flex-fixed"],styles:{width:"25px",height:"20px",padding:"0px"},type:"color",value:e.color},t);r.addEventListener("change",(()=>{e.color=r.value,this.viv.setChannel(e)}));const o=(0,R.ut)("input",{classes:["mdv-flex-fixed","mdv-checkbox"],type:"checkbox",checked:e.channelsVisible},t);o.addEventListener("click",(()=>{e.channelsVisible=o.checked,this.viv.setChannel(e)})),(0,R.ut)("i",{classes:["mdv-flex-fixed","fas","fa-times"],styles:{width:"16px",margin:"0px 3px",cursor:"pointer"}},t).addEventListener("click",(()=>{this.viv.removeChannel(e),t.remove()}))}}I.types.viv_scatter_plot={name:"Viv Scatter Plot",class:class extends Bo{constructor(e,t,n){const r=e.getColumnName(n.param[0]),o=e.getColumnName(n.param[1]);n.axis||(n.axis={x:{size:30,label:r,textsize:13},y:{size:45,label:o,textsize:13}}),super(e,t,n,{x:{},y:{}}),n.viv&&this.addMenuIcon("fas fa-palette","Alter Channels").addEventListener("click",(e=>new $o(this)))}setSize(e,t){if(super.setSize(e,t),this.viv){const e=this._getContentDimensions();this.viv.setSize(e.width,e.height,this.app)}}setChannel(e){this.viv.setChannel(e)}getAllChannels(){return this.viv.channels}addChannel(e){return this.viv.addChannel(e)}removeChannel(e){this.viv.removeChannel(e)}getChannels(){const e=this.viv.layers[0].props,t=e.selections.map((e=>this.viv.channels[e.c].Name)),n=e.colors.map((e=>(0,Dt.fc)(e)));return e.selections,t.map(((t,r)=>({name:t,index:e.selections[r].c,color:n[r],contrastLimits:e.contrastLimits[r].slice(0),channelsVisible:e.channelsVisible[r]})))}remove(){this.viv.deck.finalize(),super.remove()}centerGraph(){super.centerGraph(),this.viv&&this.viv.setPanZoom(this.app.offset,this.app.x_scale,this.app.y_scale)}getConfig(){const e=super.getConfig(),t=this.viv.layers[0].props;return e.viv.image_properties={selections:t.selections.slice(0),colors:t.colors.slice(0),channelsVisible:t.channelsVisible.slice(0),contrastLimits:t.contrastLimits.slice(0)},e}afterAppCreation(){const e=this.config;if(e.viv){const t=this._getContentDimensions();this.vivCanvas=(0,R.ut)("canvas",{height:t.height,width:t.width,styles:{position:"absolute"}}),this.graphDiv.prepend(this.vivCanvas),Promise.all([__webpack_require__.e(872),__webpack_require__.e(647)]).then(__webpack_require__.bind(__webpack_require__,4128)).then((({default:t})=>{this.viv=new t(this.vivCanvas,e.viv,this.app),this.app.addHandler("pan_or_zoom",((e,t,n)=>{this.viv.setPanZoom(e,t,n)}),e.id+"_viv")}))}return super.afterAppCreation()}},params:[{type:"number",name:"X axis"},{type:"number",name:"Y axis"}]};I.types.cell_network_chart={name:"Cell Network Chart",allow_user_add:!1,class:class extends At{constructor(e,t,n){n.title||(n.title=n.category),n.link_strength=n.link_strength||1,n.node_repulsion=n.node_repulsion||-500,super(e,t,n,{}),this.forceLink=function(e){var t,n,r,o,i,a,s=Jn,l=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=Yn(30),f=1;function u(r){for(var o=0,s=e.length;o<f;++o)for(var l,c,u,d,h,p,m,g=0;g<s;++g)c=(l=e[g]).source,d=(u=l.target).x+u.vx-c.x-c.vx||Qn(a),h=u.y+u.vy-c.y-c.vy||Qn(a),d*=p=((p=Math.sqrt(d*d+h*h))-n[g])/p*r*t[g],h*=p,u.vx-=d*(m=i[g]),u.vy-=h*m,c.vx+=d*(m=1-m),c.vy+=h*m}function d(){if(r){var a,l,c=r.length,f=e.length,u=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(a=0,o=new Array(c);a<f;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=er(u,l.source)),"object"!=typeof l.target&&(l.target=er(u,l.target)),o[l.source.index]=(o[l.source.index]||0)+1,o[l.target.index]=(o[l.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)l=e[a],i[a]=o[l.source.index]/(o[l.source.index]+o[l.target.index]);t=new Array(f),h(),n=new Array(f),p()}}function h(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e,t){r=e,a=t,d()},u.links=function(t){return arguments.length?(e=t,d(),u):e},u.id=function(e){return arguments.length?(s=e,u):s},u.iterations=function(e){return arguments.length?(f=+e,u):f},u.strength=function(e){return arguments.length?(l="function"==typeof e?e:Yn(+e),h(),u):l},u.distance=function(e){return arguments.length?(c="function"==typeof e?e:Yn(+e),p(),u):c},u}().id((function(e){return e.id})).distance((e=>20*e.value)),this.forceManyBody=function(){var e,t,n,r,o,i=Yn(-30),a=1,s=1/0,l=.81;function c(n){var o,i=e.length,a=ir(e,fr,ur).visitAfter(u);for(r=n,o=0;o<i;++o)t=e[o],a.visit(d)}function f(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function u(e){var t,n,r,i,a,s=0,l=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,i+=n*t.y);e.x=r/l,e.y=i/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=o[t.data.index]}while(t=t.next)}e.value=s}function d(e,i,c,f){if(!e.value)return!0;var u=e.x-t.x,d=e.y-t.y,h=f-i,p=u*u+d*d;if(h*h/l<p)return p<s&&(0===u&&(p+=(u=Qn(n))*u),0===d&&(p+=(d=Qn(n))*d),p<a&&(p=Math.sqrt(a*p)),t.vx+=u*e.value*r/p,t.vy+=d*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===u&&(p+=(u=Qn(n))*u),0===d&&(p+=(d=Qn(n))*d),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=o[e.data.index]*r/p,t.vx+=u*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,f()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:Yn(+e),f(),c):i},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}().distanceMax(150),this.simulation=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=me(u),c=te("tick","end"),f=function(){let e=1;return()=>(e=(1664525*e+1013904223)%cr)/cr}();function u(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(r){var l,c,f=e.length;void 0===r&&(r=1);for(var u=0;u<r;++u)for(n+=(i-n)*o,s.forEach((function(e){e(n)})),l=0;l<f;++l)null==(c=e[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*dr;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,f),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(f=e,s.forEach(p),t):f},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,l,c=0,f=e.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(a=(o=t-(s=e[c]).x)*o+(i=n-s.y)*i)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}().force("link",this.forceLink.strength(this.config.link_strength)).force("charge",this.forceManyBody.strength(n.node_repulsion)).force("center",Xn(this.width/2,this.height/2)),this.getLinks(),this.drawChart()}drawChart(){const e=this;this.svg.selectAll("*").remove();const t=this.dataStore.getColumnColors(this.config.param[1]);this.link=this.svg.append("g").attr("class","links").selectAll("line").data(this.linkData).enter().append("line").attr("stroke-width",(e=>2*(5-e.value))).style("stroke","black").style("opacity",.2),this.node=this.svg.append("g").attr("class","nodes").selectAll("g").data(this.nodeData).enter().append("g"),this.circles=this.node.append("circle").attr("r",5).attr("fill",(function(e){return t[e.index]})).call(this.setUpDrag()),this.lables=this.node.append("text").text((function(e){return e.id})).attr("x",6).attr("y",3),this.node.append("title").text((function(e){return e.id})),this.simulation.nodes(this.nodeData).on("tick",(()=>e.ticked())),this.simulation.force("link").links(this.linkData)}ticked(){const e=this;this.lables.attr("text-anchor",(e=>e.x>2*this.width/3?"end":"start")).attr("x",(e=>e.x>2*this.width/3?-6:6)),this.node.attr("transform",(function(t){return t.x=Math.min(t.x,e.width-20),t.x=Math.max(t.x,15),t.y=Math.min(t.y,e.height-20),t.y=Math.max(t.y,15),"translate("+t.x+","+t.y+")"})),this.link.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))}setUpDrag(){const e=this;return function(){var e,t,n,r,o=Vn,i=Kn,a=Zn,s=Gn,l={},c=te("start","drag","end"),f=0,u=0;function d(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",g).on("touchmove.drag",_,fn).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&((0,B.Z)(a.view).on("mousemove.drag",p,un).on("mouseup.drag",m,un),pn(a.view),dn(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function p(r){if(hn(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>u}l.mouse("drag",r)}function m(e){(0,B.Z)(e.view).on("mousemove.drag mouseup.drag",null),mn(e.view,n),hn(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(dn(e),r("start",e,a[n]))}}function _(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(hn(e),n("drag",e,r[t]))}function v(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(dn(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,u,h,p=c.copy(),m=_n(i||n,t);if(null!=(h=a.call(e,new qn("beforestart",{sourceEvent:n,target:d,identifier:o,active:f,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-m[0]||0,u=h.y-m[1]||0,function n(i,a,c){var g,_=m;switch(i){case"start":l[o]=n,g=f++;break;case"end":delete l[o],--f;case"drag":m=_n(c||a,t),g=f}p.call(i,e,new qn(i,{sourceEvent:a,subject:h,target:d,identifier:o,active:g,x:m[0]+s,y:m[1]+u,dx:m[0]-_[0],dy:m[1]-_[1],dispatch:p}),r)}}return d.filter=function(e){return arguments.length?(o="function"==typeof e?e:Un(!!e),d):o},d.container=function(e){return arguments.length?(i="function"==typeof e?e:Un(e),d):i},d.subject=function(e){return arguments.length?(a="function"==typeof e?e:Un(e),d):a},d.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Un(!!e),d):s},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,d):Math.sqrt(u)},d}().on("start",(function(t){t.active||e.simulation.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.simulation.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}reCalculate(){this.getLinks(),this.drawChart(),this.simulation.alphaTarget(.2).restart(),setTimeout((()=>{this.simulation.alphaTarget(0)}),1e3)}changeParameter(){const e=this.config;this.forceLink.strength(e.link_strength),this.forceManyBody.strength(e.node_repulsion),this.simulation.alphaTarget(.2).restart(),setTimeout((()=>{this.simulation.alphaTarget(0)}),1e3)}getLinks(){const e=this.config.param,t=this.dataStore.getColumnValues(e[1]),n=this.dataStore.getColumnValues(e[2]);this.nodeData=[];let r=null;const o=this.config.specific_only;o&&(r=new Set(o[0].map((e=>t.indexOf(e)))));for(let e=0;e<t.length;e++)r&&!r.has(e)||this.nodeData.push({id:t[e],index:e});const i=new Set;for(let e=0;e<t.length;e++)for(let t=e+1;t<n.length;t++)(!r||r.has(e)&&r.has(t))&&i.add(`${e}|${t}`);const a=this.dataStore.getColumnValues(e[0]).indexOf(this.config.category),s=this.dataStore.columnIndex,l=s[e[0]].data,c=s[e[1]].data,f=s[e[2]].data,u=s[e[3]].data,d=s[e[4]].data;this.linkData=[];for(let e=0;e<this.dataStore.size;e++){const r=`${c[e]}|${f[e]}`;if(l[e]===a&&i.has(r)&&d[e]<this.config.stat_cutoff){let r=5-u[e];r=Math.max(r,0),this.linkData.push({source:t[c[e]],target:n[f[e]],value:r})}}}setSize(e,t){super.setSize(e,t),this.simulation.force("center",Xn(this.width/2,this.height/2)),this.simulation.alphaTarget(.2).restart(),setTimeout((()=>{this.simulation.alphaTarget(0)}),1e3)}getSettings(){const e=super.getSettings(),t=this.config;return this.dataStore.getColumnValues(t.param[0]).map((e=>({t:e,v:e}))),e.push({type:"slider",max:1,min:0,step:.01,doc:this.__doc__,current_value:t.stat_cutoff,label:"significance cut off",func:e=>{t.stat_cutoff=e,this.reCalculate()}}),e.push({type:"slider",max:2,min:0,doc:this.__doc__,current_value:t.link_strength,label:"Link Strength",func:e=>{t.link_strength=e,this.changeParameter()}}),e.push({type:"slider",max:0,min:-1e3,doc:this.__doc__,current_value:t.node_repulsion,label:"Node Repulsion",func:e=>{t.node_repulsion=e,this.changeParameter()}}),e}},params:[{type:"text",name:"cat1"},{type:"text",name:"cat2"},{type:"number",name:"interaction"},{type:"number",name:"fdr"}]};class jo{constructor(e,t,n={}){let r=this,o=URL.createObjectURL(new Blob([],{type:"text/html"}));o=n.url||o;const i=n;this.window=window.open(o,"win"+(new Date).getTime(),`width=${i.width||800},\n            height=${i.height||400},\n            screenX=${i.screenX||200},\n            screenY=${i.screenY||200}\n            ;modal=yes`),this.window.addEventListener("load",(function(){let n=r.window.document;n.write("<head>");let o=document.head.innerHTML;if(n.write(o),i.stylesheets)for(let e of i.stylesheets)n.write(`<link rel="stylesheet" type="text/css" href="${e}">`);n.write("</head>"),n.write("<body><body>"),i.title&&(n.title=i.title),e&&e(n,r.getDimensions()),r.onclose=t,r.window.addEventListener("beforeunload",(function(e){r.closing(n)})),i.stayInFront&&(r.focusListener=()=>{r.window.focus()},document.body.addEventListener("mousedown",r.focusListener));const a=i.onresize;a&&r.window.addEventListener("resize",(function(e){clearTimeout(r.resizeTO),r.resizeTO=setTimeout((()=>{a(n,r.getDimensions())}),200)}))}))}getDimensions(){const e=this.window;return{width:e.innerWidth-10,height:e.innerHeight-10}}closing(e){this.onclose&&this.onclose(e),this.focusListener&&document.body.removeEventListener("mousedown",this.focusListener)}close(){this.window.close()}}const No=class extends P{constructor(e){e.buttons&&(e.footer=!0,e._buttons=e.buttons,delete e.buttons),e.width=e.width||300,super(e,e)}init(e){if(this.controlValues={},this.controls={},e._buttons)for(let t of e._buttons)this.addButton(t);if(e.text&&((0,R.ut)("div",{},this.dialog).innerHTML=e.text),e.controls)for(let t of e.controls){t.id||(t.id=t.label);let e=(0,R.ut)("div",{styles:{padding:"5px"}},this.dialog);if("button"!==t.type){const n="checkbox"===t.type?"inline":"block";(0,R.ut)("label",{text:t.label,styles:{fontWeight:"bold",display:n,marginBottom:"3px"}},e)}this[t.type](t,e),t.description&&(0,R.ut)("div",{text:t.description,styles:{fontSize:"12px"}},e)}}radiobuttons(e,t){const n=(0,R.ut)("div",{},t);this.controlValues[e.id]=e.current_value;for(let t of e.choices){(0,R.ut)("span",{text:t[0]},n);const r=(0,R.ut)("input",{type:"radio",name:e.label,value:t[1]},n);r.checked=e.current_value===t[1],r.addEventListener("click",(t=>{const n=t.currentTarget.value;this.controlValues[e.id]=n,e.func&&e.func(n,this)}))}}slider(e,t){const n=(0,R.ut)("div",{},t);L().create(n,{start:[e.current_value],range:{min:[e.min],max:[e.max]},step:e.step||null,tooltips:!0,documentElement:e.doc||document}),this.controlValues[e.id]=e.current_value,n.noUiSlider.on("end",(t=>{const n=parseFloat(t[0]);this.controlValues[e.id]=n,e.func&&e.func(n)}))}changeDropDownContent(e,t){const n=this.controls[e];for(;0!==n.length;)n.remove(0);for(let e of t)(0,R.ut)("option",{text:e.text,value:e.value},n);this.controlValues[e]=n.value}dropdown(e,t){const n=(0,R.ut)("select",{styles:{maxWidth:"200px"}});for(let t of e.items)(0,R.ut)("option",{text:t.text,value:t.value},n);t.append(n),e.current_value&&(n.value=e.current_value),this.controlValues[e.id]=n.value,n.addEventListener("change",(t=>{this.controlValues[e.id]=n.value,e.func&&e.func(n.value,this)})),this.controls[e.id]=n}checkboxgroup(e,t){const n=this,r=(0,R.ut)("div",{},t);function o(t,o){(0,R.ut)("span",{text:t,classes:["ciview-button-sm"]},r).addEventListener("click",(()=>{for(let t of e.checkboxes)n.controls[t.id].checked=o,n.controlValues[t.id]=o}))}o("Check All",!0),o("Uncheck All",!1);const i=(0,R.ut)("div",{},t);for(let t of e.checkboxes){const n=(0,R.ut)("div",{styles:{display:"inline-block",padding:"3px"}},i);(0,R.ut)("span",{styles:{fontSize:"13px"},text:t.label},n),t.id=`${e.id}_${t.id}`,this.checkbox(t,n)}}checkbox(e,t){const n=e.current_value,r=(0,R.ut)("input",{type:"checkbox",classes:["mdv-checkbox"]},t);r.checked=e.current_value,this.controlValues[e.id]=n,r.addEventListener("click",(t=>{this.controlValues[e.id]=r.checked,e.func&&e.func(r.checked)})),this.controls[e.id]=r}text(e,t){const n=e.defaultValue||"",r=(0,R.ut)("input",{value:n},t);this.controlValues[e.id]=n,r.addEventListener("keyup",(()=>{this.controlValues[e.id]=r.value}))}buttonClicked(e){e.method(this.controlValues),this.close()}addButton(e){(0,R.ut)("span",{text:e.text,classes:["ciview-button"]},this.footer).addEventListener("click",(()=>this.buttonClicked(e)))}};I.types.bar_chart={name:"Histogram",class:class extends At{constructor(e,t,n){Array.isArray(n.param)&&(n.param=n.param[0]);const r=e.getColumnName(n.param);n.axis||(n.axis={x:{size:30,label:r,textsize:13},y:{size:45,label:"frequency",textsize:13}}),n.title||(n.title=r),super(e,t,n,{x:{},y:{}});const o=this.config;o.type="bar_chart";const i=this.dataStore.getMinMaxForColumn(n.param);this._setConfigValue(o,"display_max",i[1]),this._setConfigValue(o,"display_min",i[0]),this._setConfigValue(o,"bin_number",10),this.brush=function(e){var t,n=jn,r=$n,o=Nn,i=!0,a=te("start","brush","end"),s=6;function l(t){var n=t.property("__brush",m).selectAll(".overlay").data([Bn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ln.overlay).merge(n).each((function(){var e=Wn(this).extent;(0,B.Z)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([Bn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ln.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return Ln[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(o).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=(0,B.Z)(this),t=Wn(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+s:s})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+s:s}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new u(e,t,n):r}function u(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function d(n){if((!t||n.touches)&&r.apply(this,arguments)){var o,a,s,l,u,d,h,p,m,g,_,v=this,b=n.target.__data__.type,y="selection"===(i&&n.metaKey?b="overlay":b)?xn:i&&n.altKey?Sn:kn,w=e===Tn?null:Fn[b],x=e===Pn?null:In[b],C=Wn(v),k=C.extent,S=C.selection,E=k[0][0],A=k[0][1],D=k[1][0],M=k[1][1],R=0,P=0,T=w&&x&&i&&n.shiftKey,L=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=_n(e,v)).point0=e.slice(),e.identifier=t,e}));Ee(v);var z=f(v,arguments,!0).beforestart();if("overlay"===b){S&&(m=!0);const t=[L[0],L[1]||L[0]];C.selection=S=[[o=e===Tn?E:Dn(t[0][0],t[1][0]),s=e===Pn?A:Dn(t[0][1],t[1][1])],[u=e===Tn?D:An(t[0][0],t[1][0]),h=e===Pn?M:An(t[0][1],t[1][1])]],L.length>1&&j(n)}else o=S[0][0],s=S[0][1],u=S[1][0],h=S[1][1];a=o,l=s,d=u,p=h;var O=(0,B.Z)(v).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",Ln[b]);if(n.touches)z.moved=$,z.ended=N;else{var I=(0,B.Z)(n.view).on("mousemove.brush",$,!0).on("mouseup.brush",N,!0);i&&I.on("keydown.brush",W,!0).on("keyup.brush",H,!0),pn(n.view)}c.call(v),z.start(n,y.name)}function $(e){for(const t of e.changedTouches||[e])for(const e of L)e.identifier===t.identifier&&(e.cur=_n(t,v));if(T&&!g&&!_&&1===L.length){const e=L[0];En(e.cur[0]-e[0])>En(e.cur[1]-e[1])?_=!0:g=!0}for(const e of L)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);m=!0,wn(e),j(e)}function j(e){const t=L[0],n=t.point0;var r;switch(R=t[0]-n[0],P=t[1]-n[1],y){case Cn:case xn:w&&(R=An(E-o,Dn(D-u,R)),a=o+R,d=u+R),x&&(P=An(A-s,Dn(M-h,P)),l=s+P,p=h+P);break;case kn:L[1]?(w&&(a=An(E,Dn(D,L[0][0])),d=An(E,Dn(D,L[1][0])),w=1),x&&(l=An(A,Dn(M,L[0][1])),p=An(A,Dn(M,L[1][1])),x=1)):(w<0?(R=An(E-o,Dn(D-o,R)),a=o+R,d=u):w>0&&(R=An(E-u,Dn(D-u,R)),a=o,d=u+R),x<0?(P=An(A-s,Dn(M-s,P)),l=s+P,p=h):x>0&&(P=An(A-h,Dn(M-h,P)),l=s,p=h+P));break;case Sn:w&&(a=An(E,Dn(D,o-R*w)),d=An(E,Dn(D,u+R*w))),x&&(l=An(A,Dn(M,s-P*x)),p=An(A,Dn(M,h+P*x)))}d<a&&(w*=-1,r=o,o=u,u=r,r=a,a=d,d=r,b in zn&&F.attr("cursor",Ln[b=zn[b]])),p<l&&(x*=-1,r=s,s=h,h=r,r=l,l=p,p=r,b in On&&F.attr("cursor",Ln[b=On[b]])),C.selection&&(S=C.selection),g&&(a=S[0][0],d=S[1][0]),_&&(l=S[0][1],p=S[1][1]),S[0][0]===a&&S[0][1]===l&&S[1][0]===d&&S[1][1]===p||(C.selection=[[a,l],[d,p]],c.call(v),z.brush(e,y.name))}function N(e){if(yn(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else mn(e.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",Ln.overlay),C.selection&&(S=C.selection),Hn(S)&&(C.selection=null,c.call(v)),z.end(e,y.name)}function W(e){switch(e.keyCode){case 16:T=w&&x;break;case 18:y===kn&&(w&&(u=d-R*w,o=a+R*w),x&&(h=p-P*x,s=l+P*x),y=Sn,j(e));break;case 32:y!==kn&&y!==Sn||(w<0?u=d-R:w>0&&(o=a-R),x<0?h=p-P:x>0&&(s=l-P),y=Cn,F.attr("cursor",Ln.selection),j(e));break;default:return}wn(e)}function H(e){switch(e.keyCode){case 16:T&&(g=_=T=!1,j(e));break;case 18:y===Sn&&(w<0?u=d:w>0&&(o=a),x<0?h=p:x>0&&(s=l),y=kn,j(e));break;case 32:y===Cn&&(e.altKey?(w&&(u=d-R*w,o=a+R*w),x&&(h=p-P*x,s=l+P*x),y=Sn):(w<0?u=d:w>0&&(o=a),x<0?h=p:x>0&&(s=l),y=kn),F.attr("cursor",Ln[b]),j(e));break;default:return}wn(e)}}function h(e){f(this,arguments).moved(e)}function p(e){f(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=Rn(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){f(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){f(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,o=f(t,arguments),i=r.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=(0,gn.Z)(i,a);function l(e){r.selection=1===e&&null===a?null:s(e),c.call(t),o.brush()}return null!==i&&null!==a?l:l(1)})):t.each((function(){var t=this,o=arguments,i=t.__brush,a=e.input("function"==typeof n?n.apply(t,o):n,i.extent),s=f(t,o).beforestart();Ee(t),i.selection=null===a?null:a,c.call(t),s.start(r).brush(r).end(r)}))},l.clear=function(e,t){l.move(e,null,t)},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var o=(0,B.Z)(this.that).datum();a.call(t,this.that,new bn(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:a}),o)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:vn(Rn(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:vn(!!e),l):r},l.touchable=function(e){return arguments.length?(o="function"==typeof e?e:vn(!!e),l):o},l.handleSize=function(e){return arguments.length?(s=+e,l):s},l.keyModifiers=function(e){return arguments.length?(i=!!e,l):i},l.on=function(){var e=a.on.apply(a,arguments);return e===a?l:e},l}(Pn).on("end",(e=>{const t=e.selection;if(null==t)return;const n=this.margins.left;this.setRange(this.x_scale.invert(t[0]-n),this.x_scale.invert(t[1]-n))})),this._setBrushExtent(),this.dim=this.dataStore.getDimension("range_dimension"),this.filter=null,this.binFiltered=new Array(this.config.bin_number).fill(!1),this.onDataFiltered(null,!0)}_setBrushExtent(){this.brush.extent([[this.margins.left,0],[this.width-this.margins.right,this.height-this.margins.bottom]]),this.svg.call(this.brush)}setSize(e,t){super.setSize(e,t),this._setBrushExtent(),this.drawChart(),this.svg.call(this.brush.move,null)}remove(e=!0){this.dim.destroy(e),super.remove()}removeFilter(){this.dim.removeFilter(),this.filter=null,this.binFiltered=new Array(this.config.bin_number).fill(!1),this.drawChart(),this.svg.call(this.brush.move,null)}_calculateFilterBins(){const e=this.config,t=e.bin_number;if(this.binFiltered=new Array(t).fill(!1),!this.filter)return;const n=(e.display_max-e.display_min)/e.bin_number;let r=e.display_min;for(let t=0;t<e.bin_number;t++){const e=r+t*n;(e<=this.filter[0]||e>this.filter[1])&&(this.binFiltered[t]=!0)}}setRange(e,t){this.filter=[e,t],this._calculateFilterBins(),this.dim.filter("filterRange",[this.config.param],{min:e,max:t}),this.drawChart(),this.resetButton.style.display="inline"}getFilter(){if(!this.filter)return null;const e={};return e[this.config.param]=this.filter.slice(0),e}onDataFiltered(e){if(this.dim===e||this.isPinned)return;const t=this.config.bin_number,n={bins:this.config.bin_number,max:this.config.display_max,min:this.config.display_min};"all_removed"===e&&(this.filter=null,this.binFiltered.fill(!1),this.svg.call(this.brush.move,null),this.resetButton.style.display="none"),this.dim.getBins((e=>{this.originalBinData=e,this.binData=e.slice(0,t),this.binData[t-1]+=e[t],this.drawChart()}),this.config.param,n)}drawChart(){const e=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),t=this._getContentDimensions(),n=this.config.bin_number,r=(t.width-3*(n+1))/n;let o=Math.max(...this.binData);o=o||1,this.x_scale.domain([this.config.display_min,this.config.display_max]),this.y_scale.domain([o,0]),this.updateAxis();const i=t.height/o,a=this;this.graph_area.selectAll(".bar").data(this.binData).join("rect").transition(e).style("fill",((e,t)=>a.binFiltered[t]?"gray":"blue")).attr("class","bar").attr("x",((e,t)=>3*(t+1)+t*r)).attr("width",r).attr("y",(e=>t.height-e*i)).attr("height",(e=>e*i))}pinChart(){this.isPinned=!0}unpinChart(){this.isPinned=!1,this.onDataFiltered()}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getMinMaxForColumn(t.param);return e.concat([{type:"doubleslider",min:n[0],max:n[1],doc:this.__doc__||document,current_value:[t.display_min,t.display_max],label:"max min values",info:{text:"Sometimes outliers can skew the histogram to one side.\n                     Setting a min/max value will add all counts less/greater than the \n                     value specified to the first/last bin.",position:"left"},func:(e,n)=>{t.display_min=e,t.display_max=n,this._calculateFilterBins(),this.onDataFiltered()}},{type:"spinner",max:100,min:2,current_value:t.bin_number,label:"Number of bins",func:e=>{t.bin_number=e,this._calculateFilterBins(),this.onDataFiltered()}}])}},params:[{type:"number",name:"Frequency Data"}]};const Wo=class extends At{constructor(e,t,n,r){Array.isArray(n.param)&&(n.param=n.param[0]),n.title=n.title||e.getColumnName(n.param),super(e,t,n,r),this.dim=this.dataStore.getDimension("category_dimension"),this.colors=this.dataStore.getColumnColors(n.param),this.filter=[]}remove(e=!0){this.dim.destroy(e),super.remove()}setSize(e,t){super.setSize(e,t),this.drawChart()}removeFilter(){this.dim.removeFilter(),this.filter=[],this.drawChart()}filterCategories(e,t){if(t)if(-1!==this.filter.indexOf(e))this.filter=this.filter.filter((t=>t!==e));else if(0==this.filter.length){const t=this.dataStore.getColumnValues(this.config.param);this.filter=t.filter((t=>t!==e))}else this.filter.push(e);else this.filter=[e];this.resetButton.style.display="inline",this.drawChart(100),this.dim.filter("filterCategories",[this.config.param],this.filter)}getFilter(){const e={};return this.filter&&0!==this.filter.length?(e[this.config.param]=this.filter.slice(0),e):null}pinChart(){this.isPinned=!0}unpinChart(){this.isPinned=!1,this.onDataFiltered()}onDataFiltered(e){this.dim===e||this.isPinned||("all_removed"===e&&(this.filter=[],this.resetButton.style.display="none"),this.dim.getCategories((e=>{this.rowData=[],this.maxCount=1;for(let t=0;t<e.length;t++)this.rowData.push([e[t],t]),this.maxCount=Math.max(e[t],this.maxCount);this.drawChart()}),this.config.param,{}))}};I.types.row_chart={class:class extends Wo{constructor(e,t,n){super(e,t,n,{x:{}}),this.config.type="row_chart",this.onDataFiltered(null)}drawChart(e=400){const t=this.config,n=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt),r=this.width-this.margins.left-this.margins.right,o=this.height-this.margins.bottom-this.margins.top,i=this.dataStore.getColumnColors(this.config.param),a=this.dataStore.getColumnValues(this.config.param),s=r/this.maxCount,l=this;let c=this.rowData,f=this.maxCount;if(t.exclude_categories){const e=new Set;for(let n of t.exclude_categories)e.add(a.indexOf(n));c=this.rowData.filter(((t,n)=>!e.has(n))),f=c.reduce(((e,t)=>Math.max(e[0],t[0])))}const u=c.length,d=(o-3*(u+1))/u;let h=Math.round(d);h=h>20?20:h,this.x_scale.domain([0,this.maxCount]),this.updateAxis(),this.graph_area.selectAll(".row-bar").data(c,((e,t)=>t)).join("rect").on("click",((e,t)=>{l.filterCategories(a[t[1]],e.shiftKey)})).transition(n).style("fill",(e=>{const t=e[1];return l.filter.length>0&&-1===l.filter.indexOf(a[t])?"lightgray":i[t]})).attr("class","row-bar").attr("x",0).attr("width",(e=>e[0]*s)).attr("y",((e,t)=>3*(t+1)+t*d)).attr("height",d),this.graph_area.selectAll(".row-text").data(c).join("text").on("click",((e,t)=>{l.filterCategories(a[t[1]],e.shiftKey)})).attr("class","row-text").transition(n).text((e=>""===a[e[1]]?"none":a[e[1]])).attr("font-size",h+"px").attr("x",5).style("fill","currentColor").attr("y",((e,t)=>3*(t+1)+t*d+d/2)).attr("dominant-baseline","central")}},name:"Row Chart",params:[{type:"text",name:"Category"}]};var Ho=__webpack_require__(626),Uo=__webpack_require__(2024);function qo(e){var t,n,r,o=[],i=this,a=new Uo.v.EventHandler,s={selectActiveRow:!0};function l(e){return function(){n||(n=!0,e.apply(this,arguments),n=!1)}}function c(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].fromRow;r<=e[n].toRow;r++)t.push(r);return t}function f(e){for(var n=[],r=t.getColumns().length-1,o=0;o<e.length;o++)n.push(new Uo.v.Range(e[o],0,e[o],r));return n}function u(){return c(o)}function d(e){(o&&0!==o.length||e&&0!==e.length)&&(o=e,i.onSelectedRangesChanged.notify(o))}function h(e,n){r.selectActiveRow&&null!=n.row&&d([new Uo.v.Range(n.row,0,n.row,t.getColumns().length-1)])}function p(e){var n=t.getActiveCell();if(t.getOptions().multiSelect&&n&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.which==Uo.v.keyCode.UP||e.which==Uo.v.keyCode.DOWN)){var r=u();r.sort((function(e,t){return e-t})),r.length||(r=[n.row]);var o,i=r[0],a=r[r.length-1];(o=e.which==Uo.v.keyCode.DOWN?n.row<a||i==a?++a:++i:n.row<a?--a:--i)>=0&&o<t.getDataLength()&&(t.scrollRowIntoView(o),d(f(function(e,t){var n,r=[];for(n=e;n<=t;n++)r.push(n);for(n=t;n<e;n++)r.push(n);return r}(i,a)))),e.preventDefault(),e.stopPropagation()}}function m(e){var n=t.getCellFromEvent(e);if(!n||!t.canCellBeActive(n.row,n.cell))return!1;if(!t.getOptions().multiSelect||!e.ctrlKey&&!e.shiftKey&&!e.metaKey)return!1;var r=c(o),i=r.indexOf(n.row);if(-1===i&&(e.ctrlKey||e.metaKey))r.push(n.row),t.setActiveCell(n.row,n.cell);else if(-1!==i&&(e.ctrlKey||e.metaKey))r=r.filter((function(e,t){return e!==n.row})),t.setActiveCell(n.row,n.cell);else if(r.length&&e.shiftKey){var a=r.pop(),s=Math.min(n.row,a),l=Math.max(n.row,a);r=[];for(var u=s;u<=l;u++)u!==a&&r.push(u);r.push(a),t.setActiveCell(n.row,n.cell)}return d(f(r)),e.stopImmediatePropagation(),!0}Object.assign(this,{getSelectedRows:u,setSelectedRows:function(e){d(f(e))},getSelectedRanges:function(){return o},setSelectedRanges:d,init:function(n){r=Object.assign(s,e),t=n,a.subscribe(t.onActiveCellChanged,l(h)),a.subscribe(t.onKeyDown,l(p)),a.subscribe(t.onClick,l(m))},destroy:function(){a.unsubscribeAll()},pluginName:"RowSelectionModel",onSelectedRangesChanged:new Uo.v.Event})}class Vo extends P{constructor(e,t,n,r){super({doc:r,columns:2,width:380,maxHeight:500,title:"Bulk Edit "+n},{table:e,column:t})}init(e){this.col=e.column,this.dataModel=e.table.dataModel,this.table=e.table;const t=(0,R.ut)("div",{},this.columns[0]);(0,R.ut)("div",{text:"Value:"},t),this.valInput=(0,R.ut)("input",{},t),this.valInput.addEventListener("keyup",(e=>{const t=e.which;if(37===t||39===t||8===t)return void e.stopImmediatePropagation();const n=this.dataModel.getValueSuggestion(this.valInput.value,this.col);n&&(this.valInput.value=n)}));const n=(0,R.ut)("div",{},this.columns[0]);(0,R.ut)("div",{text:"Replace With:"},n),this.replaceInput=(0,R.ut)("input",{},n),this._createButton("Fill All Cells","_all_"),this._createButton("Fill Empty Cells","_blank_"),this._createButton("Replace Value",null),this._createButton("Delete Unused Values","_delete_"),this._createButton("Remove Column","_delete_column_")}_createButton(e,t){const n=(0,R.ut)("div",{style:{padding:"5px 10px"}},this.columns[1]);(0,R.ut)("span",{classes:["ciview-button"],text:e},n).addEventListener("click",(()=>{const e=t||this.replaceInput.value;"_delete_column_"===e?(this.table._removeColumn(this.col),this.close()):this.dataModel.replaceValues(this.valInput.value,e,this.col)}))}}class Ko extends P{constructor(e,t){super({doc:t,footer:!0,buttons:[{text:"Add",method:"addColumn"}],width:280,maxHeight:500,title:"Add Column"},e)}init(e){const t={padding:"5px"};this.table=e;const n=(0,R.ut)("div",{style:t},this.dialog);(0,R.ut)("div",{text:"Column Name"},n),this.name=(0,R.ut)("input",{},n);const r=(0,R.ut)("div",{style:t},this.dialog),o=(0,R.ut)("div",{},r);this.cloneCheck=(0,R.ut)("input",{type:"checkbox"},o),(0,R.ut)("span",{text:"Copy Existing Column"},o);const i=e.getColumnInfo();this.cloneCol=(0,R.ut)("select",{},r);for(let e of i)(0,R.ut)("option",{text:e.name,value:e.field},this.cloneCol);const a=(0,R.ut)("div",{style:t},this.dialog);(0,R.ut)("div",{text:"Position"},a),this.position=(0,R.ut)("input",{style:{width:"100px"},value:2},a)}addColumn(){if(!this.name.value)return void this.name.focus();let e=this.cloneCheck.checked?this.cloneCol.value:null,t=parseInt(this.position.value);t=isNaN(t)?null:t,this.table.createColumn(this.name.value,e,t)}}I.types.table_chart={class:class extends I{constructor(e,t,n){super(e,t,n),this.config.type="table_chart";let r=[];r=[{field:"__index__",id:"__index__",name:"index",datatype:"integer",sortable:!0,width:100}];const o=n.column_widths||{};for(let t of this.config.param){const n=e.columnIndex[t],i={id:n.field,field:n.field,name:n.name,datatype:n.datatype,sortable:!0,width:o[t]?o[t]:100};n.editable&&(i.editor=Ho.H4),r.push(i)}this.options={enableCellNavigation:!0,enableColumnReorder:!1,editable:!1,autoEdit:!0,enableAsyncPostRender:!0,frozenColumn:null},this.dataModel=new Mt(e,{autoupdate:!1}),this.dataModel.setColumns(this.config.param),this.grid=new Ho.zn(this.contentDiv,this.dataModel,r,this.options),this.grid.onHeaderCellRendered.subscribe(((e,t)=>{const n=t.column;if(n.editor&&"edit"===this.mode){const e=(0,R.ut)("i",{classes:["far","fa-edit"],style:{cursor:"pointer"}});t.node.prepend(e),e.addEventListener("click",(e=>{e.stopImmediatePropagation(),new Vo(this,n.field,n.name,this.__doc__)}))}})),this.dataModel.addListener(this.config.id,(()=>{this.grid.invalidate()})),this.grid.setColumns(this.grid.getColumns()),this.mode="select",this.grid.setSelectionModel(new qo),this.grid.init(),this.grid.onSort.subscribe(((e,t)=>{this.dataModel.sort(t.columnId,t.sortAsc?"asc":"desc"),this.grid.invalidateAllRows(),this.grid.render()})),this.grid.onSelectedRowsChanged.subscribe(((e,t)=>{"select"===this.mode&&this._rowsSelected(t)})),this.editIcon=this.addMenuIcon("fas fa-edit","Change To Edit Mode",{func:()=>{this.editIcon.firstElementChild.remove(),this.mode="select"===this.mode?"edit":"select";const e="select"===this.mode?["fas","fa-edit"]:["fas","fa-table"];(0,R.ut)("i",{classes:e},this.editIcon),this.editIcon.setAttribute("aria-label","edit"===this.mode?"Change To Selection Mode":"Change To Edit Mode"),this._changeMode()}}),this.addMenuIcon("fas fa-download","Download data",{func:()=>{this.downloadData()}}),this.filter=[],this.themeChanged(),this.onDataFiltered()}onDataHighlighted(e){if(e.source===this)return;const t=this.dataModel.data.indexOf(e.indexes[0]);-1!==t&&(this.grid.scrollRowIntoView(t),this.tempMode=this.mode,this.mode="",this.grid.setSelectedRows([t]),this.mode=this.tempMode)}onColumnRemoved(e){if(-1===this.config.param.indexOf(e))return!1;const t=this.grid.getCellEditor();t&&t.destroy(),this.grid.setActiveCell(null);let n=this.grid.getColumns();return n=n.filter((t=>t.field!==e)),this.config.param=this.config.param.filter((t=>t!==e)),this.dataModel.setColumns(this.config.param),this.grid.setColumns(n),!1}getConfig(){const e=super.getConfig(),t=this.grid.getColumns();e.param=t.filter((e=>"__index__"!==e.field)).map((e=>e.field)),e.column_widths={};for(let n of t)100!==n.width&&(e.column_widths[n.field]=n.width);return e}downloadData(){const e=this.dataModel.getDataAsBlob(),t=(0,R.ut)("a",{download:"data",target:"_blank",href:window.URL.createObjectURL(e)},this.__doc__.body);t.click(),t.remove()}_changeMode(){"select"===this.mode?(this.addColumnIcon&&(this.addColumnIcon.remove(),this.addColumnIcon=null),this.selectionModel=new qo,this.grid.setSelectionModel(this.selectionModel),this.overlay&&(this.grid.unregisterPlugin(this.overlay),this.overlay=null),this.grid.setOptions({editable:!1},!0,!0),this.grid.setColumns(this.grid.getColumns())):(this.grid.setSelectedRows([]),this.selectionModel&&(this.grid.setSelectionModel(null),this.selectionModel=null),this.grid.setOptions({editable:!0},!0,!0),this.grid.setColumns(this.grid.getColumns()),this.addColumnIcon=this.addMenuIcon("fas fa-plus","Add Column",{func:e=>{new Ko(this)}}),this.overlay=new Ho.A5({}),this.overlay.onFillUpDown.subscribe(((e,t)=>this._updateOverlay(t))),this.grid.registerPlugin(this.overlay))}onDataChanged(e){this.grid.invalidate()}getColumnInfo(){return this.grid.getColumns().filter((e=>"text"===e.datatype)).map((e=>({name:e.name,field:e.field}))).sort(((e,t)=>e.name.localeCompare(t.name)))}createColumn(e,t=null,n=2){this.dataModel.createColumn(e,t);const r=this.grid.getColumns();(n-=1)<0||n>=r.length&&(n=r.length-1),r.splice(n,0,{name:e,field:e,id:e,datatype:"text",editor:Ho.H4,sortable:!0}),this.config.param.push(e),this.grid.setColumns(r),this.grid.invalidate()}_removeColumn(e){this.dataModel.removeColumn(e,!0,!0)}_updateOverlay(e){var t=this.grid.getColumns()[e.range.fromCell];t.editor&&(this.dataModel.updateRange(t.field,e.range.fromRow,e.range.toRow,e.dir),this.grid.invalidate())}_rowsSelected(e){const t=[];for(let n of e.rows)t.push(this.dataModel.data[n]);this.dataStore.dataHighlighted(t,this)}themeChanged(){"white"===this.contentDiv.style.color?this.contentDiv.classList.add("table-dark-mode"):this.contentDiv.classList.remove("table-dark-mode")}changeBaseDocument(e){super.changeBaseDocument(e),this.grid.setBaseDocument(e),"edit"===this.mode&&(this.grid.unregisterPlugin(this.overlay),this.grid.registerPlugin(this.overlay))}setSize(e,t){super.setSize(e,t),this.grid.resizeCanvas(),this.grid.invalidate()}pinChart(){this.isPinned=!0}unpinChart(){this.isPinned=!1,this.onDataFiltered()}addColumns(){}remove(){this.grid.destroy(),super.remove()}onDataFiltered(){this.isPinned||this.dataModel.updateModel()}},name:"Table",params:[{type:"_multi_column:all",name:"Columns To Display"}]};I.types.wgl_3d_scatter_plot={name:"3D Scatter Plot",class:class extends wr{constructor(e,t,n){n.title||(n.title=e.getColumnName(n.param[0])+" x "+e.getColumnName(n.param[1])+" x "+e.getColumnName(n.param[2])),super(e,t,n,{});const r=this.config,o=r.param;this.dim=this.dataStore.getDimension("range_dimension",o);const i=o.map((e=>this.dataStore.getColumnRange(e))),a=Math.max(...i);this.defaultCDistance=4*a,r.brush=r.brush||"default",this.app=new yr(this.graphDiv,{mode:"3d",brush:r.brush,cameraDistance:this.defaultCDistance}),this.app.addHandler("brush_stopped",((e,t)=>{this.resetButton.style.display="inline",this.app.setFilter(!0),t?this._createPolyFilter(range):this._createFilter(e)}));const s=this.afterAppCreation();this.app.addCircles({x:e.getRawColumn(o[0]),y:e.getRawColumn(o[1]),z:e.getRawColumn(o[2]),localFilter:this.dim.getLocalFilter(),globalFilter:e.getFilter(),colorFunc:s}),r.radius=r.radius||5,r.opacity=r.opacity||.8,this.app.setPointRadius(r.radius),this.app.setPointOpacity(r.opacity),r.axis_scales=r.axis_scales||[1,1,1],this.app.axisScales=r.axis_scales,this.addAxis(),this.centerGraph(r.camera),this.app.refresh()}setAxisScales(e,t){this.config.axis_scales[e]=t,this.app.refresh()}getSettings(){let e=super.getSettings({pointMax:30,pointMin:1});const t=this.config;return e=e.concat([{type:"slider",max:3,min:.5,doc:this.__doc__,current_value:t.axis_scales[0],label:"X Axis Scale",func:e=>{this.setAxisScales(0,e)}},{type:"slider",max:3,min:.5,doc:this.__doc__,current_value:t.axis_scales[1],label:"Y Axis Scale",func:e=>{this.setAxisScales(1,e)}},{type:"slider",max:3,min:.5,doc:this.__doc__,current_value:t.axis_scales[2],label:"Z Axis Scale",func:e=>{this.setAxisScales(2,e)}}]),e}centerGraph(e){e?this.app.setCamera(e.distance,e.theta,e.phi):this.app.setCamera(this.defaultCDistance,-1.038,.261)}getConfig(){const e=super.getConfig();return e.camera=this.app.getCameraSettings(),e}_createFilter(e){this.dim.filter("filterOnIndex",[],e)}onDataAdded(e){const t=this.config.param,n=this.getSetupConfig();n.x=this.dataStore.getRawColumn(t[0]),n.y=this.dataStore.getRawColumn(t[1]),n.z=this.dataStore.getRawColumn(t[2]),this.app.updateSize(e,n),super.onDataAdded(e)}addAxis(){for(let e=0;e<3;e++){let t=this.dataStore.getMinMaxForColumn(this.config.param[e]);const n=[0,0,0];n[e]=t[0];const r=[0,0,0];r[e]=t[1];const o=[0,0,0];o[e]=255,this.app.addLine(n,r,o)}}},params:[{type:"number",name:"X axis"},{type:"number",name:"Y axis"},{type:"number",name:"Z axis"}]};I.types.ring_chart={class:class extends Wo{constructor(e,t,n){super(e,t,n,{x:{}}),this.config.type="ring_chart",this.pie=Kt().sort(null).value((e=>e[0])),this.arc=cn(),this.onDataFiltered(null)}drawChart(e=1e3){(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt);const t=this._getContentDimensions(),n=Math.min(t.width,t.height)/2,r=t.left+t.width/2,o=t.top+t.height/2;this.graph_area.attr("transform",`translate(${r},${o})`),this.arc.innerRadius(.5*n).outerRadius(.9*n);const i=Math.floor(n/8),a=this.dataStore.getColumnValues(this.config.param),s=this.dataStore.getColumnColors(this.config.param),l=this.pie(this.rowData.filter((e=>0!==e[0]))),c=this;this.graph_area.selectAll(".pie-arc").data(l,((e,t)=>{e.data[1]})).join("path").on("click",((e,t)=>{c.filterCategories(a[t.data[1]],e.shiftKey)})).style("fill",((e,t)=>c.filter.length>0&&-1===c.filter.indexOf(a[e.data[1]])?"lightgray":s[e.data[1]])).attr("class","pie-arc").attr("stroke","white").attr("d",this.arc).style("stroke-width","2px"),this.graph_area.selectAll(".pie-text").data(l,((e,t)=>{e.data[1]})).join("text").on("click",((e,t)=>{c.filterCategories(a[t.data[1]],e.shiftKey)})).attr("class","pie-text").text(((e,t)=>e.endAngle-e.startAngle>.4?a[e.data[1]]:"")).attr("x",(e=>c.arc.centroid(e)[0])).attr("font-size",i+"px").attr("y",(e=>c.arc.centroid(e)[1])).attr("text-anchor","middle").attr("dominant-baseline","central")}},name:"Pie Chart",params:[{type:"text",name:"Category"}]};function Zo(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Go(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Yo)):void 0===t&&(t=Xo);for(var n,r,o,i,a,s=new ei(e),l=[s];n=l.pop();)if((o=t(n.data))&&(a=(o=Array.from(o)).length))for(n.children=o,i=a-1;i>=0;--i)l.push(r=o[i]=new ei(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Jo)}function Xo(e){return e.children}function Yo(e){return Array.isArray(e)?e[1]:null}function Qo(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Jo(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function ei(e){this.data=e,this.depth=this.height=0,this.parent=null}I.types.text_box_chart={class:class extends I{constructor(e,t,n){super(e,t,n);const r=this.config;r.text=r.text||"",this.para=(0,R.ut)("p",{text:this.config.text,styles:{padding:"5px"}},this.contentDiv)}getSettings(){const e=super.getSettings(),t=this.config;return e.push({label:"Text",type:"textbox",current_value:t.text,func:e=>this.para.textContent=t.text=e}),e}},name:"Text Box",params:[]},ei.prototype=Go.prototype={constructor:ei,count:function(){return this.eachAfter(Zo)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,o,i=this,a=[i],s=[],l=-1;i=a.pop();)if(s.push(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r]);for(;i=s.pop();)e.call(t,i,++l,this);return this},eachBefore:function(e,t){for(var n,r,o=this,i=[o],a=-1;o=i.pop();)if(e.call(t,o,++a,this),n=o.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Go(this).eachBefore(Qo)},[Symbol.iterator]:function*(){var e,t,n,r,o=this,i=[o];do{for(e=i.reverse(),i=[];o=e.pop();)if(yield o,t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n])}while(i.length)}};const ti={euclidean:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(isNaN(t[r])?0:t[r]-e[r],2);return Math.sqrt(n)},manhattan:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.abs(t[r]-e[r]);return n},max:function(e,t){for(var n=0,r=0;r<e.length;r++)n=Math.max(n,Math.abs(t[r]-e[r]));return n}};class ni{constructor(e,t,n){this.distance=ti[e],this.distance||(this.distance=ti.euclidean),this.linkage=t||"average",this.threshold=null==n?1/0:n}cluster(e,t,n){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var o={value:e[r],key:r,index:r,size:1};this.clusters[r]=o,this.index[r]=o,this.dists[r]=[],this.mins[r]=0}for(r=0;r<this.clusters.length;r++)for(var i=0;i<=r;i++){var a=r==i?1/0:this.distance(this.clusters[r].value,this.clusters[i].value);this.dists[r][i]=a,this.dists[i][r]=a,a<this.dists[r][this.mins[r]]&&(this.mins[r]=i)}var s=this.mergeClosest();for(r=0;s;)n&&r++%t==0&&n(this.clusters),s=this.mergeClosest();return this.clusters.forEach((function(e){delete e.key,delete e.index})),this.node_order=[],this.order=0,this.orderClusters(this.clusters[0]),this.clusters}mergeClosest(){for(var e=0,t=1/0,n=0;n<this.clusters.length;n++){var r=this.clusters[n].key;(s=this.dists[r][this.mins[r]])<t&&(e=r,t=s)}if(t>=this.threshold)return!1;var o=this.index[e],i=this.index[this.mins[e]],a={children:[o,i],key:o.key,size:o.size+i.size};for(this.clusters[o.index]=a,this.clusters.splice(i.index,1),this.index[o.key]=a,n=0;n<this.clusters.length;n++){var s,l=this.clusters[n];o.key==l.key?s=1/0:"single"==this.linkage?(s=this.dists[o.key][l.key],this.dists[o.key][l.key]>this.dists[i.key][l.key]&&(s=this.dists[i.key][l.key])):"complete"==this.linkage?(s=this.dists[o.key][l.key],this.dists[o.key][l.key]<this.dists[i.key][l.key]&&(s=this.dists[i.key][l.key])):s="average"==this.linkage?(this.dists[o.key][l.key]*o.size+this.dists[i.key][l.key]*i.size)/(o.size+i.size):this.distance(l.value,o.value),this.dists[o.key][l.key]=this.dists[l.key][o.key]=s}for(n=0;n<this.clusters.length;n++){var c=this.clusters[n].key;if(this.mins[c]==o.key||this.mins[c]==i.key){t=c;for(var f=0;f<this.clusters.length;f++){var u=this.clusters[f].key;this.dists[c][u]<this.dists[c][t]&&(t=u)}this.mins[c]=t}this.clusters[n].index=n}return delete o.key,delete i.key,delete o.index,delete i.index,!0}orderClusters(e){for(let t in e)"children"===t&&(this.orderClusters(e[t][0]),this.orderClusters(e[t][1])),"value"===t&&(e[t]._order=this.order++,this.node_order.push(e[t]._id))}}function ri(e,t={}){const n=new ni(t.distance,t.linkage,t.threshold);n.cluster(e);const r=Go(n.clusters[0]);for(let e of r.descendants()){let t=e.data;delete t.size,t.value&&(t.id=t.value._id,t.order=t.value._order,delete t.value)}return{nodes:r,order:n.node_order}}function oi(e){this._context=e}function ii(e){return new oi(e)}function ai(e){return e[0]}function si(e){return e[1]}function li(e,t){var n=Pt(!0),r=null,o=ii,i=null;function a(a){var s,l,c,f=(a=Rt(a)).length,u=!1;for(null==r&&(i=o(c=en())),s=0;s<=f;++s)!(s<f&&n(l=a[s],s,a))===u&&((u=!u)?i.lineStart():i.lineEnd()),u&&i.point(+e(l,s,a),+t(l,s,a));if(c)return i=null,c+""||null}return e="function"==typeof e?e:void 0===e?ai:Pt(e),t="function"==typeof t?t:void 0===t?si:Pt(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:Pt(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Pt(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:Pt(!!e),a):n},a.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),a):o},a.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),a):r},a}function ci(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fi(e){this._context=e}function ui(e){return new fi(e)}I.types.heat_map={name:"Heat Map",class:class extends At{constructor(e,t,n){n.title=n.title||e.getColumnName(n.param[0]),super(e,t,n,{x:{type:"band"},y:{type:"band"},tx:{custom:!0,size:45}});const r=this.config.param,o=this.dataStore.getColumnValues(r[0]);this.x_scale.domain(o.slice(0));const i=[],a=this.config;a.method=a.method||"mean",a.color_scale=a.color_scale||{log:!1},a.color_legend||(a.color_legend={display:!0}),this.setColorFunction();for(let e=1;e<r.length;e++)i.push(this.dataStore.getColumnName(r[e]));this.cat_scale=(0,K.Z)().range([0,40]),this.cat_axis_svg=this.svg.append("g"),this.cat_axis_call=(0,xt.y4)(this.cat_scale).ticks(3),this.y_scale.domain(i),this.dim=this.dataStore.getDimension("catcol_dimension"),a.cluster_rows&&(this.margins.right=70),this.onDataFiltered()}remove(e=!0){this.dim.destroy(e),super.remove()}setColorFunction(){const e=this.config.param,t={useValue:!0,overideValues:{colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"],max:1,min:0}};this.colorFunction=this.dataStore.getColorFunction(e[1],t),this.setColorLegend()}getColorLegend(){const e={overideValues:{max:1,min:0,colorLogScale:this.config.color_scale.log,colors:["#313695","#4575B4","#74ADD1","#ABD9E9","#E0F3F8","#E0F3F8","#FFFFBF","#FEE090","#FDAE61","#F46D43","#D73027","#A50026"]},name:"Scale"};return this.dataStore.getColorLegend(this.config.param[1],e)}onDataFiltered(e){if(this.dim===e||this.isPinned)return;"all_removed"===e&&(this.filter=[],this.resetButton.style.display="none");const t={method:this.config.method,scaleVals:[]},n=this.config.param;let r="none"==this.config.color_scale.trim?null:this.config.color_scale.trim;for(let e=1;e<n.length;e++){const o=this.dataStore.columnIndex[n[e]];t.scaleVals.push([r?o.quantiles[r][0]:o.minMax[0],r?o.quantiles[r][1]:o.minMax[1]])}this.dim.getAverages((e=>{this.data=e,this.clusterRows(),this.clusterColumns(),this.drawChart()}),this.config.param,t)}clusterRows(){this.config.cluster_rows?(this.rowClusterNodes=ri(this.data.averages),this.data.averages.sort(((e,t)=>e._order-t._order)),this.margins.right=70,this.y_scale.domain(this.rowClusterNodes.order.map((e=>this.dataStore.getColumnName(this.config.param[e+1]))))):(delete this.rowClusterNodes,this.y_scale.domain(this.config.param.slice(1).map((e=>this.dataStore.getColumnName(e)))),this.margins.right=10,this.data.averages.sort(((e,t)=>e._id-t._id)),this.ry_axis_svg.selectAll("*").remove())}clusterColumns(){const e=this.dataStore.getColumnValues(this.config.param[0]);this.config.cluster_columns?(this.columnClusterNodes=ri(this.data.transpose),this.data.transpose.sort(((e,t)=>e._order-t._order)),this.x_scale.domain(this.columnClusterNodes.order.map((t=>e[t]))),this.setAxisSize("tx",85)):(delete this.columnClusterNodes,this.x_scale.domain(this.data.transpose.map((t=>e[t._id]))),this.setAxisSize("tx",45),this.data.transpose.sort(((e,t)=>e._id-t._id)),this.x_scale.domain(this.data.transpose.map((t=>e[t._id]))),this.tx_axis_svg.selectAll("path").remove())}drawChart(e=400){const t=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt),n=this.dataStore.getColumnValues(this.config.param[0]),r=this.dataStore.getColumnColors(this.config.param[0]),o=this._getContentDimensions(),i=o.width/this.data.transpose.length,a=i/2,s=Math.max(...this.data.catTotals);this.cat_scale.domain([s,0]);const l=0===s?0:40/s,c=this.data.transpose.map((e=>[this.data.catTotals[e._id],e._id])),f=this,u=o.height/(this.config.param.length-1);this.graph_area.selectAll(".heatmap-row").data(this.data.averages).join("g").attr("transform",((e,t)=>`translate(0,${t*u})`)).attr("class","heatmap-row").selectAll(".heatmap-rect").data((e=>e.map(((t,n)=>{const r=e._id,o=f.data.transpose[n]._id;return{av:f.data.transpose[n][r],row_id:r,col_id:o,miss:!1}})))).join("rect").attr("class","heatmap-rect").attr("x",((e,t)=>t*i)).attr("height",u).attr("width",i).on("click",((e,t)=>{const r=f.config.param[t.row_id+1];this._callListeners("cell_clicked",{row:r,col:n[t.col_id],val:t.av})})).transition(t).attr("fill",((e,t)=>e.miss?"#DCDCDC":f.colorFunction(e.av)));const d=(0,B.Z)(this.contentDiv).transition().duration(e).ease(wt);this.tx_axis_svg.selectAll(".heatmap-catsize").data(c,((e,t)=>e[1])).join((e=>e.append("rect").attr("class","heatmap-catsize").attr("height",0).attr("y",45).attr("x",((e,t)=>a/2+t*i)).attr("width",a)),(e=>e),(e=>e.call((e=>e.transition(d).attr("height",0).attr("y",45).remove())))).transition(d).attr("y",(e=>40-e[0]*l+5)).attr("height",(e=>e[0]*l)).attr("fill",((e,t)=>r[e[1]])).attr("width",a).attr("x",((e,t)=>a/2+t*i)),this.cat_axis_svg.attr("transform",`translate(${o.left},5)`),this.cat_axis_svg.transition().call(this.cat_axis_call),this.updateAxis(),this.rowClusterNodes&&this.drawYTree(this.rowClusterNodes.nodes,this.config.param.length-1),this.columnClusterNodes&&this.drawXTree(this.columnClusterNodes.nodes,this.data.transpose.length,40,45)}setSize(e,t){super.setSize(e,t),this.drawChart()}getSettings(){const e=this.config;return super.getSettings().concat([{type:"check",label:"Cluster Rows",current_value:e.cluster_rows,func:t=>{e.cluster_rows=t,this.clusterRows(),this.drawChart()}},{type:"check",label:"Cluster Columns",current_value:e.cluster_columns,func:t=>{e.cluster_columns=t,this.clusterColumns(),this.drawChart()}},{type:"radiobuttons",label:"Averaging Method",current_value:e.method,choices:[["Mean","mean"],["Median","median"]],func:t=>{e.method=t,this.onDataFiltered()}},{type:"radiobuttons",label:"Trim to Percentile",current_value:e.color_scale.trim||"none",choices:[["No Trim","none"],["0.001","0.001"],["0.01","0.01"],["0.05","0.05"]],func:t=>{e.color_scale.trim=t,this.onDataFiltered()}},{label:"Show Color Legend",type:"check",current_value:!e.color_legend||e.color_legend.display,func:t=>{e.color_legend.display=t,this.setColorLegend()}},{type:"check",label:"Log Color Scale",current_value:e.color_scale.log,func:t=>{e.color_scale.log=t,this.setColorFunction(),this.drawChart()}}])}},params:[{type:"text",name:"Categories on x-axis"},{type:"_multi_column:number",name:"Fields on y axis"}]},oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ci(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ci(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class di extends wr{constructor(e,t,n){const r=e.getColumnName(n.param[0]),o=e.getColumnName(n.param[1]);n.axis||(n.axis={x:{size:30,label:r,textsize:13},y:{size:45,label:o,textsize:13}}),n.title||(n.title=r+" x "+o),super(e,t,n,{x:{type:"band"},y:{}}),this.config.type="violin_plot";const i=this.config;i.brush=i.brush||"poly";let a={brush:i.brush};this.app=new yr(this.graphDiv,a);const s=this.afterAppCreation(),l=this.dataStore.size;this.xPosBuff=new SharedArrayBuffer(4*l),this.xPos=new Float32Array(this.xPosBuff),this.values=this.dataStore.getColumnValues(i.param[0]);const c=this.dataStore.getRawColumn(i.param[0]);for(let e=0;e<l;e++)this.xPos[e]=50*c[e]+4+42*Math.random();const f=this.dataStore.getMinMaxForColumn(i.param[1]);this.defaultBandWidth=(f[1]-f[0])/100,i.band_width=i.band_width||this.defaultBandWidth,i.intervals=i.intervals||20,this.dim=this.dataStore.getDimension("catrange_dimension"),this.x_scale.domain(this.values),this.app.addCircles({x:this.xPos,y:this.dataStore.getRawColumn(i.param[1]),localFilter:this.dim.getLocalFilter(),globalFilter:this.dataStore.getFilter(),colorFunc:s}),this.app.addHandler("brush_stopped",((e,t)=>{this.resetButton.style.display="inline",this.app.setFilter(!0),t?this._createPolyFilter(e):this._createFilter(e)})),i.radius=i.radius||5,i.opacity=i.opacity||.8,this.app.setPointRadius(this.config.radius),this.app.setPointOpacity(this.config.opacity),this.data=[],this.centerGraph(),this.onDataFiltered()}_createFilter(e){if(this.range=e,null==e)this.dim.removeFilter();else{let t=e.y_max,n=e.y_min,r=e.x_max,o=e.x_min;this.filter=[[o,r],[n,t]],this.dim("filterSquare",[this.xPos,this.config.param[1]],{range1:this.filter[0],range2:this.filter[1]},[this.xPos,1]),this.app.refresh()}}onDataFiltered(e){if(!this.isPinned&&e!==this.dim){"all_removed"===e&&(this.app.clearBrush(),this.app.setFilter(!1),this.resetButton.style.display="none");const t=this.config;this.ticks=this.y_scale.ticks(t.intervals),this.dim.getKernalDensity((e=>{this.data=e,this.drawChart()}),t.param,{ticks:this.ticks,bandwidth:t.band_width,intervals:t.intervals,xPos:this.xPosBuff})}}drawChart(){const e=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),t=[],n=this.data.length,r=this._getContentDimensions(),o=r.width/n,i=[];for(let e=0;e<this.data.length;e++)t.push(o/(2*this.data[e].max)*.9),i.push(this.values[this.data[e].id]);this.x_scale.domain(i),this.centerGraph();const a=this.ticks.map((e=>this.y_scale(e))),s=[];for(let e=0;e<this.data.length;e++){const n=e*o+.5*o,i=[];let l=!0;for(let r=0;r<this.data[e].length;r++){const o=this.data[e][r];if(0===o||isNaN(o)){if(!l){if(0==i[i.length-1][2])continue;i.push([a[r],n,0])}}else{if(0===i.length){if(0===r){i.push([0,n,0]);continue}i.push([a[r-1],n,0]),l=!1}i.push([a[r],n,t[e]*o])}}0===i.length?(i.push([0,n,0]),i.push([0,n,0])):0!==i[i.length-1][2]&&i.push([r.height,n,0]),s.push(i),i.id=this.data[e].id}const l=this.dataStore.getColumnColors(this.config.param[0]);this.graph_area.selectAll(".violin-curve").data(s,(e=>"A"+e.id)).join("path").attr("class","violin-curve").transition(e).attr("fill","none").attr("stroke",((e,t)=>l[e.id])).attr("stroke-width",2).attr("stroke-linejoin","round").attr("d",li().curve(ui).x((function(e,t){return e[1]+e[2]})).y((function(e,t){return e[0]}))),this.graph_area.selectAll(".violin-curve1").data(s,(e=>"B"+e.id)).join("path").attr("class","violin-curve1").transition(e).attr("fill","none").attr("stroke",((e,t)=>l[e.id])).attr("stroke-width",2).attr("stroke-linejoin","round").attr("d",li().curve(ui).x((function(e,t){return e[1]-e[2]})).y((function(e,t){return e[0]}))),this.app.refresh()}unpinChart(){super.unpinChart(),this.onDataFiltered()}onDataAdded(e){const t=this.config.param,n=this.getSetupConfig();let r=new Float32Array(e);r.set(this.xPos),this.values=this.dataStore.getColumnValues(t[0]);const o=this.dataStore.getRawColumn(t[0]);for(let t=this.xPos.length;t<e;t++)r[t]=50*o[t]+4+42*Math.random();this.xPos=r,n.x=r,n.y=this.dataStore.getRawColumn(t[1]),this.dim.filterColumns&&(this.dimFilterColumns[0]=r),this.app.updateSize(e,n),super.onDataAdded(e)}setSize(e,t){super.setSize(e,t),this.drawChart()}centerGraph(){const e=this.dataStore.getMinMaxForColumn(this.config.param[1]);let t=50*this.data.length,n=e[1],r=e[0],o=(n-r)/20,i=t-0,a=n-r+2*o;const s=this._getContentDimensions();this.app.x_scale=s.width/i,this.app.y_scale=s.height/a,this.app.offset[0]=-0,this.app.offset[1]=n+o,this._updateScale(this.app.getRange()),this.updateAxis()}_updateScale(e){this.y_scale.domain([-e.y_range[0],-e.y_range[1]])}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getMinMaxForColumn(t.param[1]);return e.splice(1,0,{type:"slider",max:n[1]/10,min:n[0]<0?0:n[0],doc:this.__doc__,current_value:t.band_width,label:"Band Width",func:e=>{t.band_width=e,this.onDataFiltered()}},{type:"slider",max:100,min:10,step:1,doc:this.__doc__,current_value:t.intervals,label:"Intervals",func:e=>{t.intervals=e,this.onDataFiltered()}}),e}_createPolyFilter(e){this.range=!0;for(let t of e)t[1]=-t[1],this.config.axis.x_log_scale&&(t[0]=this._getInverseLogValue(t[0])),this.config.axis.y_log_scale&&(t[1]=this._getInverseLogValue(t[1]));this.filter=e,this.dim.filter("filterPoly",[this.xPos,this.config.param[1]],e),this.app.refresh()}}I.types.violin_plot={class:di,name:"Violin Plot",params:[{type:"text",name:"Category (X axis)"},{type:"number",name:"Value (Y axis)"}]};const hi=di;function pi(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}function mi(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function gi(e,t){return e.sourceLinks.length?e.depth:t-1}function _i(e){return function(){return e}}function vi(e,t){return yi(e.source,t.source)||e.index-t.index}function bi(e,t){return yi(e.target,t.target)||e.index-t.index}function yi(e,t){return e.y0-t.y0}function wi(e){return e.value}function xi(e){return e.index}function Ci(e){return e.nodes}function ki(e){return e.links}function Si(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Ei({nodes:e}){for(const t of e){let e=t.y0,n=e;for(const n of t.sourceLinks)n.y0=e+n.width/2,e+=n.width;for(const e of t.targetLinks)e.y1=n+e.width/2,n+=e.width}}I.types.box_plot={class:class extends hi{constructor(e,t,n){super(e,t,n),this.config.type="box_plot"}onDataFiltered(e){this.isPinned||e!==this.dim&&("all_removed"===e&&(this.app.clearBrush(),this.app.setFilter(!1),this.resetButton.style.display="none"),this.ticks=this.y_scale.ticks(20),this.dim.getBoxPlotData((e=>{this.data=e,this.drawChart()}),this.config.param,{xPos:this.xPosBuff}))}drawChart(){const e=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),t=this.data.length,n=this.y_scale,r=[];for(let e of this.data)r.push(this.values[e.id]);this.x_scale.domain(r),this.centerGraph();const o=this._getContentDimensions().width/t,i=this.dataStore.getColumnColors(this.config.param[0]);this.graph_area.selectAll(".boxplot-rect").data(this.data,(e=>e.id)).join("rect").attr("class","boxplot-rect").transition(e).attr("x",((e,t)=>t*(o-3)+3*(t+1))).attr("y",(e=>n(e.Q3))).attr("width",o-6).attr("height",(e=>{const t=n(e.Q1)-n(e.Q3);return isNaN(t)?0:t})).attr("fill","none").attr("stroke",((e,t)=>i[e.id])).attr("stroke-width",3),this.graph_area.selectAll(".boxplot-whisker").data(this.data,(e=>e.id)).join("path").attr("class","boxplot-whisker").transition(e).attr("stroke",((e,t)=>i[e.id])).attr("fill","none").attr("stroke-width",3).attr("d",((e,t)=>{if(isNaN(e.med))return"";const r=t*(o-6)+6*(t+1),i=t*(o-3)+3*(t+1),a=t*o+.5*o,s=n(e.max),l=n(e.min);return null==s||null==l?"":`\n             M${r} ${s} L${r+o-12} ${s}\n             M${a} ${s} L${a} ${n(e.Q3)}\n             M${i} ${n(e.med)} L${i+o-6} ${n(e.med)}\n             M${a} ${l} L${a} ${n(e.Q1)}\n             M${r} ${l} L${r+o-12} ${l}`})),this.app.refresh()}},name:"Box Plot",params:[{type:"text",name:"Category (X axis)"},{type:"number",name:"Value (Y axis)"}]};var Ai=Math.PI,Di=2*Ai,Mi=1e-6,Ri=Di-Mi;function Pi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ti(){return new Pi}Pi.prototype=Ti.prototype={constructor:Pi,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,f=a-t,u=c*c+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(u>Mi)if(Math.abs(f*s-l*c)>Mi&&o){var d=n-i,h=r-a,p=s*s+l*l,m=d*d+h*h,g=Math.sqrt(p),_=Math.sqrt(u),v=o*Math.tan((Ai-Math.acos((p+u-m)/(2*g*_)))/2),b=v/_,y=v/g;Math.abs(b-1)>Mi&&(this._+="L"+(e+b*c)+","+(t+b*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>c*h)+","+(this._x1=e+y*s)+","+(this._y1=t+y*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,f=1^i,u=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Mi||Math.abs(this._y1-c)>Mi)&&(this._+="L"+l+","+c),n&&(u<0&&(u=u%Di+Di),u>Ri?this._+="A"+n+","+n+",0,1,"+f+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=c):u>Mi&&(this._+="A"+n+","+n+",0,"+ +(u>=Ai)+","+f+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Li=Ti;var zi=Array.prototype.slice;function Oi(e){return function(){return e}}function Fi(e){return e[0]}function Ii(e){return e[1]}function Bi(e){return e.source}function $i(e){return e.target}function ji(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function Ni(e){return[e.source.x1,e.y0]}function Wi(e){return[e.target.x0,e.y1]}function Hi(){return function(e){var t=Bi,n=$i,r=Fi,o=Ii,i=null;function a(){var a,s=zi.call(arguments),l=t.apply(this,s),c=n.apply(this,s);if(i||(i=a=Li()),e(i,+r.apply(this,(s[0]=l,s)),+o.apply(this,s),+r.apply(this,(s[0]=c,s)),+o.apply(this,s)),a)return i=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"==typeof e?e:Oi(+e),a):r},a.y=function(e){return arguments.length?(o="function"==typeof e?e:Oi(+e),a):o},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a}(ji).source(Ni).target(Wi)}function Ui(e,t,n){var r=null,o=Pt(!0),i=null,a=ii,s=null;function l(l){var c,f,u,d,h,p=(l=Rt(l)).length,m=!1,g=new Array(p),_=new Array(p);for(null==i&&(s=a(h=en())),c=0;c<=p;++c){if(!(c<p&&o(d=l[c],c,l))===m)if(m=!m)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),u=c-1;u>=f;--u)s.point(g[u],_[u]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+e(d,c,l),_[c]=+t(d,c,l),s.point(r?+r(d,c,l):g[c],n?+n(d,c,l):_[c]))}if(h)return s=null,h+""||null}function c(){return li().defined(o).curve(a).context(i)}return e="function"==typeof e?e:void 0===e?ai:Pt(+e),t="function"==typeof t?t:Pt(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?si:Pt(+n),l.x=function(t){return arguments.length?(e="function"==typeof t?t:Pt(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:Pt(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Pt(+e),l):r},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Pt(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:Pt(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Pt(+e),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(e){return arguments.length?(o="function"==typeof e?e:Pt(!!e),l):o},l.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),l):a},l.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),l):i},l}I.types.sankey_chart={name:"Sankey Diagram",class:class extends At{constructor(e,t,n){const r=e.getColumnName(n.param[0]),o=e.getColumnName(n.param[1]);n.label||(n.label=`${r} vs. ${o}`),n.axis||(n.axis={}),n.axis.y||(n.axis.y={size:25,textSize:15,label:r}),n.axis.ry||(n.axis.ry={size:25,textSize:15,label:o}),super(e,t,n,{y:{custom:!0},ry:{label:!0}}),this.config.type="sankey_chart",this.dim=this.dataStore.getDimension("category_dimension"),this.filter=[],this.addToolTip(),this.onDataFiltered()}setSize(e,t){super.setSize(e,t),this.drawChart()}remove(e=!0){this.dim.destroy(e),super.remove()}removeFilter(){this.dim.removeFilter(),this.filter=[],this.nodeFilter=null,this.linkFilter=null,this.drawChart()}onDataFiltered(e){this.dim===e||this.isPinned||("all_removed"===e&&(this.filter=[],this.nodeFilter=null,this.linkFilter=null,this.resetButton.style.display="none"),this.dim.getSankeyData((e=>{this.sankeyData=e,this.drawChart()}),this.config.param))}drawChart(){this.updateAxis();const e=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),t=this._getContentDimensions(),n=this.config.param,r=[this.dataStore.getColumnColors(n[0]),this.dataStore.getColumnColors(n[1])],o=this;let i=20-this.sankeyData.minNodes;i=i<1?1:i>10?10:i;const a=function(){let e,t,n,r=0,o=0,i=1,a=1,s=24,l=8,c=xi,f=gi,u=Ci,d=ki,h=6;function p(){const e={nodes:u.apply(null,arguments),links:d.apply(null,arguments)};return m(e),g(e),_(e),v(e),b(e),Ei(e),e}function m({nodes:e,links:t}){for(const[t,n]of e.entries())n.index=t,n.sourceLinks=[],n.targetLinks=[];const r=new Map(e.map(((t,n)=>[c(t,n,e),t])));for(const[e,n]of t.entries()){n.index=e;let{source:t,target:o}=n;"object"!=typeof t&&(t=n.source=Si(r,t)),"object"!=typeof o&&(o=n.target=Si(r,o)),t.sourceLinks.push(n),o.targetLinks.push(n)}if(null!=n)for(const{sourceLinks:t,targetLinks:r}of e)t.sort(n),r.sort(n)}function g({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(pi(t.sourceLinks,wi),pi(t.targetLinks,wi)):t.fixedValue}function _({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,o=0;for(;n.size;){for(const e of n){e.depth=o;for(const{target:t}of e.sourceLinks)r.add(t)}if(++o>t)throw new Error("circular link");n=r,r=new Set}}function v({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,o=0;for(;n.size;){for(const e of n){e.height=o;for(const{source:t}of e.targetLinks)r.add(t)}if(++o>t)throw new Error("circular link");n=r,r=new Set}}function b(n){const c=function({nodes:e}){const n=mi(e,(e=>e.depth))+1,o=(i-r-s)/(n-1),a=new Array(n);for(const t of e){const e=Math.max(0,Math.min(n-1,Math.floor(f.call(null,t,n))));t.layer=e,t.x0=r+e*o,t.x1=t.x0+s,a[e]?a[e].push(t):a[e]=[t]}if(t)for(const e of a)e.sort(t);return a}(n);e=Math.min(l,(a-o)/(mi(c,(e=>e.length))-1)),function(t){const n=function(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}(t,(t=>(a-o-(t.length-1)*e)/pi(t,wi)));for(const r of t){let t=o;for(const o of r){o.y0=t,o.y1=t+o.value*n,t=o.y1+e;for(const e of o.sourceLinks)e.width=e.value*n}t=(a-t+e)/(r.length+1);for(let e=0;e<r.length;++e){const n=r[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}E(r)}}(c);for(let e=0;e<h;++e){const t=Math.pow(.99,e),n=Math.max(1-t,(e+1)/h);w(c,t,n),y(c,t,n)}}function y(e,n,r){for(let o=1,i=e.length;o<i;++o){const i=e[o];for(const e of i){let t=0,r=0;for(const{source:n,value:o}of e.targetLinks){let i=o*(e.layer-n.layer);t+=A(n,e)*i,r+=i}if(!(r>0))continue;let o=(t/r-e.y0)*n;e.y0+=o,e.y1+=o,S(e)}void 0===t&&i.sort(yi),x(i,r)}}function w(e,n,r){for(let o=e.length-2;o>=0;--o){const i=e[o];for(const e of i){let t=0,r=0;for(const{target:n,value:o}of e.sourceLinks){let i=o*(n.layer-e.layer);t+=D(e,n)*i,r+=i}if(!(r>0))continue;let o=(t/r-e.y0)*n;e.y0+=o,e.y1+=o,S(e)}void 0===t&&i.sort(yi),x(i,r)}}function x(t,n){const r=t.length>>1,i=t[r];k(t,i.y0-e,r-1,n),C(t,i.y1+e,r+1,n),k(t,a,t.length-1,n),C(t,o,0,n)}function C(t,n,r,o){for(;r<t.length;++r){const i=t[r],a=(n-i.y0)*o;a>1e-6&&(i.y0+=a,i.y1+=a),n=i.y1+e}}function k(t,n,r,o){for(;r>=0;--r){const i=t[r],a=(i.y1-n)*o;a>1e-6&&(i.y0-=a,i.y1-=a),n=i.y0-e}}function S({sourceLinks:e,targetLinks:t}){if(void 0===n){for(const{source:{sourceLinks:e}}of t)e.sort(bi);for(const{target:{targetLinks:t}}of e)t.sort(vi)}}function E(e){if(void 0===n)for(const{sourceLinks:t,targetLinks:n}of e)t.sort(bi),n.sort(vi)}function A(t,n){let r=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:o,width:i}of t.sourceLinks){if(o===n)break;r+=i+e}for(const{source:e,width:o}of n.targetLinks){if(e===t)break;r-=o}return r}function D(t,n){let r=n.y0-(n.targetLinks.length-1)*e/2;for(const{source:o,width:i}of n.targetLinks){if(o===t)break;r+=i+e}for(const{target:e,width:o}of t.sourceLinks){if(e===n)break;r-=o}return r}return p.update=function(e){return Ei(e),e},p.nodeId=function(e){return arguments.length?(c="function"==typeof e?e:_i(e),p):c},p.nodeAlign=function(e){return arguments.length?(f="function"==typeof e?e:_i(e),p):f},p.nodeSort=function(e){return arguments.length?(t=e,p):t},p.nodeWidth=function(e){return arguments.length?(s=+e,p):s},p.nodePadding=function(t){return arguments.length?(l=e=+t,p):l},p.nodes=function(e){return arguments.length?(u="function"==typeof e?e:_i(e),p):u},p.links=function(e){return arguments.length?(d="function"==typeof e?e:_i(e),p):d},p.linkSort=function(e){return arguments.length?(n=e,p):n},p.size=function(e){return arguments.length?(r=o=0,i=+e[0],a=+e[1],p):[i-r,a-o]},p.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],o=+e[0][1],a=+e[1][1],p):[[r,o],[i,a]]},p.iterations=function(e){return arguments.length?(h=+e,p):h},p}().size([t.width,t.height]).nodeId((e=>e.id)).nodeWidth(20).nodePadding(i).nodeAlign(gi)(this.sankeyData);this.graph_area.selectAll(".s-links").data(a.links).join("path").on("click",((e,t)=>{o.filterMultipleCategories(t)})).on("mouseover mousemove",((e,t)=>{const n=t.source,r=o.dataStore.getColumnValues(o.config.param[n.param])[n.ind],i=t.target,a=o.dataStore.getColumnValues(o.config.param[i.param])[i.ind];o.showToolTip(e,`${r}<br>${a}<br>${t.trueValue}`)})).on("mouseleave",(()=>{o.hideToolTip()})).transition(e).attr("class","s-links").attr("d",Hi()).attr("fill","none").attr("stroke","currentColor").attr("stroke-width",(e=>e.width)).attr("stoke-opacity",.5).attr("opacity",(e=>o.linkFilter?e.source.id===o.linkFilter[0]&&e.target.id===o.linkFilter[1]?.8:.2:o.nodeFilter?e.source.id===o.nodeFilter||e.target.id===o.nodeFilter?.8:.2:.5)),this.graph_area.selectAll(".s-nodes").data(a.nodes).join("rect").on("click",((e,t)=>{const r=n[t.param];o.nodeFilter=(0===t.param?"A":"B")+t.ind,o.linkFilter=null;const i=o.dataStore.getColumnValues(r);o.filterCategories(r,i[t.ind])})).on("mouseover mousemove",((e,t)=>{const n=o.dataStore.getColumnValues(o.config.param[t.param])[t.ind];o.showToolTip(e,n)})).on("mouseleave",(()=>{o.hideToolTip()})).attr("class","s-nodes").attr("x",(e=>e.x0)).attr("y",(e=>e.y0)).attr("width",(e=>e.x1-e.x0)).attr("height",(e=>e.y1-e.y0)).attr("fill",(e=>r[e.param][e.ind]))}getFilter(){const e=this.config.param;if(this.linkFilter){const t={};let n=parseInt(this.linkFilter[0].substring(1));return t[e[0]]=[this.dataStore.getColumnValues(e[0])[n]],n=parseInt(this.linkFilter[1].substring(1)),t[e[1]]=[this.dataStore.getColumnValues(e[1])[n]],t}if(this.nodeFilter){const t={},n=this.nodeFilter.startsWith("A")?0:1;let r=parseInt(this.nodeFilter.substring(1));return t[e[n]]=[this.dataStore.getColumnValues(e[n])[r]],t}return null}filterMultipleCategories(e){const t=this.config.param,n=t[e.source.param],r=this.dataStore.getColumnValues(n)[e.source.ind],o=t[e.target.param],i=this.dataStore.getColumnValues(o)[e.target.ind];this.linkFilter=["A"+e.source.ind,"B"+e.target.ind],this.resetButton.style.display="inline",this.drawChart(100),this.dim.filter("filterMultipleCategories",[n,o],[r,i])}filterCategories(e,t,n){n?this.filter.push(t):this.filter=[t],this.resetButton.style.display="inline",this.drawChart(100),this.dim.filter("filterCategories",[e],this.filter)}pinChart(){this.isPinned=!0}unpinChart(){this.isPinned=!1,this.onDataFiltered()}getSettings(){const e=super.getSettings();return this.config,e}},params:[{type:"text",name:"First Group"},{type:"text",name:"Second Group"}]};I.types.multi_line_chart={class:class extends At{constructor(e,t,n){const r=e.getColumnName(n.param[0]);n.axis||(n.axis={x:{size:30,label:r,textsize:13},y:{size:45,label:"density",textsize:13}}),n.title||(n.title=r),n.scaletrim&&!n.band_wind&&(n.band_width=.1),super(e,t,n,{x:{},y:{type:n.stacked?"band":"linear"}}),this.config.type="multi_line_chart";const o=this.config;o.color_legend||(o.color_legend={display:!o.stacked});let i=this.dataStore.getMinMaxForColumn(o.param[0]),a=i.slice(0);n.scaletrim&&(a=[0,1]),this.x_scale.domain(a),this.defaultBandWidth=(i[1]-i[0])/100,o.band_width=o.band_width||this.defaultBandWidth,o.intervals=o.intervals||40,this.dim=this.dataStore.getDimension("catrange_dimension"),this.data=[],this.addToolTip(),this.setColorLegend(),this.stackLines(o.stacked),this.scaleTrim(o.scaletrim),this.onDataFiltered()}stackLines(e){this.config.stacked=e,e?(this.y_scale=V(),this.y_axis_call=(0,xt.y4)(this.y_scale),this.config.color_legend.display=!1,this.setColorLegend(),this.y_scale.domain(this.dataStore.getColumnValues(this.config.param[1]))):(this.y_scale=(0,K.Z)(),this.y_axis_call=(0,xt.y4)(this.y_scale),this.y_scale.domain([1,0]))}scaleTrim(e){const t=this.config;if(e&&"none"!==e)t.scaletrim=e+"",this.x_scale.domain([0,1]),t.band_width=.1;else{delete t.scaletrim;const e=this.dataStore.getMinMaxForColumn(t.param[0]);this.x_scale.domain(e)}}getColorLegend(){return this.dataStore.getColorLegend(this.config.param[1])}onDataFiltered(e){if(!this.isPinned&&e!==this.dim){"all_removed"===e&&(this.resetButton.style.display="none");const t=this.config;this.ticks=this.x_scale.ticks(t.intervals),this.dim.getKernalDensity((e=>{this.data=e,this.drawChart()}),[t.param[1],t.param[0]],{ticks:this.ticks,bandwidth:t.band_width,intervals:t.intervals,scaletrim:t.scaletrim})}}remove(e=!0){this.dim.destroy(e),super.remove()}drawChart(){const e=this.config,t=this.dataStore.getColumnValues(e.param[1]),n=(0,B.Z)(this.contentDiv).transition().duration(400).ease(wt),r=this._getContentDimensions(),o=[],i=r.height/this.data.length,a=[];for(let n=0;n<this.data.length;n++){const s=e.stacked?i/this.data[n].max:r.height/this.data[n].max,l=e.stacked?this.data[n].map((e=>i*n+i-e*s)):this.data[n].map((e=>r.height-e*s));l.id=this.data[n].id,a.push(t[l.id]),o.push(l)}this.y_scale.domain(a),this.updateAxis();const s=this.ticks.map((e=>this.x_scale(e))),l=this,c=this.dataStore.getColumnColors(this.config.param[1]);this.graph_area.selectAll(".chart-line").data(o).join("path").attr("class","chart-line").on("mouseover mousemove",((e,n)=>{const r=t[n.id];l.showToolTip(e,r)})).on("mouseout",(()=>{l.hideToolTip()})).transition(n).attr("fill","none").attr("stroke",((e,t)=>c[e.id])).attr("stroke-width",2).attr("stroke-linejoin","round").attr("d",li().x(((e,t)=>s[t])).y(((e,t)=>e))),e.fill?(Ui().x((function(e,t){return s[t]})).y0((function(e,t){return e})).y1(((t,n)=>{e.stacked?t.id:r.height})),this.graph_area.selectAll(".chart-area").data(o).join("path").attr("class","chart-area").transition(n).attr("fill",(e=>c[e.id])).style("opacity",.5).attr("d",(function(t,n){return Ui().x((function(e,t){return s[t]})).y0((function(e){return e})).y1((t=>e.stacked?i*n+i:r.height))(t)}))):this.graph_area.selectAll(".chart-area").remove()}unpinChart(){super.unpinChart(),this.onDataFiltered()}setSize(e,t){super.setSize(e,t),this.drawChart()}getSettings(){const e=super.getSettings(),t=this.config,n=this.dataStore.getMinMaxForColumn(t.param[0]);return e.splice(1,0,{type:"check",current_value:t.stacked,label:"Stack Lines",func:e=>{this.stackLines(e),this.drawChart()}},{type:"check",current_value:t.fill,label:"Fill Lines",func:e=>{t.fill=e,this.drawChart()}},{type:"radiobuttons",label:"Scale/Trim to Percentile",current_value:t.scaletrim||"none",choices:[["No Trim","none"],["0.001","0.001"],["0.01","0.01"],["0.05","0.05"]],func:e=>{this.scaleTrim(e),this.onDataFiltered()}},{type:"slider",max:n[1]/10,min:n[0]<0?0:n[0],doc:this.__doc__,current_value:t.band_width,label:"Band Width",func:e=>{t.band_width=e,this.onDataFiltered()}},{type:"slider",max:100,min:10,step:1,doc:this.__doc__,current_value:t.intervals,label:"Intervals",func:e=>{t.intervals=e,this.onDataFiltered()}},{label:"Show Color Legend",type:"check",current_value:!t.color_legend||t.color_legend.display,func:e=>{t.color_legend.display=e,this.setColorLegend()}}),e}},name:"Multi Line Chart",params:[{type:"number",name:"Value (X axis)"},{type:"text",name:"Categories to show"}]};var qi={},Vi={};function Ki(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Zi(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Gi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Xi(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],i=e.length,a=0,s=0,l=i<=0,c=!1;function f(){if(l)return Vi;if(c)return c=!1,qi;var t,r,o=a;if(34===e.charCodeAt(o)){for(;a++<i&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=i?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(r=f())!==Vi;){for(var u=[];r!==qi&&r!==Vi;)u.push(r),r=f();t&&null==(u=t(u,s++))||o.push(u)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function i(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(o=(n=e).getUTCHours(),i=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+Gi(-r,6):r>9999?"+"+Gi(r,6):Gi(r,4))+"-"+Gi(n.getUTCMonth()+1,2)+"-"+Gi(n.getUTCDate(),2)+(s?"T"+Gi(o,2)+":"+Gi(i,2)+":"+Gi(a,2)+"."+Gi(s,3)+"Z":a?"T"+Gi(o,2)+":"+Gi(i,2)+":"+Gi(a,2)+"Z":i||o?"T"+Gi(o,2)+":"+Gi(i,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,o,i,a,s}return{parse:function(e,t){var n,o,i=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=Ki(e);return function(r,o){return t(n(r),o,e)}}(e,t):Ki(e)}));return i.columns=o||[],i},parseRows:r,format:function(t,n){return null==n&&(n=Zi(t)),[n.map(a).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Zi(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:a}}var Yi=Xi(","),Qi=Yi.parse,Ji=(Yi.parseRows,Yi.format,Yi.formatBody,Yi.formatRows,Yi.formatRow,Yi.formatValue,Xi("\t")),ea=Ji.parse;function ta(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function na(e,t){return fetch(e,t).then(ta)}function ra(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),na(t,n).then((function(t){return e(t,r)}))}}Ji.parseRows,Ji.format,Ji.formatBody,Ji.formatRows,Ji.formatRow,Ji.formatValue;var oa=ra(Qi),ia=ra(ea);function aa(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function sa(e,t){return fetch(e,t).then(aa)}const la=class extends P{constructor(e,t){super({title:`Add Data To ${t.link_to.dataSource}`,footer:!0,width:380},{cm:e,ds:t})}init(e){this.cm=e.cm,this.ds=e.ds,this.link=this.ds.link_to,this.linkDataStore=this.cm.dsIndex[this.link.dataSource].dataStore,this.dataTypes=this.linkDataStore.columnGroups[this.link.columnGroup].subgroups,this.ids=new Set,(0,R.ut)("div",{classes:["ciview-padded-div"],text:`Select row(s) in a table or click on point(s) in a plot to choose.\n                Or paste in a list of ${this.link.choose_field.label}(s)`},this.dialog);const t=(0,R.ut)("div",{styles:{display:"flex",height:"150px",padding:"4px",gap:"8px"}},this.dialog),n=(0,R.ut)("div",{styles:{flex:1,display:"flex",flexDirection:"column"}},t);this.linputList=(0,R.ut)("textarea",{},n);const r=(0,R.ut)("div",{styles:{flex:1,display:"flex",flexDirection:"column"}},t);(0,R.ut)("div",{text:"Chosen"},r),this.list=(0,R.ut)("div",{styles:{flexGrow:1,overflowX:"hidden"},overFlowY:"scroll"},r),this.listenerID=(0,D.z)(),this.ds.dataStore.addListener(this.listenerID,((e,t)=>{"data_highlighted"===e&&(this.clearList(),this.addIdsToList(t.indexes))}));const o=(0,R.ut)("div",{classes:["ciview-padded-div"]},this.dialog);(0,R.ut)("span",{classes:["ciview-title-div"],text:"Data Type:"},o),this.dataTypeSelect=(0,R.ut)("select",{},o);for(let e in this.dataTypes){const t=this.dataTypes[e];(0,R.ut)("option",{value:e,text:t.label},this.dataTypeSelect)}this._addColorChartSection(),this._addHeatMapSection()}close(){this.ds.dataStore.removeListener(this.listenerID),super.close()}_addColorChartSection(){const e=(0,R.ut)("div",{},this.dialog);(0,R.ut)("div",{classes:["ciview-title-div"],text:"Color Chart"},e),(0,R.ut)("span",{text:"Chart:",styles:{marginRight:"4px"}},e);const t=(0,R.ut)("select",{styles:{maxWidth:"150px"}},e);(0,R.ut)("span",{classes:["ciview-button-sm"],text:"GO"},e).addEventListener("click",(()=>{const e=this.getParams();0!==e.length&&this.cm.getChart(t.value).colorByColumn(e[0])}));for(let e in this.cm.charts){const n=this.cm.charts[e];if(n.dataSource.name===this.link.dataSource){const r=n.chart;r.getColorOptions().colorby&&(0,R.ut)("option",{value:e,text:r.config.title},t)}}}_addHeatMapSection(){const e=(0,R.ut)("div",{},this.dialog);(0,R.ut)("div",{classes:["ciview-title-div"],text:"Add Heat Map"},e),(0,R.ut)("span",{text:"Category:",styles:{marginRight:"4px"}},e);const t=(0,R.ut)("select",{styles:{maxWidth:"150px"}},e);(0,R.ut)("span",{classes:["ciview-button-sm"],text:"GO"},e).addEventListener("click",(()=>{let e=this.getParams();if(0===e.length)return;e=[t.value].concat(e);const n=this.dataTypes[this.dataTypeSelect.value];this.cm.addChart(this.link.dataSource,{param:e,type:"heat_map",title:n.label})}));const n=this.linkDataStore.getColumnList("text");for(let e of n)(0,R.ut)("option",{value:e.field,text:e.name},t)}getParams(){const e=this.dataTypeSelect.value,t=[];for(let n of this.ids){const r=this.link.choose_field.id,o=this.ds.dataStore.getRowText(n,r);t.push(`${e}_${o}(${e})_${n}`)}return t}clearList(){this.ids.clear(),this.list.innerHTML=""}addIdsToList(e){const t=this.link.choose_field.id;for(let n of e){if(this.ids.has(n))continue;this.ids.add(n);const e=this.ds.dataStore.getRowAsObject(n,[t]),r=(0,R.ut)("div",{},this.list);(0,R.ut)("span",{},r).innerHTML=e[t]}}},ca=class extends P{constructor(e){super({footer:!0,width:500,maxHeight:500,title:"Field Colors",columns:2,buttons:[{text:"Apply",method:"applyColor"}]},e)}init(e){this.cm=e;const t=this.columns[1];this.columns[0].style.overflowY="auto";const n={whiteSpace:"nowrap",padding:"2px"},r=(0,R.ut)("div",{styles:n},t),o={width:"70px",display:"inline-block"};(0,R.ut)("label",{text:"Data Set:",styles:o},r),this.dsSelect=(0,R.ut)("select",{classes:["mdv-select"]},r);const i=[];for(let t in e.dsIndex)i.push(t),(0,R.ut)("option",{text:t,value:t},this.dsSelect);const a=(0,R.ut)("div",{styles:n},t);(0,R.ut)("label",{text:"Field:",styles:o},a),this.columnSelect=(0,R.ut)("select",{classes:["mdv-select"],styles:{maxWidth:"150px"}},a);const s=(0,R.ut)("div",{styles:n},t);(0,R.ut)("div",{text:"Color Scheme",styles:{fontWeight:"bold"}},s),(0,R.ut)("span",{classes:["mdv-info-text"],text:"Paste list of colors (hex)"},s);const l=(0,R.ut)("div",{styles:{display:"flex",alignItems:"flex-start",marginTop:"2px"}},t);this.colorList=(0,R.ut)("textarea",{classes:["mdv-select"],styles:{width:"100px",padding:"2px",height:"150px"}},l),this.setDataSource(i[0]),(0,R.ut)("span",{classes:["ciview-button-sm"],text:"Use Scheme"},l).addEventListener("click",(()=>{this.parseColors(this.colorList.value)}))}parseColors(e){const t=/^#[0-9A-F]{6}$/i;let n=e.replaceAll('"',"").split(/[,\s]+/);n=n.filter((e=>e.match(t)));const r=n.join("\n");this.colorList.value=r;let o=0;if(r.length>0)for(let e=0;e<this.colorChoosers.length;e++)this.colorChoosers[e].value=n[o],o++,o===n.length&&(o=0)}setDataSource(e){this.columnSelect.innerHTML="";const t=this.cm.getDataSource(e);this.dataSource=t,this.dsName=e;const n=t.getColumnList("text");for(let e of n)(0,R.ut)("option",{text:e.name,value:e.field},this.columnSelect);this.columnSelect.addEventListener("change",(()=>{this.setColumn(this.columnSelect.value)})),this.setColumn(n[0].field)}applyColor(){const e=this.colorChoosers.map((e=>e.value));this.dataSource.setColumnColors(this.column,e),this.dataSource.dataChanged([this.column],!1,!1);for(let e of this.cm.dataSources)e.column_link_to&&e.column_link_to.dataSource===this.dsName&&this.cm._sync_colors(this.cm.dsIndex[e.column_link_to.dataSource],e)}setColumn(e){const t=this.columns[0];this.column=e,t.innerHTML="";const n=this.dataSource.getColumnValues(e),r=this.dataSource.getColumnColors(e);this.colorChoosers=[];for(let e=0;e<r.length;e++){const o=(0,R.ut)("div",{styles:{display:"flex",flexWrap:"nowrap"}},t);(0,R.ut)("span",{styles:{display:"inline-block",fontSize:"0.8erm"},classes:["mdv-flex-dynamic"],text:n[e]},o);const i=(0,R.ut)("input",{classes:["mdv-flex-fixed"],styles:{width:"25px",height:"20px",padding:"0px"},type:"color",value:r[e]},o);this.colorChoosers.push(i)}}},fa={Dark:{title_bar_color:"#222",main_panel_color:"black",text_color:"white",background_color:"#333"},Light:{title_bar_color:"white",main_panel_color:"#f1f1f1",text_color:"black",background_color:"#bababa"}};class ua extends P{constructor(e,t,n="all"){super({footer:!0,width:250,maxHeight:500,title:"Select Columns",buttons:[{text:"OK",method:"getColumns"}]},{dataStore:e,callback:t,filter:n})}init(e){this.ds=e.dataStore;const t=(0,R.ut)("div",{styles:{padding:"8px"}}),n=(0,D.z)();(0,R.ut)("div",{text:"Groups"},this.dialog);const r=Object.keys(this.ds.columnGroups);r.unshift("All");for(let e of r){const r=(0,R.ut)("span",{styles:{display:"inline-block",whiteSpace:"nowrap",marginRight:"5px"}},t);(0,R.ut)("span",{text:e},r),(0,R.ut)("input",{type:"radio",value:e,name:n},r).addEventListener("click",(e=>{this.checkAllInGroup(e.target.value)}))}this.dialog.append(t),(0,R.ut)("div",{text:"Select Individual Columns"},this.dialog);const o=(0,R.ut)("div",{style:{padding:"8px"}}),i=this.ds.getColumnList(e.filter);this.checks=[],this.callback=e.callback;for(let e of i){const t=(0,R.ut)("div",{styles:{whiteSpace:"nowrap"}},o),n=(0,R.ut)("input",{type:"checkbox"},t);this.checks.push([n,e.field]),(0,R.ut)("span",{text:e.name},t)}this.dialog.append(o)}checkAllInGroup(e){if("All"===e)for(let e of this.checks)e[0].checked=!0;else{const t=this.ds.columnGroups[e].columns;for(let e of this.checks)e[0].checked=-1!==t.indexOf(e[1])}}getColumns(){const e=[];for(let t of this.checks)t[0].checked&&e.push(t[1]);this.callback(e),this.close()}}class da extends P{constructor(e,t){super({title:"Add Chart",columns:2,footer:!0,width:380},{dataSource:e,callback:t})}init(e){const t=[];this.dataSource=e.dataSource,this.dataStore=e.dataSource.dataStore;for(let e in I.types){const n=I.types[e];let r=!0;if(n.required){for(let e of n.required)this.dataSource[e]||(r=!1);if(!r)continue}!1!==n.allow_user_add&&t.push({name:n.name,type:e})}t.sort(((e,t)=>e.name.localeCompare(t.name))),this.defaultType=t[0].type,(0,R.ut)("div",{text:"Chart Type",classes:["ciview-title-div"]},this.columns[0]),this.chartType=(0,R.ut)("select",{styles:{maxWidth:"200px"}});for(let e of t)(0,R.ut)("option",{text:e.name,value:e.type},this.chartType);(0,R.ut)("div",{},this.columns[0]).append(this.chartType),this.chartType.addEventListener("change",(t=>{this.setParamDiv(this.chartType.value,e.dataStore)})),(0,R.ut)("div",{text:"Title",classes:["ciview-title-div"]},this.columns[0]),this.chartName=(0,R.ut)("input",{styles:{width:"150px"}},this.columns[0]),(0,R.ut)("div",{text:"Description",classes:["ciview-title-div"]},this.columns[0]),this.chartDescription=(0,R.ut)("textarea",{styles:{width:"150px",height:"100px"}},this.columns[0]),(0,R.ut)("div",{text:"Columns",classes:["ciview-title-div"]},this.columns[1]),this.paramDiv=(0,R.ut)("div",{},this.columns[1]),this.setParamDiv(t[0].type,e.dataStore),(0,R.ut)("span",{text:"Add",classes:["ciview-button"]},this.footer).addEventListener("click",(()=>this.submit(e.callback)))}submit(e){const t={title:this.chartName.value,legend:this.chartDescription.value,type:this.chartType.value,param:this.paramSelects.map((e=>e.value))};this.multiColumns&&(t.param=t.param.concat(this.multiColumns));const n=I.types[this.chartType.value];n.init&&n.init(t,this.dataSource),e(t),this.chartName.value="",this.chartDescription.value="",this.chartType.value=this.defaultType,this.setParamDiv(this.defaultType)}_addMultiColumnSelect(e,t){const n=this.dataStore.getColumnList(t);let r="";n.length>1&&(r=`${n[0].name},... (1)`,this.multiColumns=[n[0].field]);const o=(0,R.ut)("span",{text:r},e);(0,R.ut)("i",{classes:["fas","fa-plus"]},e),e.style.cursor="pointer",e.addEventListener("click",(()=>{new ua(this.dataStore,(e=>{this.multiColumns=e;let t="";if(e.length>0){const n=e.length<3?e.length:3,r=[];for(let t=0;t<n;t++)r.push(this.dataStore.getColumnName(e[t]));t=r.join(","),e.length>3&&(t+=",...."),t+=`(${e.length})`,o.textContent=t}}),t)}))}setParamDiv(e){this.paramDiv.innerHTML="";const t=I.types[e].params;this.paramSelects=[];for(let e of t){const t=(0,R.ut)("div",{styles:{padding:"4px"}},this.paramDiv),n=((0,R.ut)("div",{text:e.name+":"},t),(0,R.ut)("div",{},this.paramDiv));if(e.type.startsWith("_multi"))this._addMultiColumnSelect(n,e.type.split(":")[1]);else{this.multiColumns=null;const t=(0,R.ut)("select",{styles:{maxWidth:"200px"}},n),r=this.dataStore.getColumnList(e.type);for(let e of r)(0,R.ut)("option",{text:e.name,value:e.field},t);this.paramSelects.push(t),this.dataStore.getLargeColumnGroups().length}}}}var ha=__webpack_require__(8424);function pa(e,t,n,r){e.dataStore.addListener("ss_listen",(o=>{"data_highlighted"===o&&function(e,t,n,r){const o=e.dataStore;if("sample_id"!==e.custom.main_pivot)return;const i=e.column_link_to.columns[1].link_to,a=o.getHighlightedData(),s=n.viewData.spatial_stats[e.name];a&&n._getColumnsThen(e.name,["sample_id","Cell Type 1","Cell Type 2"],(()=>{const e=o.getRowAsObject(a[0],["sample_id","Cell Type 1","Cell Type 2"]),l="ss_"+e.sample_id,c=n.getChart(l);if(!c){const o={opacity:s.show_points?.8:0,cats:s.show_density?[e["Cell Type 1"],e["Cell Type 2"]]:null};ma(e.sample_id,t,n,r,{color_by:i,id:l,details:o})}n._getColumnsThen("cells",[i],(()=>{c&&(s.show_density&&(c.config.category1=e["Cell Type 1"],c.config.category2=e["Cell Type 2"]),c.config.opacity=s.show_points?.8:0),n._ssfilter.filter("filterCategories",[i],[e["Cell Type 1"],e["Cell Type 2"]])}))}))}(e,t,n,r)}))}function ma(e,t,n,r,o={}){try{const i=r.images[e],a=i.map((e=>[e[0],`${t}/${e[1]}.png`,e[2],e[3],e[4],e[5]]));let s=i[0];if(r.default_image){const e=i.find((e=>e[0]===r.default_image));e&&(s=e)}const l=o.color_by||r.default_color_field,c={type:"density_scatter_plot",title:`${e}-${s[0]}`,background_filter:{column:"sample_id",category:e},color_legend:{display:!1},legend:"The backround image can be changed in the settings dialog (cog icon) .Also, the image can\n        be resized and moved by pressing ctrl amd zooiming or panning with the mouse",radius:3,param:r.position_fields.concat([l]),roi:{max_x:r.roi_sizes[e][0],max_y:r.roi_sizes[e][1]},background_image:{url:`${t}/${s[1]}.png`,position:[s[4],s[5]],width:s[2],height:s[3],name:s[0]},image_choices:a};o.color_by?c.color_by=o.color_by:r.default_color_field&&(c.color_by=r.default_color_field),o.id&&(c.id=o.id),o.size&&(c.size=o.size);const f=o.details;f&&(c.opacity=f.opacity,f.cats&&(c.category1=f.cats[0],c.category2=f.cats[1]),f.point_size&&(c.radius=f.point_size)),r.default_images&&r.default_images[e]&&(c.background_image=r.default_images[e]),n.addChart("cells",c,!0)}catch(e){console.log(e)}}function ga(e,t){t.addMenuIcon(e.name,"fas fa-chart-pie","Add Spatial Chart",(()=>{!function(e,t){const n=e.dataStore,r=n.getColumnList("text").filter((e=>!e.field.startsWith("Cell Type"))).map((e=>({text:e.name,value:e.field}))),o=e.custom.main_pivot,i=n.getColumnValues(o),a=e.custom.chart_types.map(((e,t)=>({value:t,text:e.name}))),s={title:"Add Spatial Chart",controls:[{label:"Parameter",type:"dropdown",id:"column",items:r,current_value:o,func:(e,t)=>{const r=n.getColumnValues(e).map((e=>({value:e,text:e})));t.changeDropDownContent("value",r)}},{label:"Show all Values",type:"checkbox",current_value:!1,id:"all_values"},{label:"Value",type:"dropdown",id:"value",items:i.map((e=>({value:e,text:e})))},{label:"Chart",type:"dropdown",id:"chart",items:a}],buttons:[{text:"Add Chart",method:n=>{const r=t.viewData.spatial_stats[e.name].celltypes_to_display,o=_a(e.custom.chart_types[n.chart],n.value,n.column,r,n.all_values);t.addChart(e.name,o)}}]};t.showCustomDialog(s)}(e,t)})),t.addMenuIcon(e.name,"fas fa-cog","Adjacency Plot Settings",(()=>{!function(e,t){const n=t.viewData.spatial_stats[e.name];let r=t.getDataSource("cells").getColumnValues(e.custom.main_pivot);r=r.map((e=>({text:e,value:e})));const o={title:"Adjacency Plot Settings",text:"",buttons:[{text:"Change ROI",method:n=>{!function(e,t,n){const r=n.dataStore.getColumnValues("Cell Type 1").length,o=80+8*r;t.removeAllCharts();const i=n.custom.main_pivot,a=va(n,o),s=t.viewData.spatial_stats[n.name].celltypes_to_display;for(let t in n.custom.default_charts){const r=n.custom.default_charts[t],l=_a(n.custom.chart_types[r],e,i,s);l.position=[10+t*(o+10),10],l.size=[o,o],a.push(l)}for(let e of a)t.addChart(n.name,e);t._getColumnsThen(n.name,[i],(()=>{if(n._ssfilter.filter("filterCategories",[i],[e]),"sample_id"===i){const o=t.viewData.spatial_stats[n.name],i="ss_"+e,a=n.column_link_to.columns[1].link_to,s={opacity:o.show_points?.8:0,cats:null,point_size:5};ma(e,t._urlbase,t,t.hyperion_config,{color_by:a,id:i,details:s,size:[500,500]});const l={title:a,type:"row_chart",param:a,size:[250,8*r+30],position:[520,10]};t.addChart("cells",l)}}))}(n.roi,t,e)}}],controls:[{type:"dropdown",label:"ROI to show",items:r,id:"roi"},{type:"checkbox",current_value:n.show_points,label:"Show Points",func:e=>{const r=t.getAllCharts("cells").filter((e=>e.config.id.startsWith("ss_")));n.show_points=e;for(let t of r){const n=e?.8:0;t.config.opacity=n,t.app.setPointOpacity(n),t.app.refresh()}}},{type:"checkbox",max:10,min:0,current_value:n.show_density,label:"Show Density Contours",func:r=>{n.show_density=r;const o=e.dataStore,i=o.getHighlightedData();if(!i)return;const a=o.getRowAsObject(i[0],["sample_id","Cell Type 1","Cell Type 2"]),s=t.getAllCharts("cells").filter((e=>e.config.id.startsWith("ss_")));for(let e of s)r?(e.config.category1=a["Cell Type 1"],e.config.category2=a["Cell Type 2"],e.onDataFiltered()):(e.removeCategory(1),e.removeCategory(2))}}]};t.showCustomDialog(o)}(e,t)})),t.addMenuIcon(e.name,"fas fa-project-diagram","Show Single Cell cell Interaction",(()=>{!function(e,t){const n=[...e.dataStore.getColumnValues("Cell Type 1")].sort().map((e=>({text:e,value:e}))),r={title:"Single Cell Cell Interaction",controls:[{label:"Cell Type 1",type:"dropdown",id:"ct1",items:n},{label:"Cell Type 2",type:"dropdown",id:"ct2",items:n}],buttons:[{text:"Change",method:n=>{!function(e,t,n,r){n.removeAllCharts();const o=va(r,300),i=r.custom.default_group_field,a=r.custom.default_group_chart_values;"sample_id"===r.custom.main_pivot&&o.push({type:"single_series_chart",categories:[e,t],param:[i,"Cell Type 1","Cell Type 2","sample_id",a],scale:[0,2],position:[10,10],title:a+" "+e+" "+t,size:[400,300]});const s=r.custom.average_pcf;let l=null;if(s){let o=n._urlbase.replace("images","");const i=r.dataStore.getColumnValues("Cell Type 1").indexOf(e),a=r.dataStore.getColumnValues("Cell Type 2").indexOf(t);o=o+r.name+"_pcf_av";const c=[];for(item of s.conditions)c.push([o+"/"+item[0]+"_"+i+"_"+a+".png",item[1]]);l={type:"image_box",images_per_row:s.images_per_row,image_size:s.image_size,images:c,size:[600,200],position:[420,10]}}n._getColumnsThen(r.name,["Cell Type 1","Cell Type 2"],(()=>{r._ssfilter.filter("filterMultipleCategories",["Cell Type 1","Cell Type 2"],[e,t]);for(let e of o)n.addChart(r.name,e);s&&n.addChart(r.name,l)}))}(n.ct1,n.ct2,t,e)}}]};t.showCustomDialog(r)}(e,t)})),t.addMenuIcon(e.name,"fas fa-viruses","Select Cell Types To Display",(()=>{!function(e,t){const n=e.dataStore.getColumnValues("Cell Type 1"),r=t.viewData.spatial_stats[e.name].celltypes_to_display;function o(e){return n.map((t=>{let n=!0;return e&&(n=-1!==e.indexOf(t)),{id:t,label:t,type:"checkbox",current_value:n}}))}const a={title:"Add Spatial Chart",maxHeight:400,controls:[{type:"checkboxgroup",label:"Cell Type 1",id:"ct1",checkboxes:o(r?r[0]:null)},{type:"checkboxgroup",label:"Cell Type 2",id:"ct2",checkboxes:o(r?r[1]:null)}],buttons:[{text:"OK",method:r=>{const o=[[],[]];let a=0;for(let e of["ct1","ct2"]){for(i of n)r[`${e}_${i}`]&&o[a].push(i);a++}o[0].length===n.length&&o[1].length===n.length?delete t.viewData.spatial_stats[e.name].celltypes_to_display:t.viewData.spatial_stats[e.name].celltypes_to_display=o}}]};t.showCustomDialog(a)}(e,t)}))}function _a(e,t,n,r,o){n||(n="sample_id");const i=e.type;let a={};return"pie"==i?a={type:"multi_pie_chart",param:["Cell Type 1","Cell Type 2",e.column,n],category:t,title:t}:"heatmap"===i?(a={type:"single_heat_map",param:["Cell Type 1","Cell Type 2",e.column,n],category:t,axis:{y:{textSize:13,label:"",size:80},x:{textSize:13,label:"",size:80,rotate_labels:!0}}},e.stat_cutoff&&(a.param.push(e.stat_cutoff),a.cutoff=.05),o&&(a.type="single_heat_map_group"),a.color_scale={min_max:e.scale}):"network"===i&&(a={type:"cell_network_chart",stat_cutoff:.05,param:[n,"Cell Type 1","Cell Type 2",e.column,e.stat_cutoff],category:t}),r&&(a.specific_only=[r[0],r[1]]),a}function va(e,t){const n=e.custom.pcf_charts;return[{type:"image_table_chart",param:[n.key_column],images:{base_url:n.base_url,type:"png"},id:"ss_image_plot",size:[800,320],image_width:300,title:"PCF plots",position:[10,t+20]},{title:"",legend:"",type:"table_chart",param:e.custom.default_table_columns,id:"W2LHAW",size:[800,320],column_widths:{},position:[820,t+20]}]}function ba(e,t,n){const r=t.getAllCharts("cells");for(let t of r){const r=t.config;if(r.background_filter&&"density_scatter_plot"===r.type){const t=e[r.background_filter.category],o=r.image_choices;for(let e of t)o.find((t=>t[0]===e[0]))||o.push([e[0],`${n}/${e[1]}.png`,e[2],e[3],e[4],e[5]])}}}function ya(e){return async t=>{const n=await fetch(`${e}/views.json`);return(await n.json())[t]}}function wa(e,t){const n={};for(let r of t)n[r.name]=new ka(`${e}/data/${r.name}.b`,r.size);return async(e,t,r)=>await n[t].getColumnData(e)}function xa(e,t){e.addToContextMenu=()=>[{text:"Set as Default Image",icon:"fas fa-file-image",func:()=>{const n=e.config,r=n.background_filter.category;t.default_images[r]=n.background_image}}]}async function Ca(e,t){t||(t={});let n={method:e,args:t};const r=await fetch("/meths/execute_project_action/"+project_id,{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json,text/plain,*/*","Content-Type":"application/json"}});return await r.json()}class ka{constructor(e,t){this.url=e,this.index=null,this.size=t}async getColumnData(e){if(!this.index){const e=this.url.replace(".b",".json"),t=await fetch(e);this.index=await t.json()}return await Promise.all(e.map((async e=>{const t=this.index[e.field],n=await fetch(this.url,{headers:{responseType:"arraybuffer",range:`bytes=${t[0]}-${t[1]}`}}),r=await n.arrayBuffer(),o=ha.ZP.inflate(r),i=new SharedArrayBuffer(o.length);return new Uint8Array(i).set(o,0),{data:i,field:e.field}})))}}!async function(e){const t={data:{},permission:"view"};let n=await fetch("project1/datasources.json");t.data.dataSources=await n.json(),n=await fetch("project1/state.json"),t.data.state=await n.json(),n=await fetch("project1/hyperion_config.json"),t.data.hyperion_config=await n.json(),function(e,t){let n=e.data.state;n.permission=e.permission,n.initialCharts&&(n.only_view={initialCharts:n.initialCharts},delete n.initialCharts),e.data.hyperion_config.default_images||(e.data.hyperion_config.default_images={});const r=new URLSearchParams(window.location.search).get("view");n.all_views&&r&&-1!==n.all_views.indexOf(r)&&(n.initial_view=r);const o={function:wa(t,e.data.dataSources),viewLoader:ya(t)},i=new class{constructor(e,t,n,r={},o=null){this.listeners={},this.infoAlerts={},this.progressBars={},this.theme="Light",this.dataSources=[],this.dsIndex={};for(const e of t){const t={name:e.name,dataStore:new Dt.ZP(e.size,{columns:e.columns,columnGroups:e.columnGroups}),link_to:e.link_to,index_link_to:e.index_link_to,color:e.color||fa[this.theme].background_color,images:e.images,genome_browser:e.genome_browser,column_link_to:e.column_link_to,custom:e.custom||{}};this.dataSources.push(t),this.dsIndex[e.name]=t,this._addDSListeners(t)}if(o&&this.addListener("_default",o),this.transactions={},this.columnsLoading={},this.containerDiv="string"==typeof e?document.getElementById(e):e,this.containerDiv.style.display="flex",this.containerDiv.style.flexDirection="column",this.menuBar=(0,R.ut)("div",{classes:["ciview-main-menu-bar"]},this.containerDiv),this.leftMenuBar=(0,R.ut)("span",{},this.menuBar),"edit"===r.permission&&(0,R.Eo)("fas fa-save",{tooltip:{text:"Save",position:"bottom-right"},func:()=>{const e=this.getState();this._callListeners("state_saved",e)}},this.leftMenuBar),r.all_views){this.viewSelect=(0,R.ut)("select",{},this.menuBar);for(let e of r.all_views)(0,R.ut)("option",{text:e,value:e},this.viewSelect);this.viewSelect.addEventListener("change",(e=>{this.showSaveViewDialog((()=>this.changeView(this.viewSelect.value)))}))}"edit"===r.permission&&r.all_views&&(0,R.Eo)("fas fa-plus",{tooltip:{text:"Create New View",position:"bottom-right"},func:()=>{this.showSaveViewDialog((()=>this.showAddViewDialog()))}},this.menuBar),(0,R.Eo)("fas fa-palette",{tooltip:{text:"Change Color Scheme",position:"bottom-right"},func:()=>{new ca(this)}},this.menuBar),(0,R.Eo)("fas fa-adjust",{tooltip:{text:"Change Theme",position:"bottom-right"},func:e=>{this.themeMenu.show(e)}},this.menuBar),this._setupThemeContextMenu(),this.contentDiv=(0,R.ut)("div",{styles:{flex:"1 1 auto",position:"relative"}},this.containerDiv),this.charts={},this.config=r;const i=this.config;if(i.chart_color=i.chart_color||"white",this.dataLoader=n.function,this.viewLoader=n.viewLoader,n.files){this.filesToLoad=n.files.length;for(let e of n.files)this.loadFile(e,(()=>{this.filesToLoad--,0===this.filesToLoad&&this._loadView(r,n)}))}else this._loadView(r,n)}_setupThemeContextMenu(){this.themeMenu=new M((()=>{const e=[];for(let t in fa)e.push(this.__getMenuItem(t));return e}))}__getMenuItem(e){return{text:e,ghosted:this.theme===e,func:()=>this.setTheme(e)}}setTheme(e){this.theme=e;for(let t of this.dataSources)t.contentDiv&&(t.contentDiv.style.background=fa[e].background_color);for(let e in this.charts)this._setChartTheme(this.charts[e].chart)}_setChartTheme(e){const t=fa[this.theme];e.contentDiv.style.background=t.main_panel_color,e.contentDiv.style.color=t.text_color,e.titleBar.style.background=t.title_bar_color,e.titleBar.style.color=t.text_color,e.themeChanged&&e.themeChanged()}_sync_colors(e,t){const n=t.column_link_to.columns;for(let r of n){const n=e.dataStore.columnIndex[r.link_to],o=t.dataStore.columnIndex[r.col],i=new Array(o.values),a=e.dataStore.getColumnColors(r.link_to);for(let e=0;e<n.values.length;e++){const t=n.values[e],r=o.values.indexOf(t);-1!==r&&(i[r]=a[e])}o.colors=i}}_loadView(e,t){e.initial_view?(this.currentView=e.initial_view,this.viewSelect.value=e.initial_view,t.viewLoader(e.initial_view).then((e=>{this._init(e)}))):this._init(e.only_view)}getDataSource(e){return this.dsIndex[e].dataStore}_init(e){const t=[];let n=[];if(e){this.viewData=e,n=e.initialCharts;for(let e in n)t.push(e)}else{for(let e in this.dsIndex)t.push(e);this.viewData={}}for(let e of this.dataSources)e.column_link_to&&this._sync_colors(this.dsIndex[e.column_link_to.dataSource],e);const r=fa[this.theme].background_color,o=(0,R.Ni)(this.contentDiv,{number:t.length});for(let e=0;e<t.length;e++){const n=o[e];n.style.display="flex",n.style.flexDirection="column";const i=this.dsIndex[t[e]];this.columnsLoading[i.name]={},i.charts=[],i.menuBar=(0,R.ut)("div",{classes:["ciview-menu-bar"]},n),this._setUpMenu(i),i.contentDiv=(0,R.ut)("div",{styles:{flex:"1 1 auto",position:"relative",overflow:"auto",background:r}},n)}this._toLoadCharts=new Set;for(let e in n)for(let t of n[e])this._toLoadCharts.add(t);0==this._toLoadCharts.size&&(delete this._toLoadCharts,this._callListeners("view_loaded",this.currentView));for(let e in n)for(let t of n[e])this.addChart(e,t)}_addDSListeners(e){e.dataStore.addListener("l1",((t,n)=>{if("column_removed"===t)this._columnRemoved(e,n);else if("data_highlighted"===t)this._callListeners(t,n);else if("filtered"===t){if(!this.progressBars[e.name])return;e.dataStore.size;const t=e.dataStore.filterSize;this.progressBars[e.name].setValue(t),this.progressBars[e.name].setText(t)}}))}showAddViewDialog(){const e=[{type:"checkbox",id:"clone-view",label:"Clone current view"},{type:"text",id:"name",label:"name"}];if(this.dataSources.length>1)for(let t of this.dataSources)e.push({type:"checkbox",id:t.name,label:`Include ${t.name}`});new No({title:"Add New View",controls:e,buttons:[{text:"Create New View",method:e=>{if((0,R.ut)("option",{text:e.name,value:e.name},this.viewSelect),this.viewSelect.value=e.name,this.currentView=e.name,e["clone-view"]){const e=this.getState();this._callListeners("state_saved",e)}else{this.removeAllCharts(),this.viewData.links=[];const t=this.getState(),n=t.view.initialCharts;for(let t in this.dsIndex)e[t]&&(n[t]=[]);this._callListeners("state_saved",t),this.contentDiv.innerHTML="",this._init(t.view)}}}]})}showSaveViewDialog(e){new No({title:"Save View",text:"Do you want to save the current view",buttons:[{text:"YES",method:()=>{const t=this.getState();this._callListeners("state_saved",t),e()}},{text:"NO",method:()=>{e()}}]})}changeView(e){this.removeAllCharts(),this.contentDiv.innerHTML="",this.currentView=e,this.viewLoader(e).then((e=>{this._init(e)}))}_columnRemoved(e,t){const n=[];for(let r in this.charts){const o=this.charts[r];if(o.dataSource===e){const e=o.chart,i=e.getDiv();e.onColumnRemoved(t)&&(i.remove(!1),n.push(r),this._removeLinks(e),this._callListeners("chart_removed",e))}}n.length>0&&e.dataStore._callListeners("filtered");for(let e of n)delete this.charts[e]}_getColumnsRequiredForChart(e,t){const n=e.param;if(n){if("string"==typeof n)t.add(n);else for(let e of n)t.add(e);e.color_by&&(e.color_by.column?t.add(e.color_by.column.field):t.add(e.color_by)),e.tooltip&&e.tooltip.column&&t.add(e.tooltip.column),e.background_filter&&t.add(e.background_filter.column),e.offsets&&t.add(e.offsets.param)}}loadFile(e,t){const n={csv:oa,json:sa,tsv:ia},r=this.createInfoAlert("loading file",{spinner:!0});n[e.type](e.url).then((n=>{const o={},i=e.dataSource,a=this.dsIndex[i].dataStore,s=a.getAllColumns();for(let e of n.columns)a.columnIndex[e]&&(o[e]=[]);for(let e=0;e<n.length;e++){const t=n[e];e+1===0&&this.updateInfoAlert(r,`processed ${e}/${n.length} rows`);for(let e in o)o[e].push(t[e])}let l=0;for(let e in o)a.setColumnData(e,o[e]),l++,this.updateInfoAlert(r,`processed ${l}/${s.length} columns`);this.updateInfoAlert(r,"complete",{duration:2e3}),t&&t()}))}_getUpdatedColumns(e){const t=e.dirtyColumns,n={columns:[],added:[],removed:[],colors_changed:[]};for(let e in t.added){const t=r(e);n.columns.push(t),n.added.push(e)}for(let e in t.removed)n.removed.push(e);for(let e in t.data_changed)if(!n.columns[e]){const t=r(e);n.columns.push(t)}for(let r in t.colors_changed)n.colors_changed.push({column:r,colors:e.columnIndex[r].colors});return n;function r(t){const n=e.columnIndex[t],r={values:n.values,datatype:n.datatype,name:n.name,editable:!0,field:n.field},o=new Array(n.data.length);for(let e=0;e<n.data.length;e++)o[e]=n.data[e];return{metadata:r,data:o}}}getState(){const e={},t={};for(const n of this.dataSources)e[n.name]=[],t[n.name]=this._getUpdatedColumns(n.dataStore);for(let t in this.charts){const n=this.charts[t],r=n.chart,o=r.getConfig(),i=r.getDiv();o.position=[i.offsetLeft,i.offsetTop],e[n.dataSource.name].push(o)}for(let t in this.dsIndex)0===e[t].length&&delete e[t];const n=JSON.parse(JSON.stringify(this.viewData));return n.initialCharts=e,{view:n,currentView:this.currentView,updatedColumns:t}}setAllColumnsClean(){for(let e of this.dataSources)e.dataStore.setAllColumnsClean()}showCustomDialog(e){new No(e)}addMenuIcon(e,t,n,r){const o="_main"===e?"bottom-right":"bottom",i="_main"===e?this.leftMenuBar:this.dsIndex[e].menuBar;(0,R.Eo)(t,{tooltip:{text:n,position:o},func:r},i)}createInfoAlert(e,t={}){let n=(0,D.z)();const r=Object.keys(this.infoAlerts).length;t.type=t.type||"info";const o=(0,R.ut)("div",{classes:["ciview-info-alert","ciview-alert-"+t.type],styles:{right:"10px",top:50+40*r+"px"}},this.containerDiv);let i=null;const a=(0,R.ut)("span",{text:e},o);return t.spinner&&(i=(0,R.ut)("i",{classes:["fas","fa-spinner","fa-spin","ciview-info-alert-spin"]},o)),this.infoAlerts[n]={div:o,text:a,spinner:i,type:t.type},t.duration&&this.removeInfoAlert(n,t.duration),n}updateInfoAlert(e,t,n={}){const r=this.infoAlerts[e];n.type&&r.type!==n.type&&(r.div.classList.remove("ciview-alert-"+r.type),r.div.classList.add("ciview-alert-"+n.type),r.type=n.type),r.text.textContent=t,n.duration&&this.removeInfoAlert(e,n.duration)}removeInfoAlert(e,t=2e3){const n=this.infoAlerts[e].spinner;n&&n.remove(),setTimeout((()=>{this.infoAlerts[e].div.remove(),delete this.infoAlerts[e];let t=50;for(let e in this.infoAlerts)this.infoAlerts[e].div.style.top=t+"px",t+=40}),t)}loadColumnSet(e,t,n,r=10,o=2){const i=this.dsIndex[t].dataStore;let a=e.filter((e=>!i.columnIndex[e]));a.length>0?this.config.metaDataLoader(t,a).then((a=>{for(let e of a)i.addColumn(e);this._loadColumnSet(e,t,n,r,o)})):this._loadColumnSet(e,t,n,r,o)}_loadColumnSet(e,t,n,r=10,o=2){const i=(0,D.z)();this.transactions[i]={callback:n,columns:[],totalColumns:e.length,failedColumns:[],nextColumn:0,columnsLoaded:0,id:i};let a=[];const s=this.transactions[i];for(let n of e)this.columnsLoading[t][n]=!0,a.push(n),a.length===r&&(s.columns.push(a),a=[]);0!==a.length&&(s.columns.push(a),a=[]),s.alertID=this.createInfoAlert(`Loading Columns:0/${e.length}`,{spinner:!0});const l=Math.min(s.columns.length,o);for(let e=0;e<l;e++)this._loadColumnData(s,t)}_loadColumnData(e,t){const n=this.dsIndex[t].dataStore,r=e.columns[e.nextColumn++],o=[];for(let e of r)o.push(n.getColumnInfo(e));o.sort(((e,t)=>("double"===e.datatype||"integer"===e.datatype?0:1)-("double"===t.datatype||"integer"===t.datatype?0:1))),this.dataLoader(o,t,n.size).then((t=>{for(let e of t)n.setColumnData(e.field,e.data);e.columnsLoaded++})).catch((t=>{console.log(t),e.columnsLoaded++,e.failedColumns.push(o)})).finally((()=>{const n=e.columns.length,o=e.columnsLoaded;let i=o*r.length;for(let e of r)delete this.columnsLoading[t][e];i=i>e.totalColumns?e.totalColumns:i,this.updateInfoAlert(e.alertID,`Loading Columns:${i}/${e.totalColumns}`),o>=n&&(this.updateInfoAlert(e.alertID,`Loaded ${n} column${1===n?"":"s"}`,{duration:2e3}),e.callback(e.failedColumns),delete this.transactions[e.id]),e.nextColumn<n&&this._loadColumnData(e,t)}))}_setUpMenu(e){(0,R.Eo)("fas fa-chart-bar",{tooltip:{text:"Add Chart",position:"bottom-right"},func:()=>{new da(e,(t=>this.addChart(e.name,t,!0)))}},e.menuBar),(0,R.Eo)("fas fa-sync-alt",{tooltip:{text:"Reset All Filters",position:"bottom-right"},func:()=>{e.dataStore.removeAllFilters()}},e.menuBar),e.link_to&&(0,R.Eo)("fas fa-link",{tooltip:{text:`Link (add) data to ${e.link_to.dataSource} panel`,position:"bottom-right"},func:()=>{new la(this,e)}},e.menuBar);const t=(0,R.ut)("div",{styles:{float:"right",lineHeight:"1.0"}},e.menuBar);(0,R.ut)("span",{text:e.name,styles:{verticalAlign:"top",fontSize:"16px",marginRight:"4px"}},t);const n=e.dataStore.size;e.filterBar=(0,R.ut)("progress",{value:n},e.menBar);const r=(0,R.ut)("div",{styles:{width:"100px",display:"inline-block",marginTop:"2px"}},t),o={max:n,value:n,text:`${n}`};this.progressBars[e.name]=new R.Vq(r,o)}addListener(e,t){this.listeners[e]=t}removeListener(e){delete this.listeners[e]}_callListeners(e,t){for(let n in this.listeners)this.listeners[n](e,this,t)}addChart(e,t,n=!1){const r=new Set;if(this._getColumnsRequiredForChart(t,r),t.location){const e=t.location,n=5;t.size=[90*e.width+e.width*n-n,40*e.height+e.height*n-n],t.position=[(e.x+1)*n+90*e.x,(e.y+1)*n+40*e.y]}const o=this.dsIndex[e];let i=300,a=300,s=10,l=10;t.size&&(i=t.size[0],a=t.size[1]),t.position&&(s=t.position[0],l=t.position[1]),I.types[t.type];const c=fa[this.theme],f=(0,R.ut)("div",{styles:{position:"absolute",width:i+"px",height:a+"px",left:s+"px",top:l+"px",background:c.main_panel_color,zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},o.contentDiv);(0,R.ut)("i",{classes:["fas","fa-circle-notch","fa-spin"],styles:{fontSize:"30px",color:c.text_color}},f),(0,R.ut)("div",{styles:{position:"absolute",overflow:"hide",textAlign:"center",top:"3px",color:c.text_color,textOverflow:"ellipsis",fontSize:"18px"},text:t.title},f),this._getColumnsThen(e,Array.from(r),(()=>{this._addChart(e,t,f,n)}))}_getColumnsThen(e,t,n){const r=this.dsIndex[e].dataStore,o=t.filter((t=>{if(this.columnsLoading[e][t])return!1;const n=r.columnIndex[t];return n?!n.data:(r.addColumnFromField(t),!0)}));0===o.length?this._haveColumnsLoaded(t,e,n):this.loadColumnSet(o,e,(()=>{this._haveColumnsLoaded(t,e,n)}))}_decorateColumnMethod(e,t,n){const r="_"+e;t[r]=t[e],t[e]=e=>{this._getColumnsThen(n,[e],(()=>t[r](e)))}}_haveColumnsLoaded(e,t,n){for(let r of e)if(this.columnsLoading[t][r])return void setTimeout((()=>{this._haveColumnsLoaded(e,t,n)}),500);n()}_addChart(e,t,n,r=!1){const o=this.dsIndex[e];n.innerHTML="",n.style.display="",n.style.alignItems="",n.style.justifyContent="";const i=new I.types[t.type].class(o.dataStore,n,t);this._setChartTheme(i),this.charts[i.config.id]={chart:i,dataSource:o},this._makeChartRD(i,o),i.popoutIcon=i.addMenuIcon("fas fa-external-link-alt","popout",{func:()=>{this._popOutChart(i,o.contentDiv)}}),i.addMenuIcon("fas fa-trash","remove chart").addEventListener("click",(()=>{i.remove(),n.remove(),delete this.charts[i.config.id],this._removeLinks(i),this._callListeners("chart_removed",i)})),i.colorByColumn&&this._decorateColumnMethod("colorByColumn",i,e),i.setToolTipColumn&&this._decorateColumnMethod("setToolTipColumn",i,e),i.setBackgroundFilter&&this._decorateColumnMethod("setBackgroundFilter",i,e),i.changeContourCategory&&this._decorateColumnMethod("changeContourParameter",i,e);const a=o.index_link_to;if(i.createIndexLinks&&a){const e=(e,t)=>{e.push(a.index),this._getColumnsThen(a.dataSource,e,t)};i.createIndexLinks(this.dsIndex[a.dataSource].dataStore,a.index,e)}const s=o.column_link_to;if(s&&i.createColumnLinks){const e=(e,t)=>{this._getColumnsThen(s.dataSource,e,t)};i.createColumnLinks(this.dsIndex[s.dataSource].dataStore,s.columns,e)}if(r&&this._callListeners("chart_added",i),this._toLoadCharts&&(this._toLoadCharts.delete(t),0===this._toLoadCharts.size)){if(delete this._toLoadCharts,this.viewData.links)for(let e of this.viewData.links)this._setUpLink(e);this._callListeners("view_loaded",this.currentView)}return i}_setUpLink(e){switch(e.id||(e.id=(0,D.z)()),e.type){case"color_by_column":this.charts[e.source_chart].chart.addListener(e.id,((t,n)=>{if("cell_clicked"===t)for(let t of e.target_charts)this.getChart(t).colorByColumn(n.row)}))}}_removeLinks(e){const t=[],n=e.config.id,r=this.viewData.links;if(r){for(let e=0;e<r.length;e++){const o=r[e];o.source_chart===n&&t.push(e);const i=o.target_charts.indexOf(n);-1!==i&&(o.target_charts.splice(i,1),0===o.target_charts.length&&t.push(e))}for(let e of t)this.removeLink(e)}}removeLink(e){const t=this.viewData.links[e];switch(t.type){case"color_by_column":this.charts[t.source_chart].chart.removeListener(t.id)}this.viewData.links.splice(e,1)}removeAllCharts(){const e=[];for(let t in this.charts){const n=this.charts[t];e.push([n.chart,n.window])}for(let t of e)t[1]&&t[1].close(),t[0].remove(),t[0].div.remove();this.charts={}}getAllFilters(e){const t=this.getAllCharts(e),n=[];for(let e of t){const t=e.getFilter();t&&n.push(t)}return n}getChart(e){const t=this.charts[e];return t?t.chart:null}getAllCharts(e){const t=[];for(let n in this.charts){const r=this.charts[n];r.dataSource.name===e&&t.push(r.chart)}return t}setChartsAsGrid(e=5,t=[300,300],n=10){let r=n,o=n,i=0;for(let a in this.charts){const s=this.charts[a].chart.getDiv();s.style.left=o+"px",s.style.top=r+"px",o+=t[0]+n,i++,i===e&&(i=0,o=n,r+=t[1]+n)}}addButton(e,t,n){(0,R.ut)("span",{classes:["ciview-button"],text:e,styles:{position:"fixed",bottom:"40px",right:"40px",fontSize:"18px",zIndex:100}},this.contentDiv).addEventListener("click",(()=>t()))}_popOutChart(e){const t=e.getDiv(),n=this.charts[e.config.id],r={dim:[e.config.size[0],e.config.size[1]],pos:[t.style.left,t.style.top]};(0,R.P_)(t),(0,R.EA)(t);const o=new jo(((n,r)=>{e.setSize(r.width,r.height),t.style.top="5px",t.style.left="5px",n.body.append(t),e.changeBaseDocument(n),n.body.style.overflow="hidden",e.popoutIcon.style.display="none"}),((o,i)=>{n.dataSource.contentDiv.append(t),e.changeBaseDocument(document),t.style.left=r.pos[0],t.style.top=r.pos[1],e.setSize(r.dim[0],r.dim[1]),this._makeChartRD(e),e.popoutIcon.style.display="inline",delete n.window}),{onresize:(t,n)=>{e.setSize(n.width,n.height)},url:this.config.popouturl||"/"});n.window=o}_sendAllChartsToBack(e){for(let t in this.charts){const n=this.charts[t];e===n.dataSource&&(n.chart.div.style.zIndex="")}}_makeChartRD(e,t){const n=e.getDiv();(0,R.$q)(n,{handle:".ciview-chart-title",contain:"topleft",ondragstart:e=>{this._sendAllChartsToBack(t),n.style.zIndex=2}}),(0,R.n2)(n,{onresizeend:(t,n)=>e.setSize(t,n)})}}("app-holder",e.data.dataSources,o,n,((t,n,r)=>{!function(e,t,n,r){switch(e){case"state_saved":const e=r.data.hyperion_config;n.default_images=e.default_images||{},Ca("save_state",{state:n}).then((e=>{e.success?t.createInfoAlert("Data Saved",{duration:2e3}):t.createInfoAlert("UnableToSaveData",{duration:3e3,type:"danger"})}));break;case"view_loaded":!function(e,t){const n=new URL(window.location);n.searchParams.has(e)?n.searchParams.set(e,t):n.searchParams.append(e,t),n.search=n.searchParams,n.toString(),history.pushState({},null,n)}("view",t.currentView),function(e,t){const n=t.data.hyperion_config;if(n){const r=e.getAllCharts("cells").filter((e=>e.config.background_image));for(let e of r)xa(e,n);const o=`/data/${t.genome}/projects/${t.id}/images`;e.addMenuIcon("cells","far fa-image","Add sample scatterplot with image",(()=>{const t=[];for(let e in n.images)t.push({text:e,value:e});e.showCustomDialog({title:"Add Image Scatter Plot",text:"Select Sample:",controls:[{label:"",id:"samples",type:"dropdown",items:t}],buttons:[{text:"Add",method:t=>ma(t.samples,o,e,n)}]})})),e.addMenuIcon("cells","fas fa-file-upload","upload image",(()=>{!function(e,t,n){const r="/meths/execute_project_action/"+project_id,o={method:"upload_images",args:{}};new scFileUploadDialog({url:r,onupload:()=>o,onfinished:r=>{const o=r.data;for(let e in o){let n=t[e];if(n)for(let t of o[e])n.find((e=>e[0]===t[0]))||n.push(t);else t[e]=o[e]}ba(t,e,n)}})}(e,n.images,o)})),e.addMenuIcon("cells","far fa-images","bulk manipulate images",(()=>{!function(e,t){let n=e.getAllCharts("cells");n=n.filter((e=>e.config.background_filter&&"density_scatter_plot"===e.config.type));const r=n[0].config;let o=e.dsIndex.cells.dataStore.getColumnList();o=o.map((e=>({text:e.name,value:e.field}))),o.push({text:"None",value:"_none"});const i=new Set;for(let e in t.images)for(let n of t.images[e])i.add(n[0]);const a=[];for(let e of i)a.push({text:e,value:e});const s={title:"Bulk Alter Image Plots",text:"",controls:[{type:"slider",max:1,min:0,current_value:r.opacity,label:"Point Opacity",func:e=>{for(let t of n)t.config.opacity=e,t.app.setPointOpacity(e),t.app.refresh()}},{type:"slider",max:10,min:0,current_value:r.radius,label:"Point Size",func:e=>{for(let t of n)t.config.radius=e,t.app.setPointRadius(e),t.app.refresh()}},{label:"Color By",type:"dropdown",items:o,current_value:r.color_by||"_none",func:e=>{for(let t of n)"_none"===e?(delete t.config.color_by,t.colorByDefault()):(t.config,color_by=e,t.colorByColumn(e))}},{type:"dropdown",current_value:r.background_image.name,items:a,label:"Change Image",func:e=>{for(let t of n){const n=t.config;let r=n.title.split("-")[0],o=null;for(let t of n.image_choices)if(t[0]===e){o=t;break}o&&(n.background_image.url=o[1],n.background_image.name=o[0],o[2]&&(n.background_image.width=o[2],n.background_image.height=o[3],n.background_image.position=[o[4],o[5]]),t.setTitle(r+"-"+o[0]),t.addBackgroundImage(n.background_image,!0))}}}]};e.showCustomDialog(s)}(e,n)})),e.addMenuIcon("cells","far fa-chart-bar","Add cell abundance chart",(()=>{!function(e,t){const n={},r=e.getDataSource("cells"),o=r.getColumnList("text").map((e=>({text:e.name,value:e.field}))),i=r.getColumnList("text").map((e=>({text:e.name,value:e.field}))),a=r.getColumnValues(i[0].value).map((e=>({text:e,value:e})));for(let e in t.roi_sizes){const r=t.roi_sizes[e];n[e]=r[0]*r[1]/1e6}const s={type:"custom_box_plot",denominators:n,axis:{y:{label:"cells / mm2"}}};e.getDataSource("cells");const l=[{label:"Groups (X axis)",type:"dropdown",id:"p1",items:o},{label:"Selection Column",type:"dropdown",id:"p3",items:i,func:(e,t)=>{const n=r.getColumnValues(e).map((e=>({value:e,text:e})));t.changeDropDownContent("value",n)}},{label:"Value",type:"dropdown",id:"value",items:a}];e.showCustomDialog({title:"Add Abundance Chart",controls:l,buttons:[{text:"Add Chart",method:t=>{s.param=[t.p1,"sample_id",t.p3],s.category=t.value,s.title=t.value,e.addChart("cells",s)}}]})}(e,n)})),n.avivator&&e.addMenuIcon("cells","fas fa-sliders-h","Add Avivator Chart",(()=>{!function(e,t){const n=t.avivator.ome_tiff_files,r=e._urlbase+"/",o=[];for(let e in n)o.push({text:e,value:e});const i={title:"Add Channel",controls:[{label:"ROI",type:"dropdown",id:"dd1",items:o}],buttons:[{text:"Add",method:o=>{!function(e,t,n){const r=t.avivator.defaults,o=t.default_color_field,i={type:"viv_scatter_plot",title:n.roi,background_filter:{column:"sample_id",category:n.roi},color_legend:{display:!1},radius:3,trim_color_scale:"0.01",color_by:o,param:t.position_fields.concat([o]),roi:{max_x:t.roi_sizes[n.roi][0],max_y:t.roi_sizes[n.roi][1]},viv:{image_properties:r,url:n.image}};e.addChart("cells",i,!1)}(e,t,{roi:o.dd1,image:r+n[o.dd1]})}}]};e.showCustomDialog(i)}(e,n)})),e._ssfilter&&e._ssfilter.removeFilter(!1);let i=e.viewData.spatial_stats;i||(i={},e.viewData.spatial_stats=i);for(let t in e.dsIndex){const n=e.dsIndex[t];n.custom.spatial_stats&&!i[n.name]&&(i[n.name]={show_points:!0,show_density:!1})}for(let t in e.dsIndex){const n=e.dsIndex[t];n.custom.spatial_stats&&e.viewData.initialCharts[n.name]&&ga(n,e)}ba(n.images,e,o)}}(t,r);break;case"chart_added":const o=n;if(o.config.type.endsWith("_scatter_plot")){o.config.trim_color_scale="0.01";const e=r.data.hyperion_config.default_color_field;!o.config.color_by&&e&&o.colorByColumn(e)}o.config.background_image&&xa(o,r.data.hyperion_config)}}(t,n,r,e)}));i.addMenuIcon("_main","fas fa-cogs","re-cluster selected cells",(()=>function(e,t){const n=e.getDataSource("cells"),r=e.getAllFilters("cells");let o="The data will be reclustered using only the currently filtered cells and the markers selected below<br>";o+=0===r.length?"<b>No Filters</b><br>":"<b>Current Filters<b>:<br>";const i=t.all_markers||n.getColumnGroup("Markers"),a=i.map((e=>({id:e,label:e,type:"checkbox",current_value:!0}))),s=[["All","all"]];if(t.clustering)for(c in t.clustering)s.push([c,c]);for(let e of r)for(let t in e){const r=n.columnIndex[t];"text"!=r.datatype&&(e[t]=e[t].map((e=>e.toPrecision(4)))),o+=`${r.name}:${e[t].join("text"===r.datatype?",":"-")}<br>`}o+="<b>Number of Cells<b>:"+n.filterSize,e.showCustomDialog({text:o,title:"Re-Cluster",maxHeight:400,buttons:[{text:"submit",method:t=>{const r=[];for(let e in t)-1!==i.indexOf(e)&&t[e]&&r.push(e);!function(e,t,n,r){r._getColumnsThen("cells",["sample_id"],(()=>{const o=n.getFilter(),i=[],a=n.columnIndex.sample_id.data,s=new Set;for(let e=0;e<o.length;e++)0===o[e]&&(s.add(a[e]),i.push(e));Ca("recluster",{ids:i,name:t,markers:e,filters:r.getAllFilters("cells"),samples:Array.from(s)}).then((e=>{const t=e.success?"Your Clustering job has been queued - You will receive an email when it is complete":"There was a problem, please contact an administrator";r.showCustomDialog({title:"Message",text:t})}))}))}(r,t.name,n,e)}}],controls:[{type:"text",label:"Name",description:"A short memorable label that will used as a prefix for views and columns",id:"name"},{type:"radiobuttons",choices:s,label:"Markers",id:"mcs",func:(e,n)=>{for(let r of i){const o=n.controls[r];val=!0,"all"!==e&&(val=-1!==t.clustering[e].markers.indexOf(r)),o.checked=val,n.controlValues[r]=val}}}].concat(a)})}(i,e.data.hyperion_config))),i._ssfilter=_cm.dsIndex.cells.dataStore.getDimension("category_dimension");const a="project1/images";i._urlbase=a,i.hyperion_config=e.data.hyperion_config;for(let t in i.dsIndex){const n=i.dsIndex[t];n.custom.spatial_stats&&(pa(n,a,i,e.data.hyperion_config),n._ssfilter=n.dataStore.getDimension("category_dimension"))}}(t,e)}("project1")})()})();